(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var np={exports:{}},eu={};var H0;function yx(){if(H0)return eu;H0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:i,type:s,key:c,ref:a!==void 0?a:null,props:l}}return eu.Fragment=e,eu.jsx=t,eu.jsxs=t,eu}var q0;function _x(){return q0||(q0=1,np.exports=yx()),np.exports}var S=_x(),ip={exports:{}},Ae={};var F0;function vx(){if(F0)return Ae;F0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function x(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,U={};function Q(P,W,ae){this.props=P,this.context=W,this.refs=U,this.updater=ae||k}Q.prototype.isReactComponent={},Q.prototype.setState=function(P,W){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,W,"setState")},Q.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function J(){}J.prototype=Q.prototype;function ie(P,W,ae){this.props=P,this.context=W,this.refs=U,this.updater=ae||k}var oe=ie.prototype=new J;oe.constructor=ie,z(oe,Q.prototype),oe.isPureReactComponent=!0;var de=Array.isArray;function pe(){}var N={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function R(P,W,ae){var ue=ae.ref;return{$$typeof:i,type:P,key:W,ref:ue!==void 0?ue:null,props:ae}}function O(P,W){return R(P.type,W,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function V(P){var W={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ae){return W[ae]})}var I=/\/+/g;function ge(P,W){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):W.toString(36)}function ze(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(pe,pe):(P.status="pending",P.then(function(W){P.status==="pending"&&(P.status="fulfilled",P.value=W)},function(W){P.status==="pending"&&(P.status="rejected",P.reason=W)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function $(P,W,ae,ue,Te){var Ie=typeof P;(Ie==="undefined"||Ie==="boolean")&&(P=null);var Be=!1;if(P===null)Be=!0;else switch(Ie){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(P.$$typeof){case i:case e:Be=!0;break;case _:return Be=P._init,$(Be(P._payload),W,ae,ue,Te)}}if(Be)return Te=Te(P),Be=ue===""?"."+ge(P,0):ue,de(Te)?(ae="",Be!=null&&(ae=Be.replace(I,"$&/")+"/"),$(Te,W,ae,"",function(Vs){return Vs})):Te!=null&&(D(Te)&&(Te=O(Te,ae+(Te.key==null||P&&P.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+Be)),W.push(Te)),1;Be=0;var Lt=ue===""?".":ue+":";if(de(P))for(var lt=0;lt<P.length;lt++)ue=P[lt],Ie=Lt+ge(ue,lt),Be+=$(ue,W,ae,Ie,Te);else if(lt=x(P),typeof lt=="function")for(P=lt.call(P),lt=0;!(ue=P.next()).done;)ue=ue.value,Ie=Lt+ge(ue,lt++),Be+=$(ue,W,ae,Ie,Te);else if(Ie==="object"){if(typeof P.then=="function")return $(ze(P),W,ae,ue,Te);throw W=String(P),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Be}function re(P,W,ae){if(P==null)return P;var ue=[],Te=0;return $(P,ue,"","",function(Ie){return W.call(ae,Ie,Te++)}),ue}function fe(P){if(P._status===-1){var W=P._result;W=W(),W.then(function(ae){(P._status===0||P._status===-1)&&(P._status=1,P._result=ae)},function(ae){(P._status===0||P._status===-1)&&(P._status=2,P._result=ae)}),P._status===-1&&(P._status=0,P._result=W)}if(P._status===1)return P._result.default;throw P._result}var ke=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},qe={map:re,forEach:function(P,W,ae){re(P,function(){W.apply(this,arguments)},ae)},count:function(P){var W=0;return re(P,function(){W++}),W},toArray:function(P){return re(P,function(W){return W})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ae.Activity=v,Ae.Children=qe,Ae.Component=Q,Ae.Fragment=t,Ae.Profiler=a,Ae.PureComponent=ie,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(P){return N.H.useMemoCache(P)}},Ae.cache=function(P){return function(){return P.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(P,W,ae){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ue=z({},P.props),Te=P.key;if(W!=null)for(Ie in W.key!==void 0&&(Te=""+W.key),W)!C.call(W,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&W.ref===void 0||(ue[Ie]=W[Ie]);var Ie=arguments.length-2;if(Ie===1)ue.children=ae;else if(1<Ie){for(var Be=Array(Ie),Lt=0;Lt<Ie;Lt++)Be[Lt]=arguments[Lt+2];ue.children=Be}return R(P.type,Te,ue)},Ae.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Ae.createElement=function(P,W,ae){var ue,Te={},Ie=null;if(W!=null)for(ue in W.key!==void 0&&(Ie=""+W.key),W)C.call(W,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=W[ue]);var Be=arguments.length-2;if(Be===1)Te.children=ae;else if(1<Be){for(var Lt=Array(Be),lt=0;lt<Be;lt++)Lt[lt]=arguments[lt+2];Te.children=Lt}if(P&&P.defaultProps)for(ue in Be=P.defaultProps,Be)Te[ue]===void 0&&(Te[ue]=Be[ue]);return R(P,Ie,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(P){return{$$typeof:d,render:P}},Ae.isValidElement=D,Ae.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:fe}},Ae.memo=function(P,W){return{$$typeof:g,type:P,compare:W===void 0?null:W}},Ae.startTransition=function(P){var W=N.T,ae={};N.T=ae;try{var ue=P(),Te=N.S;Te!==null&&Te(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(pe,ke)}catch(Ie){ke(Ie)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),N.T=W}},Ae.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ae.use=function(P){return N.H.use(P)},Ae.useActionState=function(P,W,ae){return N.H.useActionState(P,W,ae)},Ae.useCallback=function(P,W){return N.H.useCallback(P,W)},Ae.useContext=function(P){return N.H.useContext(P)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(P,W){return N.H.useDeferredValue(P,W)},Ae.useEffect=function(P,W){return N.H.useEffect(P,W)},Ae.useEffectEvent=function(P){return N.H.useEffectEvent(P)},Ae.useId=function(){return N.H.useId()},Ae.useImperativeHandle=function(P,W,ae){return N.H.useImperativeHandle(P,W,ae)},Ae.useInsertionEffect=function(P,W){return N.H.useInsertionEffect(P,W)},Ae.useLayoutEffect=function(P,W){return N.H.useLayoutEffect(P,W)},Ae.useMemo=function(P,W){return N.H.useMemo(P,W)},Ae.useOptimistic=function(P,W){return N.H.useOptimistic(P,W)},Ae.useReducer=function(P,W,ae){return N.H.useReducer(P,W,ae)},Ae.useRef=function(P){return N.H.useRef(P)},Ae.useState=function(P){return N.H.useState(P)},Ae.useSyncExternalStore=function(P,W,ae){return N.H.useSyncExternalStore(P,W,ae)},Ae.useTransition=function(){return N.H.useTransition()},Ae.version="19.2.3",Ae}var $0;function wf(){return $0||($0=1,ip.exports=vx()),ip.exports}var j=wf(),rp={exports:{}},tu={},sp={exports:{}},ap={};var G0;function Ex(){return G0||(G0=1,(function(i){function e($,re){var fe=$.length;$.push(re);e:for(;0<fe;){var ke=fe-1>>>1,qe=$[ke];if(0<a(qe,re))$[ke]=re,$[fe]=qe,fe=ke;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var re=$[0],fe=$.pop();if(fe!==re){$[0]=fe;e:for(var ke=0,qe=$.length,P=qe>>>1;ke<P;){var W=2*(ke+1)-1,ae=$[W],ue=W+1,Te=$[ue];if(0>a(ae,fe))ue<qe&&0>a(Te,ae)?($[ke]=Te,$[ue]=fe,ke=ue):($[ke]=ae,$[W]=fe,ke=W);else if(ue<qe&&0>a(Te,fe))$[ke]=Te,$[ue]=fe,ke=ue;else break e}}return re}function a($,re){var fe=$.sortIndex-re.sortIndex;return fe!==0?fe:$.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,v=null,T=3,x=!1,k=!1,z=!1,U=!1,Q=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function oe($){for(var re=t(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=$)s(g),re.sortIndex=re.expirationTime,e(p,re);else break;re=t(g)}}function de($){if(z=!1,oe($),!k)if(t(p)!==null)k=!0,pe||(pe=!0,V());else{var re=t(g);re!==null&&ze(de,re.startTime-$)}}var pe=!1,N=-1,C=5,R=-1;function O(){return U?!0:!(i.unstable_now()-R<C)}function D(){if(U=!1,pe){var $=i.unstable_now();R=$;var re=!0;try{e:{k=!1,z&&(z=!1,J(N),N=-1),x=!0;var fe=T;try{t:{for(oe($),v=t(p);v!==null&&!(v.expirationTime>$&&O());){var ke=v.callback;if(typeof ke=="function"){v.callback=null,T=v.priorityLevel;var qe=ke(v.expirationTime<=$);if($=i.unstable_now(),typeof qe=="function"){v.callback=qe,oe($),re=!0;break t}v===t(p)&&s(p),oe($)}else s(p);v=t(p)}if(v!==null)re=!0;else{var P=t(g);P!==null&&ze(de,P.startTime-$),re=!1}}break e}finally{v=null,T=fe,x=!1}re=void 0}}finally{re?V():pe=!1}}}var V;if(typeof ie=="function")V=function(){ie(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ge=I.port2;I.port1.onmessage=D,V=function(){ge.postMessage(null)}}else V=function(){Q(D,0)};function ze($,re){N=Q(function(){$(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function($){switch(T){case 1:case 2:case 3:var re=3;break;default:re=T}var fe=T;T=re;try{return $()}finally{T=fe}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var fe=T;T=$;try{return re()}finally{T=fe}},i.unstable_scheduleCallback=function($,re,fe){var ke=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ke+fe:ke):fe=ke,$){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=fe+qe,$={id:_++,callback:re,priorityLevel:$,startTime:fe,expirationTime:qe,sortIndex:-1},fe>ke?($.sortIndex=fe,e(g,$),t(p)===null&&$===t(g)&&(z?(J(N),N=-1):z=!0,ze(de,fe-ke))):($.sortIndex=qe,e(p,$),k||x||(k=!0,pe||(pe=!0,V()))),$},i.unstable_shouldYield=O,i.unstable_wrapCallback=function($){var re=T;return function(){var fe=T;T=re;try{return $.apply(this,arguments)}finally{T=fe}}}})(ap)),ap}var K0;function bx(){return K0||(K0=1,sp.exports=Ex()),sp.exports}var op={exports:{}},Zt={};var Y0;function Tx(){if(Y0)return Zt;Y0=1;var i=wf();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},Zt.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:x}):_==="script"&&s.d.X(p,{crossOrigin:v,integrity:T,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},Zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var Q0;function wx(){if(Q0)return op.exports;Q0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),op.exports=Tx(),op.exports}var X0;function Sx(){if(X0)return tu;X0=1;var i=bx(),e=wf(),t=wx();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var o=n,u=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),n;if(m===u)return p(f),r;m=m.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=m;else{for(var E=!1,w=f.child;w;){if(w===o){E=!0,o=f,u=m;break}if(w===u){E=!0,u=f,o=m;break}w=w.sibling}if(!E){for(w=m.child;w;){if(w===o){E=!0,o=m,u=f;break}if(w===u){E=!0,u=m,o=f;break}w=w.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:r}function _(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=_(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function ge(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case z:return"Fragment";case Q:return"Profiler";case U:return"StrictMode";case de:return"Suspense";case pe:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case k:return"Portal";case ie:return n.displayName||"Context";case J:return(n._context.displayName||"Context")+".Consumer";case oe:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return r=n.displayName||null,r!==null?r:ge(n.type)||"Memo";case C:r=n._payload,n=n._init;try{return ge(n(r))}catch{}}return null}var ze=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},ke=[],qe=-1;function P(n){return{current:n}}function W(n){0>qe||(n.current=ke[qe],ke[qe]=null,qe--)}function ae(n,r){qe++,ke[qe]=n.current,n.current=r}var ue=P(null),Te=P(null),Ie=P(null),Be=P(null);function Lt(n,r){switch(ae(Ie,r),ae(Te,n),ae(ue,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?h0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=h0(r),n=f0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(ue),ae(ue,n)}function lt(){W(ue),W(Te),W(Ie)}function Vs(n){n.memoizedState!==null&&ae(Be,n);var r=ue.current,o=f0(r,n.type);r!==o&&(ae(Te,n),ae(ue,o))}function Na(n){Te.current===n&&(W(ue),W(Te)),Be.current===n&&(W(Be),Xl._currentValue=fe)}var ka,Da;function _i(n){if(ka===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ka=r&&r[1]||"",Da=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ka+n+Da}var Xo=!1;function Us(n,r){if(!n||Xo)return"";Xo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var G=Y}Reflect.construct(n,[],te)}else{try{te.call()}catch(Y){G=Y}n.call(te.prototype)}}else{try{throw Error()}catch(Y){G=Y}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],w=m[1];if(E&&w){var M=E.split(`
`),F=w.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===F.length)for(u=M.length-1,f=F.length-1;1<=u&&0<=f&&M[u]!==F[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==F[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==F[f]){var X=`
`+M[u].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=u&&0<=f);break}}}finally{Xo=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?_i(o):""}function Wo(n,r){switch(n.tag){case 26:case 27:case 5:return _i(n.type);case 16:return _i("Lazy");case 13:return n.child!==r&&r!==null?_i("Suspense Fallback"):_i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Us(n.type,!1);case 11:return Us(n.type.render,!1);case 1:return Us(n.type,!0);case 31:return _i("Activity");default:return""}}function Jo(n){try{var r="",o=null;do r+=Wo(n,o),o=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var St=Object.prototype.hasOwnProperty,Vt=i.unstable_scheduleCallback,Or=i.unstable_cancelCallback,rd=i.unstable_shouldYield,Ju=i.unstable_requestPaint,sn=i.unstable_now,js=i.unstable_getCurrentPriorityLevel,Zo=i.unstable_ImmediatePriority,el=i.unstable_UserBlockingPriority,Mr=i.unstable_NormalPriority,sd=i.unstable_LowPriority,Zu=i.unstable_IdlePriority,ec=i.log,tc=i.unstable_setDisableYieldValue,Kn=null,Gt=null;function On(n){if(typeof ec=="function"&&tc(n),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Kn,n)}catch{}}var vt=Math.clz32?Math.clz32:ic,nc=Math.log,Oa=Math.LN2;function ic(n){return n>>>=0,n===0?32:31-(nc(n)/Oa|0)|0}var vi=256,zs=262144,At=4194304;function Ei(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function bi(n,r,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var w=u&134217727;return w!==0?(u=w&~m,u!==0?f=Ei(u):(E&=w,E!==0?f=Ei(E):o||(o=w&~n,o!==0&&(f=Ei(o))))):(w=u&~m,w!==0?f=Ei(w):E!==0?f=Ei(E):o||(o=u&~n,o!==0&&(f=Ei(o)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,o=r&-r,m>=o||m===32&&(o&4194048)!==0)?r:f}function Yn(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ad(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rc(){var n=At;return At<<=1,(At&62914560)===0&&(At=4194304),n}function Ti(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Bs(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function od(n,r,o,u,f,m){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var w=n.entanglements,M=n.expirationTimes,F=n.hiddenUpdates;for(o=E&~o;0<o;){var X=31-vt(o),te=1<<X;w[X]=0,M[X]=-1;var G=F[X];if(G!==null)for(F[X]=null,X=0;X<G.length;X++){var Y=G[X];Y!==null&&(Y.lane&=-536870913)}o&=~te}u!==0&&Hs(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~r))}function Hs(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-vt(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function tl(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-vt(o),f=1<<u;f&r|n[u]&r&&(n[u]|=r),o&=~f}}function nl(n,r){var o=r&-r;return o=(o&42)!==0?1:qs(o),(o&(n.suspendedLanes|r))!==0?0:o}function qs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function er(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function sc(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:P0(n.type))}function Qn(n,r){var o=re.p;try{return re.p=n,r()}finally{re.p=o}}var Xn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Xn,zt="__reactProps$"+Xn,wi="__reactContainer$"+Xn,Ma="__reactEvents$"+Xn,ld="__reactListeners$"+Xn,ac="__reactHandles$"+Xn,oc="__reactResources$"+Xn,Si="__reactMarker$"+Xn;function Pa(n){delete n[xt],delete n[zt],delete n[Ma],delete n[ld],delete n[ac]}function Ai(n){var r=n[xt];if(r)return r;for(var o=n.parentNode;o;){if(r=o[wi]||o[xt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=v0(n);n!==null;){if(o=n[xt])return o;n=v0(n)}return r}n=o,o=n.parentNode}return null}function Mn(n){if(n=n[xt]||n[wi]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function En(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function xi(n){var r=n[oc];return r||(r=n[oc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Rt(n){n[Si]=!0}var il=new Set,rl={};function Ri(n,r){Ci(n,r),Ci(n+"Capture",r)}function Ci(n,r){for(rl[n]=r,n=0;n<r.length;n++)il.add(r[n])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),al={},ol={};function lc(n){return St.call(ol,n)?!0:St.call(al,n)?!1:sl.test(n)?ol[n]=!0:(al[n]=!0,!1)}function La(n,r,o){if(lc(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function bn(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function Ct(n,r,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+u)}}function Bt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Pr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ll(n,r,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,m.call(this,E)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Qe(n){if(!n._valueTracker){var r=Pr(n)?"checked":"value";n._valueTracker=ll(n,r,""+n[r])}}function Fs(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=Pr(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function Ii(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var $s=/[\n"\\]/g;function cn(n){return n.replace($s,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Va(n,r,o,u,f,m,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Bt(r)):n.value!==""+Bt(r)&&(n.value=""+Bt(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?ul(n,E,Bt(r)):o!=null?ul(n,E,Bt(o)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+Bt(w):n.removeAttribute("name")}function uc(n,r,o,u,f,m,E,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Qe(n);return}o=o!=null?""+Bt(o):"",r=r!=null?""+Bt(r):o,w||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=w?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),Qe(n)}function ul(n,r,o){r==="number"&&Ii(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Lr(n,r,o,u){if(n=n.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=r.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Bt(o),r=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function cc(n,r,o){if(r!=null&&(r=""+Bt(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+Bt(o):""}function Vr(n,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ze(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Bt(r),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Qe(n)}function hn(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cl(n,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,o):typeof o!="number"||o===0||hc.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function hl(n,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&cl(n,f,u)}else for(var m in r)r.hasOwnProperty(m)&&cl(n,m,r[m])}function Ua(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(n){return Ur.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Wn(){}var fl=null;function Pn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var jr=null,Ni=null;function Gs(n){var r=Mn(n);if(r&&(n=r.stateNode)){var o=n[zt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Va(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+cn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var f=u[zt]||null;if(!f)throw Error(s(90));Va(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===n.form&&Fs(u)}break e;case"textarea":cc(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Lr(n,!!o.multiple,r,!1)}}}var za=!1;function zr(n,r,o){if(za)return n(r,o);za=!0;try{var u=n(r);return u}finally{if(za=!1,(jr!==null||Ni!==null)&&(sh(),jr&&(r=jr,n=Ni,Ni=jr=null,Gs(r),n)))for(r=0;r<n.length;r++)Gs(n[r])}}function Jn(n,r){var o=n.stateNode;if(o===null)return null;var u=o[zt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ks=!1;if(Ln)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Ks=!1}var ki=null,dl=null,Ys=null;function ml(){if(Ys)return Ys;var n,r=dl,o=r.length,u,f="value"in ki?ki.value:ki.textContent,m=f.length;for(n=0;n<o&&r[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&r[o-u]===f[m-u];u++);return Ys=f.slice(n,1<u?1-u:void 0)}function Qs(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function tr(){return!0}function Zn(){return!1}function Kt(n){function r(o,u,f,m,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(o=n[w],this[w]=o?o(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?tr:Zn,this.isPropagationStopped=Zn,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),r}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Kt(nr),Br=v({},nr,{view:0,detail:0}),pl=Kt(Br),Hr,Ba,Oi,Ha=v({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Oi&&(Oi&&n.type==="mousemove"?(Hr=n.screenX-Oi.screenX,Ba=n.screenY-Oi.screenY):Ba=Hr=0,Oi=n),Hr)},movementY:function(n){return"movementY"in n?n.movementY:Ba}}),gl=Kt(Ha),Xs=v({},Ha,{dataTransfer:0}),dc=Kt(Xs),mc=v({},Br,{relatedTarget:0}),Ws=Kt(mc),yl=v({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),pc=Kt(yl),qa=v({},nr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),gc=Kt(qa),yc=v({},nr,{data:0}),Mi=Kt(yc),_c={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bc(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ec[n])?!!r[n]:!1}function qr(){return bc}var an=v({},Br,{key:function(n){if(n.key){var r=_c[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Qs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?vc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(n){return n.type==="keypress"?Qs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Qs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Tc=Kt(an),wc=v({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ir=Kt(wc),h=v({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),y=Kt(h),b=v({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Kt(b),H=v({},Ha,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Kt(H),se=v({},nr,{newState:0,oldState:0}),Re=Kt(se),Et=[9,13,27,32],Ge=Ln&&"CompositionEvent"in window,ut=null;Ln&&"documentMode"in document&&(ut=document.documentMode);var Vn=Ln&&"TextEvent"in window&&!ut,Pi=Ln&&(!Ge||ut&&8<ut&&11>=ut),ei=" ",ti=!1;function Js(n,r){switch(n){case"keyup":return Et.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fa(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $a=!1;function BS(n,r){switch(n){case"compositionend":return Fa(r);case"keypress":return r.which!==32?null:(ti=!0,ei);case"textInput":return n=r.data,n===ei&&ti?null:n;default:return null}}function HS(n,r){if($a)return n==="compositionend"||!Ge&&Js(n,r)?(n=ml(),Ys=dl=ki=null,$a=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pi&&r.locale!=="ko"?null:r.data;default:return null}}var qS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ty(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!qS[n.type]:r==="textarea"}function wy(n,r,o,u){jr?Ni?Ni.push(u):Ni=[u]:jr=u,r=fh(r,"onChange"),0<r.length&&(o=new Di("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var _l=null,vl=null;function FS(n){s0(n,0)}function Sc(n){var r=En(n);if(Fs(r))return n}function Sy(n,r){if(n==="change")return r}var Ay=!1;if(Ln){var ud;if(Ln){var cd="oninput"in document;if(!cd){var xy=document.createElement("div");xy.setAttribute("oninput","return;"),cd=typeof xy.oninput=="function"}ud=cd}else ud=!1;Ay=ud&&(!document.documentMode||9<document.documentMode)}function Ry(){_l&&(_l.detachEvent("onpropertychange",Cy),vl=_l=null)}function Cy(n){if(n.propertyName==="value"&&Sc(vl)){var r=[];wy(r,vl,n,Pn(n)),zr(FS,r)}}function $S(n,r,o){n==="focusin"?(Ry(),_l=r,vl=o,_l.attachEvent("onpropertychange",Cy)):n==="focusout"&&Ry()}function GS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Sc(vl)}function KS(n,r){if(n==="click")return Sc(r)}function YS(n,r){if(n==="input"||n==="change")return Sc(r)}function QS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Tn=typeof Object.is=="function"?Object.is:QS;function El(n,r){if(Tn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!St.call(r,f)||!Tn(n[f],r[f]))return!1}return!0}function Iy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ny(n,r){var o=Iy(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Iy(o)}}function ky(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?ky(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Dy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ii(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=Ii(n.document)}return r}function hd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var XS=Ln&&"documentMode"in document&&11>=document.documentMode,Ga=null,fd=null,bl=null,dd=!1;function Oy(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dd||Ga==null||Ga!==Ii(u)||(u=Ga,"selectionStart"in u&&hd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),bl&&El(bl,u)||(bl=u,u=fh(fd,"onSelect"),0<u.length&&(r=new Di("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=Ga)))}function Zs(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Ka={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},md={},My={};Ln&&(My=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function ea(n){if(md[n])return md[n];if(!Ka[n])return n;var r=Ka[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in My)return md[n]=r[o];return n}var Py=ea("animationend"),Ly=ea("animationiteration"),Vy=ea("animationstart"),WS=ea("transitionrun"),JS=ea("transitionstart"),ZS=ea("transitioncancel"),Uy=ea("transitionend"),jy=new Map,pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pd.push("scrollEnd");function ni(n,r){jy.set(n,r),Ri(r,[n])}var Ac=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Un=[],Ya=0,gd=0;function xc(){for(var n=Ya,r=gd=Ya=0;r<n;){var o=Un[r];Un[r++]=null;var u=Un[r];Un[r++]=null;var f=Un[r];Un[r++]=null;var m=Un[r];if(Un[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&zy(o,f,m)}}function Rc(n,r,o,u){Un[Ya++]=n,Un[Ya++]=r,Un[Ya++]=o,Un[Ya++]=u,gd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function yd(n,r,o,u){return Rc(n,r,o,u),Cc(n)}function ta(n,r){return Rc(n,null,null,r),Cc(n)}function zy(n,r,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&r!==null&&(f=31-vt(o),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[r]:u.push(r),r.lane=o|536870912),m):null}function Cc(n){if(50<ql)throw ql=0,xm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Qa={};function eA(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(n,r,o,u){return new eA(n,r,o,u)}function _d(n){return n=n.prototype,!(!n||!n.isReactComponent)}function rr(n,r){var o=n.alternate;return o===null?(o=wn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function By(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ic(n,r,o,u,f,m){var E=0;if(u=n,typeof n=="function")_d(n)&&(E=1);else if(typeof n=="string")E=sx(n,o,ue.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=wn(31,o,r,f),n.elementType=R,n.lanes=m,n;case z:return na(o.children,f,m,r);case U:E=8,f|=24;break;case Q:return n=wn(12,o,r,f|2),n.elementType=Q,n.lanes=m,n;case de:return n=wn(13,o,r,f),n.elementType=de,n.lanes=m,n;case pe:return n=wn(19,o,r,f),n.elementType=pe,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ie:E=10;break e;case J:E=9;break e;case oe:E=11;break e;case N:E=14;break e;case C:E=16,u=null;break e}E=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=wn(E,o,r,f),r.elementType=n,r.type=u,r.lanes=m,r}function na(n,r,o,u){return n=wn(7,n,u,r),n.lanes=o,n}function vd(n,r,o){return n=wn(6,n,null,r),n.lanes=o,n}function Hy(n){var r=wn(18,null,null,0);return r.stateNode=n,r}function Ed(n,r,o){return r=wn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var qy=new WeakMap;function jn(n,r){if(typeof n=="object"&&n!==null){var o=qy.get(n);return o!==void 0?o:(r={value:n,source:r,stack:Jo(r)},qy.set(n,r),r)}return{value:n,source:r,stack:Jo(r)}}var Xa=[],Wa=0,Nc=null,Tl=0,zn=[],Bn=0,Fr=null,Li=1,Vi="";function sr(n,r){Xa[Wa++]=Tl,Xa[Wa++]=Nc,Nc=n,Tl=r}function Fy(n,r,o){zn[Bn++]=Li,zn[Bn++]=Vi,zn[Bn++]=Fr,Fr=n;var u=Li;n=Vi;var f=32-vt(u)-1;u&=~(1<<f),o+=1;var m=32-vt(r)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Li=1<<32-vt(r)+f|o<<f|u,Vi=m+n}else Li=1<<m|o<<f|u,Vi=n}function bd(n){n.return!==null&&(sr(n,1),Fy(n,1,0))}function Td(n){for(;n===Nc;)Nc=Xa[--Wa],Xa[Wa]=null,Tl=Xa[--Wa],Xa[Wa]=null;for(;n===Fr;)Fr=zn[--Bn],zn[Bn]=null,Vi=zn[--Bn],zn[Bn]=null,Li=zn[--Bn],zn[Bn]=null}function $y(n,r){zn[Bn++]=Li,zn[Bn++]=Vi,zn[Bn++]=Fr,Li=r.id,Vi=r.overflow,Fr=n}var Yt=null,at=null,je=!1,$r=null,Hn=!1,wd=Error(s(519));function Gr(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(jn(r,n)),wd}function Gy(n){var r=n.stateNode,o=n.type,u=n.memoizedProps;switch(r[xt]=n,r[zt]=u,o){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(o=0;o<$l.length;o++)Oe($l[o],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),uc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Vr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||u0(r.textContent,o)?(u.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),u.onScroll!=null&&Oe("scroll",r),u.onScrollEnd!=null&&Oe("scrollend",r),u.onClick!=null&&(r.onclick=Wn),r=!0):r=!1,r||Gr(n,!0)}function Ky(n){for(Yt=n.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Yt=Yt.return}}function Ja(n){if(n!==Yt)return!1;if(!je)return Ky(n),je=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Bm(n.type,n.memoizedProps)),o=!o),o&&at&&Gr(n),Ky(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));at=_0(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));at=_0(n)}else r===27?(r=at,as(n.type)?(n=Gm,Gm=null,at=n):at=r):at=Yt?Fn(n.stateNode.nextSibling):null;return!0}function ia(){at=Yt=null,je=!1}function Sd(){var n=$r;return n!==null&&(pn===null?pn=n:pn.push.apply(pn,n),$r=null),n}function wl(n){$r===null?$r=[n]:$r.push(n)}var Ad=P(null),ra=null,ar=null;function Kr(n,r,o){ae(Ad,r._currentValue),r._currentValue=o}function or(n){n._currentValue=Ad.current,W(Ad)}function xd(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function Rd(n,r,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var M=0;M<r.length;M++)if(w.context===r[M]){m.lanes|=o,w=m.alternate,w!==null&&(w.lanes|=o),xd(m.return,o,n),u||(E=null);break e}m=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),xd(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Za(n,r,o,u){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=f.type;Tn(f.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(f===Be.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Xl):n=[Xl])}f=f.return}n!==null&&Rd(r,n,o,u),r.flags|=262144}function kc(n){for(n=n.firstContext;n!==null;){if(!Tn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function sa(n){ra=n,ar=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Qt(n){return Yy(ra,n)}function Dc(n,r){return ra===null&&sa(n),Yy(n,r)}function Yy(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ar===null){if(n===null)throw Error(s(308));ar=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ar=ar.next=r;return o}var tA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},nA=i.unstable_scheduleCallback,iA=i.unstable_NormalPriority,It={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cd(){return{controller:new tA,data:new Map,refCount:0}}function Sl(n){n.refCount--,n.refCount===0&&nA(iA,function(){n.controller.abort()})}var Al=null,Id=0,eo=0,to=null;function rA(n,r){if(Al===null){var o=Al=[];Id=0,eo=Dm(),to={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Id++,r.then(Qy,Qy),r}function Qy(){if(--Id===0&&Al!==null){to!==null&&(to.status="fulfilled");var n=Al;Al=null,eo=0,to=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function sA(n,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Xy=$.S;$.S=function(n,r){Ov=sn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&rA(n,r),Xy!==null&&Xy(n,r)};var aa=P(null);function Nd(){var n=aa.current;return n!==null?n:it.pooledCache}function Oc(n,r){r===null?ae(aa,aa.current):ae(aa,r.pool)}function Wy(){var n=Nd();return n===null?null:{parent:It._currentValue,pool:n}}var no=Error(s(460)),kd=Error(s(474)),Mc=Error(s(542)),Pc={then:function(){}};function Jy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Zy(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(Wn,Wn),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,t_(n),n;default:if(typeof r.status=="string")r.then(Wn,Wn);else{if(n=it,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,t_(n),n}throw la=r,no}}function oa(n){try{var r=n._init;return r(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(la=o,no):o}}var la=null;function e_(){if(la===null)throw Error(s(459));var n=la;return la=null,n}function t_(n){if(n===no||n===Mc)throw Error(s(483))}var io=null,xl=0;function Lc(n){var r=xl;return xl+=1,io===null&&(io=[]),Zy(io,n,r)}function Rl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Vc(n,r){throw r.$$typeof===T?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function n_(n){function r(B,L){if(n){var q=B.deletions;q===null?(B.deletions=[L],B.flags|=16):q.push(L)}}function o(B,L){if(!n)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function u(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=rr(B,L),B.index=0,B.sibling=null,B}function m(B,L,q){return B.index=q,n?(q=B.alternate,q!==null?(q=q.index,q<L?(B.flags|=67108866,L):q):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function E(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function w(B,L,q,Z){return L===null||L.tag!==6?(L=vd(q,B.mode,Z),L.return=B,L):(L=f(L,q),L.return=B,L)}function M(B,L,q,Z){var _e=q.type;return _e===z?X(B,L,q.props.children,Z,q.key):L!==null&&(L.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===C&&oa(_e)===L.type)?(L=f(L,q.props),Rl(L,q),L.return=B,L):(L=Ic(q.type,q.key,q.props,null,B.mode,Z),Rl(L,q),L.return=B,L)}function F(B,L,q,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=Ed(q,B.mode,Z),L.return=B,L):(L=f(L,q.children||[]),L.return=B,L)}function X(B,L,q,Z,_e){return L===null||L.tag!==7?(L=na(q,B.mode,Z,_e),L.return=B,L):(L=f(L,q),L.return=B,L)}function te(B,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=vd(""+L,B.mode,q),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case x:return q=Ic(L.type,L.key,L.props,null,B.mode,q),Rl(q,L),q.return=B,q;case k:return L=Ed(L,B.mode,q),L.return=B,L;case C:return L=oa(L),te(B,L,q)}if(ze(L)||V(L))return L=na(L,B.mode,q,null),L.return=B,L;if(typeof L.then=="function")return te(B,Lc(L),q);if(L.$$typeof===ie)return te(B,Dc(B,L),q);Vc(B,L)}return null}function G(B,L,q,Z){var _e=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return _e!==null?null:w(B,L,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return q.key===_e?M(B,L,q,Z):null;case k:return q.key===_e?F(B,L,q,Z):null;case C:return q=oa(q),G(B,L,q,Z)}if(ze(q)||V(q))return _e!==null?null:X(B,L,q,Z,null);if(typeof q.then=="function")return G(B,L,Lc(q),Z);if(q.$$typeof===ie)return G(B,L,Dc(B,q),Z);Vc(B,q)}return null}function Y(B,L,q,Z,_e){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(q)||null,w(L,B,""+Z,_e);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return B=B.get(Z.key===null?q:Z.key)||null,M(L,B,Z,_e);case k:return B=B.get(Z.key===null?q:Z.key)||null,F(L,B,Z,_e);case C:return Z=oa(Z),Y(B,L,q,Z,_e)}if(ze(Z)||V(Z))return B=B.get(q)||null,X(L,B,Z,_e,null);if(typeof Z.then=="function")return Y(B,L,q,Lc(Z),_e);if(Z.$$typeof===ie)return Y(B,L,q,Dc(L,Z),_e);Vc(L,Z)}return null}function he(B,L,q,Z){for(var _e=null,Fe=null,me=L,Ne=L=0,Pe=null;me!==null&&Ne<q.length;Ne++){me.index>Ne?(Pe=me,me=null):Pe=me.sibling;var $e=G(B,me,q[Ne],Z);if($e===null){me===null&&(me=Pe);break}n&&me&&$e.alternate===null&&r(B,me),L=m($e,L,Ne),Fe===null?_e=$e:Fe.sibling=$e,Fe=$e,me=Pe}if(Ne===q.length)return o(B,me),je&&sr(B,Ne),_e;if(me===null){for(;Ne<q.length;Ne++)me=te(B,q[Ne],Z),me!==null&&(L=m(me,L,Ne),Fe===null?_e=me:Fe.sibling=me,Fe=me);return je&&sr(B,Ne),_e}for(me=u(me);Ne<q.length;Ne++)Pe=Y(me,B,Ne,q[Ne],Z),Pe!==null&&(n&&Pe.alternate!==null&&me.delete(Pe.key===null?Ne:Pe.key),L=m(Pe,L,Ne),Fe===null?_e=Pe:Fe.sibling=Pe,Fe=Pe);return n&&me.forEach(function(hs){return r(B,hs)}),je&&sr(B,Ne),_e}function ve(B,L,q,Z){if(q==null)throw Error(s(151));for(var _e=null,Fe=null,me=L,Ne=L=0,Pe=null,$e=q.next();me!==null&&!$e.done;Ne++,$e=q.next()){me.index>Ne?(Pe=me,me=null):Pe=me.sibling;var hs=G(B,me,$e.value,Z);if(hs===null){me===null&&(me=Pe);break}n&&me&&hs.alternate===null&&r(B,me),L=m(hs,L,Ne),Fe===null?_e=hs:Fe.sibling=hs,Fe=hs,me=Pe}if($e.done)return o(B,me),je&&sr(B,Ne),_e;if(me===null){for(;!$e.done;Ne++,$e=q.next())$e=te(B,$e.value,Z),$e!==null&&(L=m($e,L,Ne),Fe===null?_e=$e:Fe.sibling=$e,Fe=$e);return je&&sr(B,Ne),_e}for(me=u(me);!$e.done;Ne++,$e=q.next())$e=Y(me,B,Ne,$e.value,Z),$e!==null&&(n&&$e.alternate!==null&&me.delete($e.key===null?Ne:$e.key),L=m($e,L,Ne),Fe===null?_e=$e:Fe.sibling=$e,Fe=$e);return n&&me.forEach(function(gx){return r(B,gx)}),je&&sr(B,Ne),_e}function tt(B,L,q,Z){if(typeof q=="object"&&q!==null&&q.type===z&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case x:e:{for(var _e=q.key;L!==null;){if(L.key===_e){if(_e=q.type,_e===z){if(L.tag===7){o(B,L.sibling),Z=f(L,q.props.children),Z.return=B,B=Z;break e}}else if(L.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===C&&oa(_e)===L.type){o(B,L.sibling),Z=f(L,q.props),Rl(Z,q),Z.return=B,B=Z;break e}o(B,L);break}else r(B,L);L=L.sibling}q.type===z?(Z=na(q.props.children,B.mode,Z,q.key),Z.return=B,B=Z):(Z=Ic(q.type,q.key,q.props,null,B.mode,Z),Rl(Z,q),Z.return=B,B=Z)}return E(B);case k:e:{for(_e=q.key;L!==null;){if(L.key===_e)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){o(B,L.sibling),Z=f(L,q.children||[]),Z.return=B,B=Z;break e}else{o(B,L);break}else r(B,L);L=L.sibling}Z=Ed(q,B.mode,Z),Z.return=B,B=Z}return E(B);case C:return q=oa(q),tt(B,L,q,Z)}if(ze(q))return he(B,L,q,Z);if(V(q)){if(_e=V(q),typeof _e!="function")throw Error(s(150));return q=_e.call(q),ve(B,L,q,Z)}if(typeof q.then=="function")return tt(B,L,Lc(q),Z);if(q.$$typeof===ie)return tt(B,L,Dc(B,q),Z);Vc(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(o(B,L.sibling),Z=f(L,q),Z.return=B,B=Z):(o(B,L),Z=vd(q,B.mode,Z),Z.return=B,B=Z),E(B)):o(B,L)}return function(B,L,q,Z){try{xl=0;var _e=tt(B,L,q,Z);return io=null,_e}catch(me){if(me===no||me===Mc)throw me;var Fe=wn(29,me,null,B.mode);return Fe.lanes=Z,Fe.return=B,Fe}finally{}}}var ua=n_(!0),i_=n_(!1),Yr=!1;function Dd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Od(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Qr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Xr(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ke&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Cc(n),zy(n,null,o),r}return Rc(n,u,r,o),Cc(n)}function Cl(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,tl(n,o)}}function Md(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var Pd=!1;function Il(){if(Pd){var n=to;if(n!==null)throw n}}function Nl(n,r,o,u){Pd=!1;var f=n.updateQueue;Yr=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var M=w,F=M.next;M.next=null,E===null?m=F:E.next=F,E=M;var X=n.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==E&&(w===null?X.firstBaseUpdate=F:w.next=F,X.lastBaseUpdate=M))}if(m!==null){var te=f.baseState;E=0,X=F=M=null,w=m;do{var G=w.lane&-536870913,Y=G!==w.lane;if(Y?(Me&G)===G:(u&G)===G){G!==0&&G===eo&&(Pd=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=n,ve=w;G=r;var tt=o;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){te=he.call(tt,te,G);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,G=typeof he=="function"?he.call(tt,te,G):he,G==null)break e;te=v({},te,G);break e;case 2:Yr=!0}}G=w.callback,G!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(F=X=Y,M=te):X=X.next=Y,E|=G;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(M=te),f.baseState=M,f.firstBaseUpdate=F,f.lastBaseUpdate=X,m===null&&(f.shared.lanes=0),ts|=E,n.lanes=E,n.memoizedState=te}}function r_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function s_(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)r_(o[n],r)}var ro=P(null),Uc=P(0);function a_(n,r){n=gr,ae(Uc,n),ae(ro,r),gr=n|r.baseLanes}function Ld(){ae(Uc,gr),ae(ro,ro.current)}function Vd(){gr=Uc.current,W(ro),W(Uc)}var Sn=P(null),qn=null;function Wr(n){var r=n.alternate;ae(bt,bt.current&1),ae(Sn,n),qn===null&&(r===null||ro.current!==null||r.memoizedState!==null)&&(qn=n)}function Ud(n){ae(bt,bt.current),ae(Sn,n),qn===null&&(qn=n)}function o_(n){n.tag===22?(ae(bt,bt.current),ae(Sn,n),qn===null&&(qn=n)):Jr()}function Jr(){ae(bt,bt.current),ae(Sn,Sn.current)}function An(n){W(Sn),qn===n&&(qn=null),W(bt)}var bt=P(0);function jc(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Fm(o)||$m(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var lr=0,Ce=null,Ze=null,Nt=null,zc=!1,so=!1,ca=!1,Bc=0,kl=0,ao=null,aA=0;function pt(){throw Error(s(321))}function jd(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Tn(n[o],r[o]))return!1;return!0}function zd(n,r,o,u,f,m){return lr=m,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=n===null||n.memoizedState===null?F_:tm,ca=!1,m=o(u,f),ca=!1,so&&(m=u_(r,o,u,f)),l_(n),m}function l_(n){$.H=Ml;var r=Ze!==null&&Ze.next!==null;if(lr=0,Nt=Ze=Ce=null,zc=!1,kl=0,ao=null,r)throw Error(s(300));n===null||kt||(n=n.dependencies,n!==null&&kc(n)&&(kt=!0))}function u_(n,r,o,u){Ce=n;var f=0;do{if(so&&(ao=null),kl=0,so=!1,25<=f)throw Error(s(301));if(f+=1,Nt=Ze=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=$_,m=r(o,u)}while(so);return m}function oA(){var n=$.H,r=n.useState()[0];return r=typeof r.then=="function"?Dl(r):r,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(Ce.flags|=1024),r}function Bd(){var n=Bc!==0;return Bc=0,n}function Hd(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function qd(n){if(zc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}zc=!1}lr=0,Nt=Ze=Ce=null,so=!1,kl=Bc=0,ao=null}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ce.memoizedState=Nt=n:Nt=Nt.next=n,Nt}function Tt(){if(Ze===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var r=Nt===null?Ce.memoizedState:Nt.next;if(r!==null)Nt=r,Ze=n;else{if(n===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Nt===null?Ce.memoizedState=Nt=n:Nt=Nt.next=n}return Nt}function Hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(n){var r=kl;return kl+=1,ao===null&&(ao=[]),n=Zy(ao,n,r),r=Ce,(Nt===null?r.memoizedState:Nt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?F_:tm),n}function qc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Dl(n);if(n.$$typeof===ie)return Qt(n)}throw Error(s(438,String(n)))}function Fd(n){var r=null,o=Ce.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Hc(),Ce.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),u=0;u<n;u++)o[u]=O;return r.index++,o}function ur(n,r){return typeof r=="function"?r(n):r}function Fc(n){var r=Tt();return $d(r,Ze,n)}function $d(n,r,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}r.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var w=E=null,M=null,F=r,X=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(Me&te)===te:(lr&te)===te){var G=F.revertLane;if(G===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===eo&&(X=!0);else if((lr&G)===G){F=F.next,G===eo&&(X=!0);continue}else te={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(w=M=te,E=m):M=M.next=te,Ce.lanes|=G,ts|=G;te=F.action,ca&&o(m,te),m=F.hasEagerState?F.eagerState:o(m,te)}else G={lane:te,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(w=M=G,E=m):M=M.next=G,Ce.lanes|=te,ts|=te;F=F.next}while(F!==null&&F!==r);if(M===null?E=m:M.next=w,!Tn(m,n.memoizedState)&&(kt=!0,X&&(o=to,o!==null)))throw o;n.memoizedState=m,n.baseState=E,n.baseQueue=M,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Gd(n){var r=Tt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);Tn(m,r.memoizedState)||(kt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function c_(n,r,o){var u=Ce,f=Tt(),m=je;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!Tn((Ze||f).memoizedState,o);if(E&&(f.memoizedState=o,kt=!0),f=f.queue,Qd(d_.bind(null,u,f,n),[n]),f.getSnapshot!==r||E||Nt!==null&&Nt.memoizedState.tag&1){if(u.flags|=2048,oo(9,{destroy:void 0},f_.bind(null,u,f,o,r),null),it===null)throw Error(s(349));m||(lr&127)!==0||h_(u,r,o)}return o}function h_(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Ce.updateQueue,r===null?(r=Hc(),Ce.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function f_(n,r,o,u){r.value=o,r.getSnapshot=u,m_(r)&&p_(n)}function d_(n,r,o){return o(function(){m_(r)&&p_(n)})}function m_(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Tn(n,o)}catch{return!0}}function p_(n){var r=ta(n,2);r!==null&&gn(r,n,2)}function Kd(n){var r=on();if(typeof n=="function"){var o=n;if(n=o(),ca){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:n},r}function g_(n,r,o,u){return n.baseState=o,$d(n,Ze,typeof u=="function"?u:ur)}function lA(n,r,o,u,f){if(Kc(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};$.T!==null?o(!0):m.isTransition=!1,u(m),o=r.pending,o===null?(m.next=r.pending=m,y_(r,m)):(m.next=o.next,r.pending=o.next=m)}}function y_(n,r){var o=r.action,u=r.payload,f=n.state;if(r.isTransition){var m=$.T,E={};$.T=E;try{var w=o(f,u),M=$.S;M!==null&&M(E,w),__(n,r,w)}catch(F){Yd(n,r,F)}finally{m!==null&&E.types!==null&&(m.types=E.types),$.T=m}}else try{m=o(f,u),__(n,r,m)}catch(F){Yd(n,r,F)}}function __(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){v_(n,r,u)},function(u){return Yd(n,r,u)}):v_(n,r,o)}function v_(n,r,o){r.status="fulfilled",r.value=o,E_(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,y_(n,o)))}function Yd(n,r,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,E_(r),r=r.next;while(r!==u)}n.action=null}function E_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function b_(n,r){return r}function T_(n,r){if(je){var o=it.formState;if(o!==null){e:{var u=Ce;if(je){if(at){t:{for(var f=at,m=Hn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Fn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){at=Fn(f.nextSibling),u=f.data==="F!";break e}}Gr(u)}u=!1}u&&(r=o[0])}}return o=on(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b_,lastRenderedState:r},o.queue=u,o=B_.bind(null,Ce,u),u.dispatch=o,u=Kd(!1),m=em.bind(null,Ce,!1,u.queue),u=on(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,o=lA.bind(null,Ce,f,m,o),f.dispatch=o,u.memoizedState=n,[r,o,!1]}function w_(n){var r=Tt();return S_(r,Ze,n)}function S_(n,r,o){if(r=$d(n,r,b_)[0],n=Fc(ur)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Dl(r)}catch(E){throw E===no?Mc:E}else u=r;r=Tt();var f=r.queue,m=f.dispatch;return o!==r.memoizedState&&(Ce.flags|=2048,oo(9,{destroy:void 0},uA.bind(null,f,o),null)),[u,m,n]}function uA(n,r){n.action=r}function A_(n){var r=Tt(),o=Ze;if(o!==null)return S_(r,o,n);Tt(),r=r.memoizedState,o=Tt();var u=o.queue.dispatch;return o.memoizedState=n,[r,u,!1]}function oo(n,r,o,u){return n={tag:n,create:o,deps:u,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=Hc(),Ce.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n),n}function x_(){return Tt().memoizedState}function $c(n,r,o,u){var f=on();Ce.flags|=n,f.memoizedState=oo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Gc(n,r,o,u){var f=Tt();u=u===void 0?null:u;var m=f.memoizedState.inst;Ze!==null&&u!==null&&jd(u,Ze.memoizedState.deps)?f.memoizedState=oo(r,m,o,u):(Ce.flags|=n,f.memoizedState=oo(1|r,m,o,u))}function R_(n,r){$c(8390656,8,n,r)}function Qd(n,r){Gc(2048,8,n,r)}function cA(n){Ce.flags|=4;var r=Ce.updateQueue;if(r===null)r=Hc(),Ce.updateQueue=r,r.events=[n];else{var o=r.events;o===null?r.events=[n]:o.push(n)}}function C_(n){var r=Tt().memoizedState;return cA({ref:r,nextImpl:n}),function(){if((Ke&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function I_(n,r){return Gc(4,2,n,r)}function N_(n,r){return Gc(4,4,n,r)}function k_(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function D_(n,r,o){o=o!=null?o.concat([n]):null,Gc(4,4,k_.bind(null,r,n),o)}function Xd(){}function O_(n,r){var o=Tt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&jd(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function M_(n,r){var o=Tt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&jd(r,u[1]))return u[0];if(u=n(),ca){On(!0);try{n()}finally{On(!1)}}return o.memoizedState=[u,r],u}function Wd(n,r,o){return o===void 0||(lr&1073741824)!==0&&(Me&261930)===0?n.memoizedState=r:(n.memoizedState=o,n=Pv(),Ce.lanes|=n,ts|=n,o)}function P_(n,r,o,u){return Tn(o,r)?o:ro.current!==null?(n=Wd(n,o,u),Tn(n,r)||(kt=!0),n):(lr&42)===0||(lr&1073741824)!==0&&(Me&261930)===0?(kt=!0,n.memoizedState=o):(n=Pv(),Ce.lanes|=n,ts|=n,r)}function L_(n,r,o,u,f){var m=re.p;re.p=m!==0&&8>m?m:8;var E=$.T,w={};$.T=w,em(n,!1,r,o);try{var M=f(),F=$.S;if(F!==null&&F(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var X=sA(M,u);Ol(n,r,X,Cn(n))}else Ol(n,r,u,Cn(n))}catch(te){Ol(n,r,{then:function(){},status:"rejected",reason:te},Cn())}finally{re.p=m,E!==null&&w.types!==null&&(E.types=w.types),$.T=E}}function hA(){}function Jd(n,r,o,u){if(n.tag!==5)throw Error(s(476));var f=V_(n).queue;L_(n,f,r,fe,o===null?hA:function(){return U_(n),o(u)})}function V_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function U_(n){var r=V_(n);r.next===null&&(r=n.alternate.memoizedState),Ol(n,r.next.queue,{},Cn())}function Zd(){return Qt(Xl)}function j_(){return Tt().memoizedState}function z_(){return Tt().memoizedState}function fA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=Cn();n=Qr(o);var u=Xr(r,n,o);u!==null&&(gn(u,r,o),Cl(u,r,o)),r={cache:Cd()},n.payload=r;return}r=r.return}}function dA(n,r,o){var u=Cn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Kc(n)?H_(r,o):(o=yd(n,r,o,u),o!==null&&(gn(o,n,u),q_(o,r,u)))}function B_(n,r,o){var u=Cn();Ol(n,r,o,u)}function Ol(n,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Kc(n))H_(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var E=r.lastRenderedState,w=m(E,o);if(f.hasEagerState=!0,f.eagerState=w,Tn(w,E))return Rc(n,r,f,0),it===null&&xc(),!1}catch{}finally{}if(o=yd(n,r,f,u),o!==null)return gn(o,n,u),q_(o,r,u),!0}return!1}function em(n,r,o,u){if(u={lane:2,revertLane:Dm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Kc(n)){if(r)throw Error(s(479))}else r=yd(n,o,u,2),r!==null&&gn(r,n,2)}function Kc(n){var r=n.alternate;return n===Ce||r!==null&&r===Ce}function H_(n,r){so=zc=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function q_(n,r,o){if((o&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,tl(n,o)}}var Ml={readContext:Qt,use:qc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Ml.useEffectEvent=pt;var F_={readContext:Qt,use:qc,useCallback:function(n,r){return on().memoizedState=[n,r===void 0?null:r],n},useContext:Qt,useEffect:R_,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,$c(4194308,4,k_.bind(null,r,n),o)},useLayoutEffect:function(n,r){return $c(4194308,4,n,r)},useInsertionEffect:function(n,r){$c(4,2,n,r)},useMemo:function(n,r){var o=on();r=r===void 0?null:r;var u=n();if(ca){On(!0);try{n()}finally{On(!1)}}return o.memoizedState=[u,r],u},useReducer:function(n,r,o){var u=on();if(o!==void 0){var f=o(r);if(ca){On(!0);try{o(r)}finally{On(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=dA.bind(null,Ce,n),[u.memoizedState,n]},useRef:function(n){var r=on();return n={current:n},r.memoizedState=n},useState:function(n){n=Kd(n);var r=n.queue,o=B_.bind(null,Ce,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:Xd,useDeferredValue:function(n,r){var o=on();return Wd(o,n,r)},useTransition:function(){var n=Kd(!1);return n=L_.bind(null,Ce,n.queue,!0,!1),on().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var u=Ce,f=on();if(je){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),it===null)throw Error(s(349));(Me&127)!==0||h_(u,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,R_(d_.bind(null,u,m,n),[n]),u.flags|=2048,oo(9,{destroy:void 0},f_.bind(null,u,m,o,r),null),o},useId:function(){var n=on(),r=it.identifierPrefix;if(je){var o=Vi,u=Li;o=(u&~(1<<32-vt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Bc++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=aA++,r="_"+r+"r_"+o.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:Zd,useFormState:T_,useActionState:T_,useOptimistic:function(n){var r=on();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=em.bind(null,Ce,!0,o),o.dispatch=r,[n,r]},useMemoCache:Fd,useCacheRefresh:function(){return on().memoizedState=fA.bind(null,Ce)},useEffectEvent:function(n){var r=on(),o={impl:n};return r.memoizedState=o,function(){if((Ke&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},tm={readContext:Qt,use:qc,useCallback:O_,useContext:Qt,useEffect:Qd,useImperativeHandle:D_,useInsertionEffect:I_,useLayoutEffect:N_,useMemo:M_,useReducer:Fc,useRef:x_,useState:function(){return Fc(ur)},useDebugValue:Xd,useDeferredValue:function(n,r){var o=Tt();return P_(o,Ze.memoizedState,n,r)},useTransition:function(){var n=Fc(ur)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:Dl(n),r]},useSyncExternalStore:c_,useId:j_,useHostTransitionStatus:Zd,useFormState:w_,useActionState:w_,useOptimistic:function(n,r){var o=Tt();return g_(o,Ze,n,r)},useMemoCache:Fd,useCacheRefresh:z_};tm.useEffectEvent=C_;var $_={readContext:Qt,use:qc,useCallback:O_,useContext:Qt,useEffect:Qd,useImperativeHandle:D_,useInsertionEffect:I_,useLayoutEffect:N_,useMemo:M_,useReducer:Gd,useRef:x_,useState:function(){return Gd(ur)},useDebugValue:Xd,useDeferredValue:function(n,r){var o=Tt();return Ze===null?Wd(o,n,r):P_(o,Ze.memoizedState,n,r)},useTransition:function(){var n=Gd(ur)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:Dl(n),r]},useSyncExternalStore:c_,useId:j_,useHostTransitionStatus:Zd,useFormState:A_,useActionState:A_,useOptimistic:function(n,r){var o=Tt();return Ze!==null?g_(o,Ze,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Fd,useCacheRefresh:z_};$_.useEffectEvent=C_;function nm(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var im={enqueueSetState:function(n,r,o){n=n._reactInternals;var u=Cn(),f=Qr(u);f.payload=r,o!=null&&(f.callback=o),r=Xr(n,f,u),r!==null&&(gn(r,n,u),Cl(r,n,u))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=Cn(),f=Qr(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Xr(n,f,u),r!==null&&(gn(r,n,u),Cl(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=Cn(),u=Qr(o);u.tag=2,r!=null&&(u.callback=r),r=Xr(n,u,o),r!==null&&(gn(r,n,o),Cl(r,n,o))}};function G_(n,r,o,u,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,E):r.prototype&&r.prototype.isPureReactComponent?!El(o,u)||!El(f,m):!0}function K_(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&im.enqueueReplaceState(r,r.state,null)}function ha(n,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(n=n.defaultProps){o===r&&(o=v({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function Y_(n){Ac(n)}function Q_(n){console.error(n)}function X_(n){Ac(n)}function Yc(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function W_(n,r,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function rm(n,r,o){return o=Qr(o),o.tag=3,o.payload={element:null},o.callback=function(){Yc(n,r)},o}function J_(n){return n=Qr(n),n.tag=3,n}function Z_(n,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){W_(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){W_(r,o,u),typeof f!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function mA(n,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Za(r,o,f,!0),o=Sn.current,o!==null){switch(o.tag){case 31:case 13:return qn===null?ah():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Pc?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Im(n,u,f)),!1;case 22:return o.flags|=65536,u===Pc?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Im(n,u,f)),!1}throw Error(s(435,o.tag))}return Im(n,u,f),ah(),!1}if(je)return r=Sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==wd&&(n=Error(s(422),{cause:u}),wl(jn(n,o)))):(u!==wd&&(r=Error(s(423),{cause:u}),wl(jn(r,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=jn(u,o),f=rm(n.stateNode,u,f),Md(n,f),gt!==4&&(gt=2)),!1;var m=Error(s(520),{cause:u});if(m=jn(m,o),Hl===null?Hl=[m]:Hl.push(m),gt!==4&&(gt=2),r===null)return!0;u=jn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=rm(o.stateNode,u,n),Md(o,n),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ns===null||!ns.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=J_(f),Z_(f,n,o,u),Md(o,f),!1}o=o.return}while(o!==null);return!1}var sm=Error(s(461)),kt=!1;function Xt(n,r,o,u){r.child=n===null?i_(r,null,o,u):ua(r,n.child,o,u)}function ev(n,r,o,u,f){o=o.render;var m=r.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return sa(r),u=zd(n,r,o,E,m,f),w=Bd(),n!==null&&!kt?(Hd(n,r,f),cr(n,r,f)):(je&&w&&bd(r),r.flags|=1,Xt(n,r,u,f),r.child)}function tv(n,r,o,u,f){if(n===null){var m=o.type;return typeof m=="function"&&!_d(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,nv(n,r,m,u,f)):(n=Ic(o.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!dm(n,f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:El,o(E,u)&&n.ref===r.ref)return cr(n,r,f)}return r.flags|=1,n=rr(m,u),n.ref=r.ref,n.return=r,r.child=n}function nv(n,r,o,u,f){if(n!==null){var m=n.memoizedProps;if(El(m,u)&&n.ref===r.ref)if(kt=!1,r.pendingProps=u=m,dm(n,f))(n.flags&131072)!==0&&(kt=!0);else return r.lanes=n.lanes,cr(n,r,f)}return am(n,r,o,u,f)}function iv(n,r,o,u){var f=u.children,m=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(u=r.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,r.child=null;return rv(n,r,m,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Oc(r,m!==null?m.cachePool:null),m!==null?a_(r,m):Ld(),o_(r);else return u=r.lanes=536870912,rv(n,r,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Oc(r,m.cachePool),a_(r,m),Jr(),r.memoizedState=null):(n!==null&&Oc(r,null),Ld(),Jr());return Xt(n,r,f,o),r.child}function Pl(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function rv(n,r,o,u,f){var m=Nd();return m=m===null?null:{parent:It._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},n!==null&&Oc(r,null),Ld(),o_(r),n!==null&&Za(n,r,u,!0),r.childLanes=f,null}function Qc(n,r){return r=Wc({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function sv(n,r,o){return ua(r,n.child,null,o),n=Qc(r,r.pendingProps),n.flags|=2,An(r),r.memoizedState=null,n}function pA(n,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(je){if(u.mode==="hidden")return n=Qc(r,u),r.lanes=536870912,Pl(null,n);if(Ud(r),(n=at)?(n=y0(n,Hn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Fr!==null?{id:Li,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},o=Hy(n),o.return=r,r.child=o,Yt=r,at=null)):n=null,n===null)throw Gr(r);return r.lanes=536870912,null}return Qc(r,u)}var m=n.memoizedState;if(m!==null){var E=m.dehydrated;if(Ud(r),f)if(r.flags&256)r.flags&=-257,r=sv(n,r,o);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(kt||Za(n,r,o,!1),f=(o&n.childLanes)!==0,kt||f){if(u=it,u!==null&&(E=nl(u,o),E!==0&&E!==m.retryLane))throw m.retryLane=E,ta(n,E),gn(u,n,E),sm;ah(),r=sv(n,r,o)}else n=m.treeContext,at=Fn(E.nextSibling),Yt=r,je=!0,$r=null,Hn=!1,n!==null&&$y(r,n),r=Qc(r,u),r.flags|=4096;return r}return n=rr(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Xc(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function am(n,r,o,u,f){return sa(r),o=zd(n,r,o,u,void 0,f),u=Bd(),n!==null&&!kt?(Hd(n,r,f),cr(n,r,f)):(je&&u&&bd(r),r.flags|=1,Xt(n,r,o,f),r.child)}function av(n,r,o,u,f,m){return sa(r),r.updateQueue=null,o=u_(r,u,o,f),l_(n),u=Bd(),n!==null&&!kt?(Hd(n,r,m),cr(n,r,m)):(je&&u&&bd(r),r.flags|=1,Xt(n,r,o,m),r.child)}function ov(n,r,o,u,f){if(sa(r),r.stateNode===null){var m=Qa,E=o.contextType;typeof E=="object"&&E!==null&&(m=Qt(E)),m=new o(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=im,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},Dd(r),E=o.contextType,m.context=typeof E=="object"&&E!==null?Qt(E):Qa,m.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(nm(r,o,E,u),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&im.enqueueReplaceState(m,m.state,null),Nl(r,u,m,f),Il(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){m=r.stateNode;var w=r.memoizedProps,M=ha(o,w);m.props=M;var F=m.context,X=o.contextType;E=Qa,typeof X=="object"&&X!==null&&(E=Qt(X));var te=o.getDerivedStateFromProps;X=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||F!==E)&&K_(r,m,u,E),Yr=!1;var G=r.memoizedState;m.state=G,Nl(r,u,m,f),Il(),F=r.memoizedState,w||G!==F||Yr?(typeof te=="function"&&(nm(r,o,te,u),F=r.memoizedState),(M=Yr||G_(r,o,M,u,G,F,E))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=F),m.props=u,m.state=F,m.context=E,u=M):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,Od(n,r),E=r.memoizedProps,X=ha(o,E),m.props=X,te=r.pendingProps,G=m.context,F=o.contextType,M=Qa,typeof F=="object"&&F!==null&&(M=Qt(F)),w=o.getDerivedStateFromProps,(F=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==te||G!==M)&&K_(r,m,u,M),Yr=!1,G=r.memoizedState,m.state=G,Nl(r,u,m,f),Il();var Y=r.memoizedState;E!==te||G!==Y||Yr||n!==null&&n.dependencies!==null&&kc(n.dependencies)?(typeof w=="function"&&(nm(r,o,w,u),Y=r.memoizedState),(X=Yr||G_(r,o,X,u,G,Y,M)||n!==null&&n.dependencies!==null&&kc(n.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Y,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Y,M)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Y),m.props=u,m.state=Y,m.context=M,u=X):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),u=!1)}return m=u,Xc(n,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&u?(r.child=ua(r,n.child,null,f),r.child=ua(r,null,o,f)):Xt(n,r,o,f),r.memoizedState=m.state,n=r.child):n=cr(n,r,f),n}function lv(n,r,o,u){return ia(),r.flags|=256,Xt(n,r,o,u),r.child}var om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lm(n){return{baseLanes:n,cachePool:Wy()}}function um(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=Rn),n}function uv(n,r,o){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(bt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(je){if(f?Wr(r):Jr(),(n=at)?(n=y0(n,Hn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Fr!==null?{id:Li,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},o=Hy(n),o.return=r,r.child=o,Yt=r,at=null)):n=null,n===null)throw Gr(r);return $m(n)?r.lanes=32:r.lanes=536870912,null}var w=u.children;return u=u.fallback,f?(Jr(),f=r.mode,w=Wc({mode:"hidden",children:w},f),u=na(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,u=r.child,u.memoizedState=lm(o),u.childLanes=um(n,E,o),r.memoizedState=om,Pl(null,u)):(Wr(r),cm(r,w))}var M=n.memoizedState;if(M!==null&&(w=M.dehydrated,w!==null)){if(m)r.flags&256?(Wr(r),r.flags&=-257,r=hm(n,r,o)):r.memoizedState!==null?(Jr(),r.child=n.child,r.flags|=128,r=null):(Jr(),w=u.fallback,f=r.mode,u=Wc({mode:"visible",children:u.children},f),w=na(w,f,o,null),w.flags|=2,u.return=r,w.return=r,u.sibling=w,r.child=u,ua(r,n.child,null,o),u=r.child,u.memoizedState=lm(o),u.childLanes=um(n,E,o),r.memoizedState=om,r=Pl(null,u));else if(Wr(r),$m(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var F=E.dgst;E=F,u=Error(s(419)),u.stack="",u.digest=E,wl({value:u,source:null,stack:null}),r=hm(n,r,o)}else if(kt||Za(n,r,o,!1),E=(o&n.childLanes)!==0,kt||E){if(E=it,E!==null&&(u=nl(E,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,ta(n,u),gn(E,n,u),sm;Fm(w)||ah(),r=hm(n,r,o)}else Fm(w)?(r.flags|=192,r.child=n.child,r=null):(n=M.treeContext,at=Fn(w.nextSibling),Yt=r,je=!0,$r=null,Hn=!1,n!==null&&$y(r,n),r=cm(r,u.children),r.flags|=4096);return r}return f?(Jr(),w=u.fallback,f=r.mode,M=n.child,F=M.sibling,u=rr(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,F!==null?w=rr(F,w):(w=na(w,f,o,null),w.flags|=2),w.return=r,u.return=r,u.sibling=w,r.child=u,Pl(null,u),u=r.child,w=n.child.memoizedState,w===null?w=lm(o):(f=w.cachePool,f!==null?(M=It._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=Wy(),w={baseLanes:w.baseLanes|o,cachePool:f}),u.memoizedState=w,u.childLanes=um(n,E,o),r.memoizedState=om,Pl(n.child,u)):(Wr(r),o=n.child,n=o.sibling,o=rr(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=o,r.memoizedState=null,o)}function cm(n,r){return r=Wc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Wc(n,r){return n=wn(22,n,null,r),n.lanes=0,n}function hm(n,r,o){return ua(r,n.child,null,o),n=cm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function cv(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),xd(n.return,r,o)}function fm(n,r,o,u,f,m){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=f,E.treeForkCount=m)}function hv(n,r,o){var u=r.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var E=bt.current,w=(E&2)!==0;if(w?(E=E&1|2,r.flags|=128):E&=1,ae(bt,E),Xt(n,r,u,o),u=je?Tl:0,!w&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cv(n,o,r);else if(n.tag===19)cv(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)n=o.alternate,n!==null&&jc(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),fm(r,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&jc(n)===null){r.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}fm(r,!0,o,null,m,u);break;case"together":fm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function cr(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),ts|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(Za(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,o=rr(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=rr(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function dm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&kc(n)))}function gA(n,r,o){switch(r.tag){case 3:Lt(r,r.stateNode.containerInfo),Kr(r,It,n.memoizedState.cache),ia();break;case 27:case 5:Vs(r);break;case 4:Lt(r,r.stateNode.containerInfo);break;case 10:Kr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Ud(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Wr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?uv(n,r,o):(Wr(r),n=cr(n,r,o),n!==null?n.sibling:null);Wr(r);break;case 19:var f=(n.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Za(n,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return hv(n,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(bt,bt.current),u)break;return null;case 22:return r.lanes=0,iv(n,r,o,r.pendingProps);case 24:Kr(r,It,n.memoizedState.cache)}return cr(n,r,o)}function fv(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)kt=!0;else{if(!dm(n,o)&&(r.flags&128)===0)return kt=!1,gA(n,r,o);kt=(n.flags&131072)!==0}else kt=!1,je&&(r.flags&1048576)!==0&&Fy(r,Tl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=oa(r.elementType),r.type=n,typeof n=="function")_d(n)?(u=ha(n,u),r.tag=1,r=ov(null,r,n,u,o)):(r.tag=0,r=am(null,r,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===oe){r.tag=11,r=ev(null,r,n,u,o);break e}else if(f===N){r.tag=14,r=tv(null,r,n,u,o);break e}}throw r=ge(n)||n,Error(s(306,r,""))}}return r;case 0:return am(n,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=ha(u,r.pendingProps),ov(n,r,u,f,o);case 3:e:{if(Lt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var m=r.memoizedState;f=m.element,Od(n,r),Nl(r,u,null,o);var E=r.memoizedState;if(u=E.cache,Kr(r,It,u),u!==m.cache&&Rd(r,[It],o,!0),Il(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=lv(n,r,u,o);break e}else if(u!==f){f=jn(Error(s(424)),r),wl(f),r=lv(n,r,u,o);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(at=Fn(n.firstChild),Yt=r,je=!0,$r=null,Hn=!0,o=i_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ia(),u===f){r=cr(n,r,o);break e}Xt(n,r,u,o)}r=r.child}return r;case 26:return Xc(n,r),n===null?(o=w0(r.type,null,r.pendingProps,null))?r.memoizedState=o:je||(o=r.type,n=r.pendingProps,u=dh(Ie.current).createElement(o),u[xt]=r,u[zt]=n,Wt(u,o,n),Rt(u),r.stateNode=u):r.memoizedState=w0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Vs(r),n===null&&je&&(u=r.stateNode=E0(r.type,r.pendingProps,Ie.current),Yt=r,Hn=!0,f=at,as(r.type)?(Gm=f,at=Fn(u.firstChild)):at=f),Xt(n,r,r.pendingProps.children,o),Xc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&je&&((f=u=at)&&(u=GA(u,r.type,r.pendingProps,Hn),u!==null?(r.stateNode=u,Yt=r,at=Fn(u.firstChild),Hn=!1,f=!0):f=!1),f||Gr(r)),Vs(r),f=r.type,m=r.pendingProps,E=n!==null?n.memoizedProps:null,u=m.children,Bm(f,m)?u=null:E!==null&&Bm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=zd(n,r,oA,null,null,o),Xl._currentValue=f),Xc(n,r),Xt(n,r,u,o),r.child;case 6:return n===null&&je&&((n=o=at)&&(o=KA(o,r.pendingProps,Hn),o!==null?(r.stateNode=o,Yt=r,at=null,n=!0):n=!1),n||Gr(r)),null;case 13:return uv(n,r,o);case 4:return Lt(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=ua(r,null,u,o):Xt(n,r,u,o),r.child;case 11:return ev(n,r,r.type,r.pendingProps,o);case 7:return Xt(n,r,r.pendingProps,o),r.child;case 8:return Xt(n,r,r.pendingProps.children,o),r.child;case 12:return Xt(n,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Kr(r,r.type,u.value),Xt(n,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,sa(r),f=Qt(f),u=u(f),r.flags|=1,Xt(n,r,u,o),r.child;case 14:return tv(n,r,r.type,r.pendingProps,o);case 15:return nv(n,r,r.type,r.pendingProps,o);case 19:return hv(n,r,o);case 31:return pA(n,r,o);case 22:return iv(n,r,o,r.pendingProps);case 24:return sa(r),u=Qt(It),n===null?(f=Nd(),f===null&&(f=it,m=Cd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),r.memoizedState={parent:u,cache:f},Dd(r),Kr(r,It,f)):((n.lanes&o)!==0&&(Od(n,r),Nl(r,null,null,o),Il()),f=n.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Kr(r,It,u)):(u=m.cache,Kr(r,It,u),u!==f.cache&&Rd(r,[It],o,!0))),Xt(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function hr(n){n.flags|=4}function mm(n,r,o,u,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(jv())n.flags|=8192;else throw la=Pc,kd}else n.flags&=-16777217}function dv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!C0(r))if(jv())n.flags|=8192;else throw la=Pc,kd}function Jc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?rc():536870912,n.lanes|=r,ho|=r)}function Ll(n,r){if(!je)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ot(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function yA(n,r,o){var u=r.pendingProps;switch(Td(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return o=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),or(It),lt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Ja(r)?hr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Sd())),ot(r),null;case 26:var f=r.type,m=r.memoizedState;return n===null?(hr(r),m!==null?(ot(r),dv(r,m)):(ot(r),mm(r,f,null,u,o))):m?m!==n.memoizedState?(hr(r),ot(r),dv(r,m)):(ot(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&hr(r),ot(r),mm(r,f,n,u,o)),null;case 27:if(Na(r),o=Ie.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&hr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}n=ue.current,Ja(r)?Gy(r):(n=E0(f,u,o),r.stateNode=n,hr(r))}return ot(r),null;case 5:if(Na(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&hr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(m=ue.current,Ja(r))Gy(r);else{var E=dh(Ie.current);switch(m){case 1:m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=E.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?E.createElement(f,{is:u.is}):E.createElement(f)}}m[xt]=r,m[zt]=u;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)m.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=m;e:switch(Wt(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&hr(r)}}return ot(r),mm(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,o),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&hr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ie.current,Ja(r)){if(n=r.stateNode,o=r.memoizedProps,u=null,f=Yt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[xt]=r,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||u0(n.nodeValue,o)),n||Gr(r,!0)}else n=dh(n).createTextNode(u),n[xt]=r,r.stateNode=n}return ot(r),null;case 31:if(o=r.memoizedState,n===null||n.memoizedState!==null){if(u=Ja(r),o!==null){if(n===null){if(!u)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[xt]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),n=!1}else o=Sd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return r.flags&256?(An(r),r):(An(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ot(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ja(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xt]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),f=!1}else f=Sd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(An(r),r):(An(r),null)}return An(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==n&&o&&(r.child.flags|=8192),Jc(r,r.updateQueue),ot(r),null);case 4:return lt(),n===null&&Lm(r.stateNode.containerInfo),ot(r),null;case 10:return or(r.type),ot(r),null;case 19:if(W(bt),u=r.memoizedState,u===null)return ot(r),null;if(f=(r.flags&128)!==0,m=u.rendering,m===null)if(f)Ll(u,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=jc(n),m!==null){for(r.flags|=128,Ll(u,!1),n=m.updateQueue,r.updateQueue=n,Jc(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)By(o,n),o=o.sibling;return ae(bt,bt.current&1|2),je&&sr(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&sn()>ih&&(r.flags|=128,f=!0,Ll(u,!1),r.lanes=4194304)}else{if(!f)if(n=jc(m),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,Jc(r,n),Ll(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!je)return ot(r),null}else 2*sn()-u.renderingStartTime>ih&&o!==536870912&&(r.flags|=128,f=!0,Ll(u,!1),r.lanes=4194304);u.isBackwards?(m.sibling=r.child,r.child=m):(n=u.last,n!==null?n.sibling=m:r.child=m,u.last=m)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=sn(),n.sibling=null,o=bt.current,ae(bt,f?o&1|2:o&1),je&&sr(r,u.treeForkCount),n):(ot(r),null);case 22:case 23:return An(r),Vd(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),o=r.updateQueue,o!==null&&Jc(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),n!==null&&W(aa),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),or(It),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function _A(n,r){switch(Td(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return or(It),lt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Na(r),null;case 31:if(r.memoizedState!==null){if(An(r),r.alternate===null)throw Error(s(340));ia()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(An(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ia()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return W(bt),null;case 4:return lt(),null;case 10:return or(r.type),null;case 22:case 23:return An(r),Vd(),n!==null&&W(aa),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return or(It),null;case 25:return null;default:return null}}function mv(n,r){switch(Td(r),r.tag){case 3:or(It),lt();break;case 26:case 27:case 5:Na(r);break;case 4:lt();break;case 31:r.memoizedState!==null&&An(r);break;case 13:An(r);break;case 19:W(bt);break;case 10:or(r.type);break;case 22:case 23:An(r),Vd(),n!==null&&W(aa);break;case 24:or(It)}}function Vl(n,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==f)}}catch(w){We(r,r.return,w)}}function Zr(n,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=r;var M=o,F=w;try{F()}catch(X){We(f,M,X)}}}u=u.next}while(u!==m)}}catch(X){We(r,r.return,X)}}function pv(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{s_(r,o)}catch(u){We(n,n.return,u)}}}function gv(n,r,o){o.props=ha(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){We(n,r,u)}}function Ul(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){We(n,r,f)}}function Ui(n,r){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){We(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){We(n,r,f)}else o.current=null}function yv(n){var r=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){We(n,n.return,f)}}function pm(n,r,o){try{var u=n.stateNode;zA(u,n.type,o,r),u[zt]=r}catch(f){We(n,n.return,f)}}function _v(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&as(n.type)||n.tag===4}function gm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_v(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&as(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ym(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Wn));else if(u!==4&&(u===27&&as(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(ym(n,r,o),n=n.sibling;n!==null;)ym(n,r,o),n=n.sibling}function Zc(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(u===27&&as(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Zc(n,r,o),n=n.sibling;n!==null;)Zc(n,r,o),n=n.sibling}function vv(n){var r=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Wt(r,u,o),r[xt]=n,r[zt]=o}catch(m){We(n,n.return,m)}}var fr=!1,Dt=!1,_m=!1,Ev=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function vA(n,r){if(n=n.containerInfo,jm=Eh,n=Dy(n),hd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,w=-1,M=-1,F=0,X=0,te=n,G=null;t:for(;;){for(var Y;te!==o||f!==0&&te.nodeType!==3||(w=E+f),te!==m||u!==0&&te.nodeType!==3||(M=E+u),te.nodeType===3&&(E+=te.nodeValue.length),(Y=te.firstChild)!==null;)G=te,te=Y;for(;;){if(te===n)break t;if(G===o&&++F===f&&(w=E),G===m&&++X===u&&(M=E),(Y=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Y}o=w===-1||M===-1?null:{start:w,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(zm={focusedElem:n,selectionRange:o},Eh=!1,Ht=r;Ht!==null;)if(r=Ht,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Ht=n;else for(;Ht!==null;){switch(r=Ht,m=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=r,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var he=ha(o.type,f);n=u.getSnapshotBeforeUpdate(he,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(ve){We(o,o.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)qm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":qm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Ht=n;break}Ht=r.return}}function bv(n,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:mr(n,o),u&4&&Vl(5,o);break;case 1:if(mr(n,o),u&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(E){We(o,o.return,E)}else{var f=ha(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){We(o,o.return,E)}}u&64&&pv(o),u&512&&Ul(o,o.return);break;case 3:if(mr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{s_(n,r)}catch(E){We(o,o.return,E)}}break;case 27:r===null&&u&4&&vv(o);case 26:case 5:mr(n,o),r===null&&u&4&&yv(o),u&512&&Ul(o,o.return);break;case 12:mr(n,o);break;case 31:mr(n,o),u&4&&Sv(n,o);break;case 13:mr(n,o),u&4&&Av(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=CA.bind(null,o),YA(n,o))));break;case 22:if(u=o.memoizedState!==null||fr,!u){r=r!==null&&r.memoizedState!==null||Dt,f=fr;var m=Dt;fr=u,(Dt=r)&&!m?pr(n,o,(o.subtreeFlags&8772)!==0):mr(n,o),fr=f,Dt=m}break;case 30:break;default:mr(n,o)}}function Tv(n){var r=n.alternate;r!==null&&(n.alternate=null,Tv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Pa(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ct=null,fn=!1;function dr(n,r,o){for(o=o.child;o!==null;)wv(n,r,o),o=o.sibling}function wv(n,r,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Kn,o)}catch{}switch(o.tag){case 26:Dt||Ui(o,r),dr(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Dt||Ui(o,r);var u=ct,f=fn;as(o.type)&&(ct=o.stateNode,fn=!1),dr(n,r,o),Kl(o.stateNode),ct=u,fn=f;break;case 5:Dt||Ui(o,r);case 6:if(u=ct,f=fn,ct=null,dr(n,r,o),ct=u,fn=f,ct!==null)if(fn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(m){We(o,r,m)}else try{ct.removeChild(o.stateNode)}catch(m){We(o,r,m)}break;case 18:ct!==null&&(fn?(n=ct,p0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Eo(n)):p0(ct,o.stateNode));break;case 4:u=ct,f=fn,ct=o.stateNode.containerInfo,fn=!0,dr(n,r,o),ct=u,fn=f;break;case 0:case 11:case 14:case 15:Zr(2,o,r),Dt||Zr(4,o,r),dr(n,r,o);break;case 1:Dt||(Ui(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&gv(o,r,u)),dr(n,r,o);break;case 21:dr(n,r,o);break;case 22:Dt=(u=Dt)||o.memoizedState!==null,dr(n,r,o),Dt=u;break;default:dr(n,r,o)}}function Sv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Eo(n)}catch(o){We(r,r.return,o)}}}function Av(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Eo(n)}catch(o){We(r,r.return,o)}}function EA(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Ev),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Ev),r;default:throw Error(s(435,n.tag))}}function eh(n,r){var o=EA(n);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=IA.bind(null,n,u);u.then(f,f)}})}function dn(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=n,E=r,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(as(w.type)){ct=w.stateNode,fn=!1;break e}break;case 5:ct=w.stateNode,fn=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,fn=!0;break e}w=w.return}if(ct===null)throw Error(s(160));wv(m,E,f),ct=null,fn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)xv(r,n),r=r.sibling}var ii=null;function xv(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:dn(r,n),mn(n),u&4&&(Zr(3,n,n.return),Vl(3,n),Zr(5,n,n.return));break;case 1:dn(r,n),mn(n),u&512&&(Dt||o===null||Ui(o,o.return)),u&64&&fr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=ii;if(dn(r,n),mn(n),u&512&&(Dt||o===null||Ui(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Si]||m[xt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Wt(m,u,o),m[xt]=n,Rt(m),u=m;break e;case"link":var E=x0("link","href",f).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(m=E[w],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break t}}m=f.createElement(u),Wt(m,u,o),f.head.appendChild(m);break;case"meta":if(E=x0("meta","content",f).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(m=E[w],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break t}}m=f.createElement(u),Wt(m,u,o),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[xt]=n,Rt(m),u=m}n.stateNode=u}else R0(f,n.type,n.stateNode);else n.stateNode=A0(f,u,n.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?R0(f,n.type,n.stateNode):A0(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&pm(n,n.memoizedProps,o.memoizedProps)}break;case 27:dn(r,n),mn(n),u&512&&(Dt||o===null||Ui(o,o.return)),o!==null&&u&4&&pm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(dn(r,n),mn(n),u&512&&(Dt||o===null||Ui(o,o.return)),n.flags&32){f=n.stateNode;try{hn(f,"")}catch(he){We(n,n.return,he)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,pm(n,f,o!==null?o.memoizedProps:f)),u&1024&&(_m=!0);break;case 6:if(dn(r,n),mn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(he){We(n,n.return,he)}}break;case 3:if(gh=null,f=ii,ii=mh(r.containerInfo),dn(r,n),ii=f,mn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Eo(r.containerInfo)}catch(he){We(n,n.return,he)}_m&&(_m=!1,Rv(n));break;case 4:u=ii,ii=mh(n.stateNode.containerInfo),dn(r,n),mn(n),ii=u;break;case 12:dn(r,n),mn(n);break;case 31:dn(r,n),mn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,eh(n,u)));break;case 13:dn(r,n),mn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(nh=sn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,eh(n,u)));break;case 22:f=n.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,F=fr,X=Dt;if(fr=F||f,Dt=X||M,dn(r,n),Dt=X,fr=F,mn(n),u&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||M||fr||Dt||fa(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(m=M.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=M.stateNode;var te=M.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(he){We(M,M.return,he)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(he){We(M,M.return,he)}}}else if(r.tag===18){if(o===null){M=r;try{var Y=M.stateNode;f?g0(Y,!0):g0(M.stateNode,!1)}catch(he){We(M,M.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,eh(n,o))));break;case 19:dn(r,n),mn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,eh(n,u)));break;case 30:break;case 21:break;default:dn(r,n),mn(n)}}function mn(n){var r=n.flags;if(r&2){try{for(var o,u=n.return;u!==null;){if(_v(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,m=gm(n);Zc(n,m,f);break;case 5:var E=o.stateNode;o.flags&32&&(hn(E,""),o.flags&=-33);var w=gm(n);Zc(n,w,E);break;case 3:case 4:var M=o.stateNode.containerInfo,F=gm(n);ym(n,F,M);break;default:throw Error(s(161))}}catch(X){We(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Rv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Rv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function mr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)bv(n,r.alternate,r),r=r.sibling}function fa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Zr(4,r,r.return),fa(r);break;case 1:Ui(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&gv(r,r.return,o),fa(r);break;case 27:Kl(r.stateNode);case 26:case 5:Ui(r,r.return),fa(r);break;case 22:r.memoizedState===null&&fa(r);break;case 30:fa(r);break;default:fa(r)}n=n.sibling}}function pr(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,m=r,E=m.flags;switch(m.tag){case 0:case 11:case 15:pr(f,m,o),Vl(4,m);break;case 1:if(pr(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){We(u,u.return,F)}if(u=m,f=u.updateQueue,f!==null){var w=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)r_(M[f],w)}catch(F){We(u,u.return,F)}}o&&E&64&&pv(m),Ul(m,m.return);break;case 27:vv(m);case 26:case 5:pr(f,m,o),o&&u===null&&E&4&&yv(m),Ul(m,m.return);break;case 12:pr(f,m,o);break;case 31:pr(f,m,o),o&&E&4&&Sv(f,m);break;case 13:pr(f,m,o),o&&E&4&&Av(f,m);break;case 22:m.memoizedState===null&&pr(f,m,o),Ul(m,m.return);break;case 30:break;default:pr(f,m,o)}r=r.sibling}}function vm(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Sl(o))}function Em(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Sl(n))}function ri(n,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Cv(n,r,o,u),r=r.sibling}function Cv(n,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ri(n,r,o,u),f&2048&&Vl(9,r);break;case 1:ri(n,r,o,u);break;case 3:ri(n,r,o,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Sl(n)));break;case 12:if(f&2048){ri(n,r,o,u),n=r.stateNode;try{var m=r.memoizedProps,E=m.id,w=m.onPostCommit;typeof w=="function"&&w(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){We(r,r.return,M)}}else ri(n,r,o,u);break;case 31:ri(n,r,o,u);break;case 13:ri(n,r,o,u);break;case 23:break;case 22:m=r.stateNode,E=r.alternate,r.memoizedState!==null?m._visibility&2?ri(n,r,o,u):jl(n,r):m._visibility&2?ri(n,r,o,u):(m._visibility|=2,lo(n,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&vm(E,r);break;case 24:ri(n,r,o,u),f&2048&&Em(r.alternate,r);break;default:ri(n,r,o,u)}}function lo(n,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=n,E=r,w=o,M=u,F=E.flags;switch(E.tag){case 0:case 11:case 15:lo(m,E,w,M,f),Vl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?lo(m,E,w,M,f):jl(m,E):(X._visibility|=2,lo(m,E,w,M,f)),f&&F&2048&&vm(E.alternate,E);break;case 24:lo(m,E,w,M,f),f&&F&2048&&Em(E.alternate,E);break;default:lo(m,E,w,M,f)}r=r.sibling}}function jl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,u=r,f=u.flags;switch(u.tag){case 22:jl(o,u),f&2048&&vm(u.alternate,u);break;case 24:jl(o,u),f&2048&&Em(u.alternate,u);break;default:jl(o,u)}r=r.sibling}}var zl=8192;function uo(n,r,o){if(n.subtreeFlags&zl)for(n=n.child;n!==null;)Iv(n,r,o),n=n.sibling}function Iv(n,r,o){switch(n.tag){case 26:uo(n,r,o),n.flags&zl&&n.memoizedState!==null&&ax(o,ii,n.memoizedState,n.memoizedProps);break;case 5:uo(n,r,o);break;case 3:case 4:var u=ii;ii=mh(n.stateNode.containerInfo),uo(n,r,o),ii=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=zl,zl=16777216,uo(n,r,o),zl=u):uo(n,r,o));break;default:uo(n,r,o)}}function Nv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Bl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ht=u,Dv(u,n)}Nv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kv(n),n=n.sibling}function kv(n){switch(n.tag){case 0:case 11:case 15:Bl(n),n.flags&2048&&Zr(9,n,n.return);break;case 3:Bl(n);break;case 12:Bl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,th(n)):Bl(n);break;default:Bl(n)}}function th(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ht=u,Dv(u,n)}Nv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Zr(8,r,r.return),th(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,th(r));break;default:th(r)}n=n.sibling}}function Dv(n,r){for(;Ht!==null;){var o=Ht;switch(o.tag){case 0:case 11:case 15:Zr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Sl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ht=u;else e:for(o=n;Ht!==null;){u=Ht;var f=u.sibling,m=u.return;if(Tv(u),u===o){Ht=null;break e}if(f!==null){f.return=m,Ht=f;break e}Ht=m}}}var bA={getCacheForType:function(n){var r=Qt(It),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o},cacheSignal:function(){return Qt(It).controller.signal}},TA=typeof WeakMap=="function"?WeakMap:Map,Ke=0,it=null,De=null,Me=0,Xe=0,xn=null,es=!1,co=!1,bm=!1,gr=0,gt=0,ts=0,da=0,Tm=0,Rn=0,ho=0,Hl=null,pn=null,wm=!1,nh=0,Ov=0,ih=1/0,rh=null,ns=null,Ut=0,is=null,fo=null,yr=0,Sm=0,Am=null,Mv=null,ql=0,xm=null;function Cn(){return(Ke&2)!==0&&Me!==0?Me&-Me:$.T!==null?Dm():sc()}function Pv(){if(Rn===0)if((Me&536870912)===0||je){var n=zs;zs<<=1,(zs&3932160)===0&&(zs=262144),Rn=n}else Rn=536870912;return n=Sn.current,n!==null&&(n.flags|=32),Rn}function gn(n,r,o){(n===it&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(mo(n,0),rs(n,Me,Rn,!1)),Bs(n,o),((Ke&2)===0||n!==it)&&(n===it&&((Ke&2)===0&&(da|=o),gt===4&&rs(n,Me,Rn,!1)),ji(n))}function Lv(n,r,o){if((Ke&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&n.expiredLanes)===0||Yn(n,r),f=u?AA(n,r):Cm(n,r,!0),m=u;do{if(f===0){co&&!u&&rs(n,r,0,!1);break}else{if(o=n.current.alternate,m&&!wA(o)){f=Cm(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var w=n;f=Hl;var M=w.current.memoizedState.isDehydrated;if(M&&(mo(w,E).flags|=256),E=Cm(w,E,!1),E!==2){if(bm&&!M){w.errorRecoveryDisabledLanes|=m,da|=m,f=4;break e}m=pn,pn=f,m!==null&&(pn===null?pn=m:pn.push.apply(pn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){mo(n,0),rs(n,r,0,!0);break}e:{switch(u=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:rs(u,r,Rn,!es);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=nh+300-sn(),10<f)){if(rs(u,r,Rn,!es),bi(u,0,!0)!==0)break e;yr=r,u.timeoutHandle=d0(Vv.bind(null,u,o,pn,rh,wm,r,Rn,da,ho,es,m,"Throttled",-0,0),f);break e}Vv(u,o,pn,rh,wm,r,Rn,da,ho,es,m,null,-0,0)}}break}while(!0);ji(n)}function Vv(n,r,o,u,f,m,E,w,M,F,X,te,G,Y){if(n.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},Iv(r,m,te);var he=(m&62914560)===m?nh-sn():(m&4194048)===m?Ov-sn():0;if(he=ox(te,he),he!==null){yr=m,n.cancelPendingCommit=he($v.bind(null,n,r,m,o,u,f,E,w,M,X,te,null,G,Y)),rs(n,m,E,!F);return}}$v(n,r,m,o,u,f,E,w,M)}function wA(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Tn(m(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function rs(n,r,o,u){r&=~Tm,r&=~da,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var m=31-vt(f),E=1<<m;u[m]=-1,f&=~E}o!==0&&Hs(n,o,r)}function sh(){return(Ke&6)===0?(Fl(0),!1):!0}function Rm(){if(De!==null){if(Xe===0)var n=De.return;else n=De,ar=ra=null,qd(n),io=null,xl=0,n=De;for(;n!==null;)mv(n.alternate,n),n=n.return;De=null}}function mo(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,qA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),yr=0,Rm(),it=n,De=o=rr(n.current,null),Me=r,Xe=0,xn=null,es=!1,co=Yn(n,r),bm=!1,ho=Rn=Tm=da=ts=gt=0,pn=Hl=null,wm=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-vt(u),m=1<<f;r|=n[f],u&=~m}return gr=r,xc(),o}function Uv(n,r){Ce=null,$.H=Ml,r===no||r===Mc?(r=e_(),Xe=3):r===kd?(r=e_(),Xe=4):Xe=r===sm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,De===null&&(gt=1,Yc(n,jn(r,n.current)))}function jv(){var n=Sn.current;return n===null?!0:(Me&4194048)===Me?qn===null:(Me&62914560)===Me||(Me&536870912)!==0?n===qn:!1}function zv(){var n=$.H;return $.H=Ml,n===null?Ml:n}function Bv(){var n=$.A;return $.A=bA,n}function ah(){gt=4,es||(Me&4194048)!==Me&&Sn.current!==null||(co=!0),(ts&134217727)===0&&(da&134217727)===0||it===null||rs(it,Me,Rn,!1)}function Cm(n,r,o){var u=Ke;Ke|=2;var f=zv(),m=Bv();(it!==n||Me!==r)&&(rh=null,mo(n,r)),r=!1;var E=gt;e:do try{if(Xe!==0&&De!==null){var w=De,M=xn;switch(Xe){case 8:Rm(),E=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(r=!0);var F=Xe;if(Xe=0,xn=null,po(n,w,M,F),o&&co){E=0;break e}break;default:F=Xe,Xe=0,xn=null,po(n,w,M,F)}}SA(),E=gt;break}catch(X){Uv(n,X)}while(!0);return r&&n.shellSuspendCounter++,ar=ra=null,Ke=u,$.H=f,$.A=m,De===null&&(it=null,Me=0,xc()),E}function SA(){for(;De!==null;)Hv(De)}function AA(n,r){var o=Ke;Ke|=2;var u=zv(),f=Bv();it!==n||Me!==r?(rh=null,ih=sn()+500,mo(n,r)):co=Yn(n,r);e:do try{if(Xe!==0&&De!==null){r=De;var m=xn;t:switch(Xe){case 1:Xe=0,xn=null,po(n,r,m,1);break;case 2:case 9:if(Jy(m)){Xe=0,xn=null,qv(r);break}r=function(){Xe!==2&&Xe!==9||it!==n||(Xe=7),ji(n)},m.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Jy(m)?(Xe=0,xn=null,qv(r)):(Xe=0,xn=null,po(n,r,m,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var w=De;if(E?C0(E):w.stateNode.complete){Xe=0,xn=null;var M=w.sibling;if(M!==null)De=M;else{var F=w.return;F!==null?(De=F,oh(F)):De=null}break t}}Xe=0,xn=null,po(n,r,m,5);break;case 6:Xe=0,xn=null,po(n,r,m,6);break;case 8:Rm(),gt=6;break e;default:throw Error(s(462))}}xA();break}catch(X){Uv(n,X)}while(!0);return ar=ra=null,$.H=u,$.A=f,Ke=o,De!==null?0:(it=null,Me=0,xc(),gt)}function xA(){for(;De!==null&&!rd();)Hv(De)}function Hv(n){var r=fv(n.alternate,n,gr);n.memoizedProps=n.pendingProps,r===null?oh(n):De=r}function qv(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=av(o,r,r.pendingProps,r.type,void 0,Me);break;case 11:r=av(o,r,r.pendingProps,r.type.render,r.ref,Me);break;case 5:qd(r);default:mv(o,r),r=De=By(r,gr),r=fv(o,r,gr)}n.memoizedProps=n.pendingProps,r===null?oh(n):De=r}function po(n,r,o,u){ar=ra=null,qd(r),io=null,xl=0;var f=r.return;try{if(mA(n,f,r,o,Me)){gt=1,Yc(n,jn(o,n.current)),De=null;return}}catch(m){if(f!==null)throw De=f,m;gt=1,Yc(n,jn(o,n.current)),De=null;return}r.flags&32768?(je||u===1?n=!0:co||(Me&536870912)!==0?n=!1:(es=n=!0,(u===2||u===9||u===3||u===6)&&(u=Sn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Fv(r,n)):oh(r)}function oh(n){var r=n;do{if((r.flags&32768)!==0){Fv(r,es);return}n=r.return;var o=yA(r.alternate,r,gr);if(o!==null){De=o;return}if(r=r.sibling,r!==null){De=r;return}De=r=n}while(r!==null);gt===0&&(gt=5)}function Fv(n,r){do{var o=_A(n.alternate,n);if(o!==null){o.flags&=32767,De=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){De=n;return}De=n=o}while(n!==null);gt=6,De=null}function $v(n,r,o,u,f,m,E,w,M){n.cancelPendingCommit=null;do lh();while(Ut!==0);if((Ke&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=gd,od(n,o,m,E,w,M),n===it&&(De=it=null,Me=0),fo=r,is=n,yr=o,Sm=m,Am=f,Mv=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,NA(Mr,function(){return Xv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,f=re.p,re.p=2,E=Ke,Ke|=4;try{vA(n,r,o)}finally{Ke=E,re.p=f,$.T=u}}Ut=1,Gv(),Kv(),Yv()}}function Gv(){if(Ut===1){Ut=0;var n=is,r=fo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=re.p;re.p=2;var f=Ke;Ke|=4;try{xv(r,n);var m=zm,E=Dy(n.containerInfo),w=m.focusedElem,M=m.selectionRange;if(E!==w&&w&&w.ownerDocument&&ky(w.ownerDocument.documentElement,w)){if(M!==null&&hd(w)){var F=M.start,X=M.end;if(X===void 0&&(X=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(X,w.value.length);else{var te=w.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var Y=G.getSelection(),he=w.textContent.length,ve=Math.min(M.start,he),tt=M.end===void 0?ve:Math.min(M.end,he);!Y.extend&&ve>tt&&(E=tt,tt=ve,ve=E);var B=Ny(w,ve),L=Ny(w,tt);if(B&&L&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==L.node||Y.focusOffset!==L.offset)){var q=te.createRange();q.setStart(B.node,B.offset),Y.removeAllRanges(),ve>tt?(Y.addRange(q),Y.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),Y.addRange(q))}}}}for(te=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var Z=te[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Eh=!!jm,zm=jm=null}finally{Ke=f,re.p=u,$.T=o}}n.current=r,Ut=2}}function Kv(){if(Ut===2){Ut=0;var n=is,r=fo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=re.p;re.p=2;var f=Ke;Ke|=4;try{bv(n,r.alternate,r)}finally{Ke=f,re.p=u,$.T=o}}Ut=3}}function Yv(){if(Ut===4||Ut===3){Ut=0,Ju();var n=is,r=fo,o=yr,u=Mv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,fo=is=null,Qv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(ns=null),er(o),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Kn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=$.T,f=re.p,re.p=2,$.T=null;try{for(var m=n.onRecoverableError,E=0;E<u.length;E++){var w=u[E];m(w.value,{componentStack:w.stack})}}finally{$.T=r,re.p=f}}(yr&3)!==0&&lh(),ji(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===xm?ql++:(ql=0,xm=n):ql=0,Fl(0)}}function Qv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Sl(r)))}function lh(){return Gv(),Kv(),Yv(),Xv()}function Xv(){if(Ut!==5)return!1;var n=is,r=Sm;Sm=0;var o=er(yr),u=$.T,f=re.p;try{re.p=32>o?32:o,$.T=null,o=Am,Am=null;var m=is,E=yr;if(Ut=0,fo=is=null,yr=0,(Ke&6)!==0)throw Error(s(331));var w=Ke;if(Ke|=4,kv(m.current),Cv(m,m.current,E,o),Ke=w,Fl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Kn,m)}catch{}return!0}finally{re.p=f,$.T=u,Qv(n,r)}}function Wv(n,r,o){r=jn(o,r),r=rm(n.stateNode,r,2),n=Xr(n,r,2),n!==null&&(Bs(n,2),ji(n))}function We(n,r,o){if(n.tag===3)Wv(n,n,o);else for(;r!==null;){if(r.tag===3){Wv(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ns===null||!ns.has(u))){n=jn(o,n),o=J_(2),u=Xr(r,o,2),u!==null&&(Z_(o,u,r,n),Bs(u,2),ji(u));break}}r=r.return}}function Im(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new TA;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(bm=!0,f.add(o),n=RA.bind(null,n,r,o),r.then(n,n))}function RA(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,it===n&&(Me&o)===o&&(gt===4||gt===3&&(Me&62914560)===Me&&300>sn()-nh?(Ke&2)===0&&mo(n,0):Tm|=o,ho===Me&&(ho=0)),ji(n)}function Jv(n,r){r===0&&(r=rc()),n=ta(n,r),n!==null&&(Bs(n,r),ji(n))}function CA(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),Jv(n,o)}function IA(n,r){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Jv(n,o)}function NA(n,r){return Vt(n,r)}var uh=null,go=null,Nm=!1,ch=!1,km=!1,ss=0;function ji(n){n!==go&&n.next===null&&(go===null?uh=go=n:go=go.next=n),ch=!0,Nm||(Nm=!0,DA())}function Fl(n,r){if(!km&&ch){km=!0;do for(var o=!1,u=uh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,w=u.pingedLanes;m=(1<<31-vt(42|n)+1)-1,m&=f&~(E&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,n0(u,m))}else m=Me,m=bi(u,u===it?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Yn(u,m)||(o=!0,n0(u,m));u=u.next}while(o);km=!1}}function kA(){Zv()}function Zv(){ch=Nm=!1;var n=0;ss!==0&&HA()&&(n=ss);for(var r=sn(),o=null,u=uh;u!==null;){var f=u.next,m=e0(u,r);m===0?(u.next=null,o===null?uh=f:o.next=f,f===null&&(go=o)):(o=u,(n!==0||(m&3)!==0)&&(ch=!0)),u=f}Ut!==0&&Ut!==5||Fl(n),ss!==0&&(ss=0)}function e0(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-vt(m),w=1<<E,M=f[E];M===-1?((w&o)===0||(w&u)!==0)&&(f[E]=ad(w,r)):M<=r&&(n.expiredLanes|=w),m&=~w}if(r=it,o=Me,o=bi(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===r&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Or(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Yn(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(u!==null&&Or(u),er(o)){case 2:case 8:o=el;break;case 32:o=Mr;break;case 268435456:o=Zu;break;default:o=Mr}return u=t0.bind(null,n),o=Vt(o,u),n.callbackPriority=r,n.callbackNode=o,r}return u!==null&&u!==null&&Or(u),n.callbackPriority=2,n.callbackNode=null,2}function t0(n,r){if(Ut!==0&&Ut!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(lh()&&n.callbackNode!==o)return null;var u=Me;return u=bi(n,n===it?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Lv(n,u,r),e0(n,sn()),n.callbackNode!=null&&n.callbackNode===o?t0.bind(null,n):null)}function n0(n,r){if(lh())return null;Lv(n,r,!0)}function DA(){FA(function(){(Ke&6)!==0?Vt(Zo,kA):Zv()})}function Dm(){if(ss===0){var n=eo;n===0&&(n=vi,vi<<=1,(vi&261888)===0&&(vi=256)),ss=n}return ss}function i0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ja(""+n)}function r0(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function OA(n,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var m=i0((f[zt]||null).action),E=u.submitter;E&&(r=(r=E[zt]||null)?i0(r.formAction):E.getAttribute("formAction"),r!==null&&(m=r,E=null));var w=new Di("action","action",null,u,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ss!==0){var M=E?r0(f,E):new FormData(f);Jd(o,{pending:!0,data:M,method:f.method,action:m},null,M)}}else typeof m=="function"&&(w.preventDefault(),M=E?r0(f,E):new FormData(f),Jd(o,{pending:!0,data:M,method:f.method,action:m},m,M))},currentTarget:f}]})}}for(var Om=0;Om<pd.length;Om++){var Mm=pd[Om],MA=Mm.toLowerCase(),PA=Mm[0].toUpperCase()+Mm.slice(1);ni(MA,"on"+PA)}ni(Py,"onAnimationEnd"),ni(Ly,"onAnimationIteration"),ni(Vy,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(WS,"onTransitionRun"),ni(JS,"onTransitionStart"),ni(ZS,"onTransitionCancel"),ni(Uy,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function s0(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var E=u.length-1;0<=E;E--){var w=u[E],M=w.instance,F=w.currentTarget;if(w=w.listener,M!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=F;try{m(f)}catch(X){Ac(X)}f.currentTarget=null,m=M}else for(E=0;E<u.length;E++){if(w=u[E],M=w.instance,F=w.currentTarget,w=w.listener,M!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=F;try{m(f)}catch(X){Ac(X)}f.currentTarget=null,m=M}}}}function Oe(n,r){var o=r[Ma];o===void 0&&(o=r[Ma]=new Set);var u=n+"__bubble";o.has(u)||(a0(r,n,2,!1),o.add(u))}function Pm(n,r,o){var u=0;r&&(u|=4),a0(o,n,u,r)}var hh="_reactListening"+Math.random().toString(36).slice(2);function Lm(n){if(!n[hh]){n[hh]=!0,il.forEach(function(o){o!=="selectionchange"&&(LA.has(o)||Pm(o,!1,n),Pm(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[hh]||(r[hh]=!0,Pm("selectionchange",!1,r))}}function a0(n,r,o,u){switch(P0(r)){case 2:var f=cx;break;case 8:f=hx;break;default:f=Wm}o=f.bind(null,r,o,n),f=void 0,!Ks||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,o,{capture:!0,passive:f}):n.addEventListener(r,o,!0):f!==void 0?n.addEventListener(r,o,{passive:f}):n.addEventListener(r,o,!1)}function Vm(n,r,o,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=u.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=Ai(w),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){u=m=E;continue e}w=w.parentNode}}u=u.return}zr(function(){var F=m,X=Pn(o),te=[];e:{var G=jy.get(n);if(G!==void 0){var Y=Di,he=n;switch(n){case"keypress":if(Qs(o)===0)break e;case"keydown":case"keyup":Y=Tc;break;case"focusin":he="focus",Y=Ws;break;case"focusout":he="blur",Y=Ws;break;case"beforeblur":case"afterblur":Y=Ws;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case Py:case Ly:case Vy:Y=pc;break;case Uy:Y=A;break;case"scroll":case"scrollend":Y=pl;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=gc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ir;break;case"toggle":case"beforetoggle":Y=Re}var ve=(r&4)!==0,tt=!ve&&(n==="scroll"||n==="scrollend"),B=ve?G!==null?G+"Capture":null:G;ve=[];for(var L=F,q;L!==null;){var Z=L;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||B===null||(Z=Jn(L,B),Z!=null&&ve.push(Gl(L,Z,q))),tt)break;L=L.return}0<ve.length&&(G=new Y(G,he,null,o,X),te.push({event:G,listeners:ve}))}}if((r&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",G&&o!==fl&&(he=o.relatedTarget||o.fromElement)&&(Ai(he)||he[wi]))break e;if((Y||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(he=o.relatedTarget||o.toElement,Y=F,he=he?Ai(he):null,he!==null&&(tt=l(he),ve=he.tag,he!==tt||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(Y=null,he=F),Y!==he)){if(ve=gl,Z="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(ve=ir,Z="onPointerLeave",B="onPointerEnter",L="pointer"),tt=Y==null?G:En(Y),q=he==null?G:En(he),G=new ve(Z,L+"leave",Y,o,X),G.target=tt,G.relatedTarget=q,Z=null,Ai(X)===F&&(ve=new ve(B,L+"enter",he,o,X),ve.target=q,ve.relatedTarget=tt,Z=ve),tt=Z,Y&&he)t:{for(ve=VA,B=Y,L=he,q=0,Z=B;Z;Z=ve(Z))q++;Z=0;for(var _e=L;_e;_e=ve(_e))Z++;for(;0<q-Z;)B=ve(B),q--;for(;0<Z-q;)L=ve(L),Z--;for(;q--;){if(B===L||L!==null&&B===L.alternate){ve=B;break t}B=ve(B),L=ve(L)}ve=null}else ve=null;Y!==null&&o0(te,G,Y,ve,!1),he!==null&&tt!==null&&o0(te,tt,he,ve,!0)}}e:{if(G=F?En(F):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var Fe=Sy;else if(Ty(G))if(Ay)Fe=YS;else{Fe=GS;var me=$S}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Ua(F.elementType)&&(Fe=Sy):Fe=KS;if(Fe&&(Fe=Fe(n,F))){wy(te,Fe,o,X);break e}me&&me(n,G,F),n==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&ul(G,"number",G.value)}switch(me=F?En(F):window,n){case"focusin":(Ty(me)||me.contentEditable==="true")&&(Ga=me,fd=F,bl=null);break;case"focusout":bl=fd=Ga=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,Oy(te,o,X);break;case"selectionchange":if(XS)break;case"keydown":case"keyup":Oy(te,o,X)}var Ne;if(Ge)e:{switch(n){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else $a?Js(n,o)&&(Pe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(Pi&&o.locale!=="ko"&&($a||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&$a&&(Ne=ml()):(ki=X,dl="value"in ki?ki.value:ki.textContent,$a=!0)),me=fh(F,Pe),0<me.length&&(Pe=new Mi(Pe,n,null,o,X),te.push({event:Pe,listeners:me}),Ne?Pe.data=Ne:(Ne=Fa(o),Ne!==null&&(Pe.data=Ne)))),(Ne=Vn?BS(n,o):HS(n,o))&&(Pe=fh(F,"onBeforeInput"),0<Pe.length&&(me=new Mi("onBeforeInput","beforeinput",null,o,X),te.push({event:me,listeners:Pe}),me.data=Ne)),OA(te,n,F,o,X)}s0(te,r)})}function Gl(n,r,o){return{instance:n,listener:r,currentTarget:o}}function fh(n,r){for(var o=r+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Jn(n,o),f!=null&&u.unshift(Gl(n,f,m)),f=Jn(n,r),f!=null&&u.push(Gl(n,f,m))),n.tag===3)return u;n=n.return}return[]}function VA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function o0(n,r,o,u,f){for(var m=r._reactName,E=[];o!==null&&o!==u;){var w=o,M=w.alternate,F=w.stateNode;if(w=w.tag,M!==null&&M===u)break;w!==5&&w!==26&&w!==27||F===null||(M=F,f?(F=Jn(o,m),F!=null&&E.unshift(Gl(o,F,M))):f||(F=Jn(o,m),F!=null&&E.push(Gl(o,F,M)))),o=o.return}E.length!==0&&n.push({event:r,listeners:E})}var UA=/\r\n?/g,jA=/\u0000|\uFFFD/g;function l0(n){return(typeof n=="string"?n:""+n).replace(UA,`
`).replace(jA,"")}function u0(n,r){return r=l0(r),l0(n)===r}function et(n,r,o,u,f,m){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||hn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&hn(n,""+u);break;case"className":bn(n,"class",u);break;case"tabIndex":bn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(n,o,u);break;case"style":hl(n,u,m);break;case"data":if(r!=="object"){bn(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=ja(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&et(n,r,"name",f.name,f,null),et(n,r,"formEncType",f.formEncType,f,null),et(n,r,"formMethod",f.formMethod,f,null),et(n,r,"formTarget",f.formTarget,f,null)):(et(n,r,"encType",f.encType,f,null),et(n,r,"method",f.method,f,null),et(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=ja(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Wn);break;case"onScroll":u!=null&&Oe("scroll",n);break;case"onScrollEnd":u!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=ja(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),La(n,"popover",u);break;case"xlinkActuate":Ct(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ct(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ct(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ct(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ct(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ct(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ct(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ct(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ct(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":La(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=fc.get(o)||o,La(n,o,u))}}function Um(n,r,o,u,f,m){switch(o){case"style":hl(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?hn(n,u):(typeof u=="number"||typeof u=="bigint")&&hn(n,""+u);break;case"onScroll":u!=null&&Oe("scroll",n);break;case"onScrollEnd":u!=null&&Oe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),m=n[zt]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):La(n,o,u)}}}function Wt(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,m,E,o,null)}}f&&et(n,r,"srcSet",o.srcSet,o,null),u&&et(n,r,"src",o.src,o,null);return;case"input":Oe("invalid",n);var w=m=E=f=null,M=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var X=o[u];if(X!=null)switch(u){case"name":f=X;break;case"type":E=X;break;case"checked":M=X;break;case"defaultChecked":F=X;break;case"value":m=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:et(n,r,u,X,o,null)}}uc(n,m,w,M,F,E,f,!1);return;case"select":Oe("invalid",n),u=E=m=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:et(n,r,f,w,o,null)}r=m,o=E,n.multiple=!!u,r!=null?Lr(n,!!u,r,!1):o!=null&&Lr(n,!!u,o,!0);return;case"textarea":Oe("invalid",n),m=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:et(n,r,E,w,o,null)}Vr(n,u,f,m);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(u=o[M],u!=null))switch(M){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(n,r,M,u,o,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(u=0;u<$l.length;u++)Oe($l[u],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,F,u,o,null)}return;default:if(Ua(r)){for(X in o)o.hasOwnProperty(X)&&(u=o[X],u!==void 0&&Um(n,r,X,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&et(n,r,w,u,o,null))}function zA(n,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,w=null,M=null,F=null,X=null;for(Y in o){var te=o[Y];if(o.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":M=te;default:u.hasOwnProperty(Y)||et(n,r,Y,null,u,te)}}for(var G in u){var Y=u[G];if(te=o[G],u.hasOwnProperty(G)&&(Y!=null||te!=null))switch(G){case"type":m=Y;break;case"name":f=Y;break;case"checked":F=Y;break;case"defaultChecked":X=Y;break;case"value":E=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==te&&et(n,r,G,Y,u,te)}}Va(n,E,w,M,F,X,m,f);return;case"select":Y=E=w=G=null;for(m in o)if(M=o[m],o.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":Y=M;default:u.hasOwnProperty(m)||et(n,r,m,null,u,M)}for(f in u)if(m=u[f],M=o[f],u.hasOwnProperty(f)&&(m!=null||M!=null))switch(f){case"value":G=m;break;case"defaultValue":w=m;break;case"multiple":E=m;default:m!==M&&et(n,r,f,m,u,M)}r=w,o=E,u=Y,G!=null?Lr(n,!!o,G,!1):!!u!=!!o&&(r!=null?Lr(n,!!o,r,!0):Lr(n,!!o,o?[]:"",!1));return;case"textarea":Y=G=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(n,r,w,null,u,f)}for(E in u)if(f=u[E],m=o[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":G=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&et(n,r,E,f,u,m)}cc(n,G,Y);return;case"option":for(var he in o)if(G=o[he],o.hasOwnProperty(he)&&G!=null&&!u.hasOwnProperty(he))switch(he){case"selected":n.selected=!1;break;default:et(n,r,he,null,u,G)}for(M in u)if(G=u[M],Y=o[M],u.hasOwnProperty(M)&&G!==Y&&(G!=null||Y!=null))switch(M){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(n,r,M,G,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)G=o[ve],o.hasOwnProperty(ve)&&G!=null&&!u.hasOwnProperty(ve)&&et(n,r,ve,null,u,G);for(F in u)if(G=u[F],Y=o[F],u.hasOwnProperty(F)&&G!==Y&&(G!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:et(n,r,F,G,u,Y)}return;default:if(Ua(r)){for(var tt in o)G=o[tt],o.hasOwnProperty(tt)&&G!==void 0&&!u.hasOwnProperty(tt)&&Um(n,r,tt,void 0,u,G);for(X in u)G=u[X],Y=o[X],!u.hasOwnProperty(X)||G===Y||G===void 0&&Y===void 0||Um(n,r,X,G,u,Y);return}}for(var B in o)G=o[B],o.hasOwnProperty(B)&&G!=null&&!u.hasOwnProperty(B)&&et(n,r,B,null,u,G);for(te in u)G=u[te],Y=o[te],!u.hasOwnProperty(te)||G===Y||G==null&&Y==null||et(n,r,te,G,u,Y)}function c0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BA(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,E=f.initiatorType,w=f.duration;if(m&&w&&c0(E)){for(E=0,w=f.responseEnd,u+=1;u<o.length;u++){var M=o[u],F=M.startTime;if(F>w)break;var X=M.transferSize,te=M.initiatorType;X&&c0(te)&&(M=M.responseEnd,E+=X*(M<w?1:(w-F)/(M-F)))}if(--u,r+=8*(m+E)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var jm=null,zm=null;function dh(n){return n.nodeType===9?n:n.ownerDocument}function h0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Bm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Hm=null;function HA(){var n=window.event;return n&&n.type==="popstate"?n===Hm?!1:(Hm=n,!0):(Hm=null,!1)}var d0=typeof setTimeout=="function"?setTimeout:void 0,qA=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,FA=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(n){return m0.resolve(null).then(n).catch($A)}:d0;function $A(n){setTimeout(function(){throw n})}function as(n){return n==="head"}function p0(n,r){var o=r,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),Eo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Kl(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Kl(o);for(var m=o.firstChild;m;){var E=m.nextSibling,w=m.nodeName;m[Si]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=E}}else o==="body"&&Kl(n.ownerDocument.body);o=f}while(o);Eo(r)}function g0(n,r){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function qm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":qm(o),Pa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function GA(n,r,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Si])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Fn(n.nextSibling),n===null)break}return null}function KA(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Fn(n.nextSibling),n===null))return null;return n}function y0(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Fn(n.nextSibling),n===null))return null;return n}function Fm(n){return n.data==="$?"||n.data==="$~"}function $m(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function YA(n,r){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Fn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Gm=null;function _0(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(r===0)return Fn(n.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}n=n.nextSibling}return null}function v0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return n;r--}else o!=="/$"&&o!=="/&"||r++}n=n.previousSibling}return null}function E0(n,r,o){switch(r=dh(o),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Kl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Pa(n)}var $n=new Map,b0=new Set;function mh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var _r=re.d;re.d={f:QA,r:XA,D:WA,C:JA,L:ZA,m:ex,X:nx,S:tx,M:ix};function QA(){var n=_r.f(),r=sh();return n||r}function XA(n){var r=Mn(n);r!==null&&r.tag===5&&r.type==="form"?U_(r):_r.r(n)}var yo=typeof document>"u"?null:document;function T0(n,r,o){var u=yo;if(u&&typeof r=="string"&&r){var f=cn(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),b0.has(f)||(b0.add(f),n={rel:n,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Wt(r,"link",n),Rt(r),u.head.appendChild(r)))}}function WA(n){_r.D(n),T0("dns-prefetch",n,null)}function JA(n,r){_r.C(n,r),T0("preconnect",n,r)}function ZA(n,r,o){_r.L(n,r,o);var u=yo;if(u&&n&&r){var f='link[rel="preload"][as="'+cn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+cn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+cn(o.imageSizes)+'"]')):f+='[href="'+cn(n)+'"]';var m=f;switch(r){case"style":m=_o(n);break;case"script":m=vo(n)}$n.has(m)||(n=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),$n.set(m,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(Yl(m))||r==="script"&&u.querySelector(Ql(m))||(r=u.createElement("link"),Wt(r,"link",n),Rt(r),u.head.appendChild(r)))}}function ex(n,r){_r.m(n,r);var o=yo;if(o&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+cn(u)+'"][href="'+cn(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=vo(n)}if(!$n.has(m)&&(n=v({rel:"modulepreload",href:n},r),$n.set(m,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ql(m)))return}u=o.createElement("link"),Wt(u,"link",n),Rt(u),o.head.appendChild(u)}}}function tx(n,r,o){_r.S(n,r,o);var u=yo;if(u&&n){var f=xi(u).hoistableStyles,m=_o(n);r=r||"default";var E=f.get(m);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(Yl(m)))w.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},o),(o=$n.get(m))&&Km(n,o);var M=E=u.createElement("link");Rt(M),Wt(M,"link",n),M._p=new Promise(function(F,X){M.onload=F,M.onerror=X}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ph(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(m,E)}}}function nx(n,r){_r.X(n,r);var o=yo;if(o&&n){var u=xi(o).hoistableScripts,f=vo(n),m=u.get(f);m||(m=o.querySelector(Ql(f)),m||(n=v({src:n,async:!0},r),(r=$n.get(f))&&Ym(n,r),m=o.createElement("script"),Rt(m),Wt(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function ix(n,r){_r.M(n,r);var o=yo;if(o&&n){var u=xi(o).hoistableScripts,f=vo(n),m=u.get(f);m||(m=o.querySelector(Ql(f)),m||(n=v({src:n,async:!0,type:"module"},r),(r=$n.get(f))&&Ym(n,r),m=o.createElement("script"),Rt(m),Wt(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function w0(n,r,o,u){var f=(f=Ie.current)?mh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=_o(o.href),o=xi(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=_o(o.href);var m=xi(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(Yl(n)))&&!m._p&&(E.instance=m,E.state.loading=5),$n.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$n.set(n,o),m||rx(f,n,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=vo(o),o=xi(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function _o(n){return'href="'+cn(n)+'"'}function Yl(n){return'link[rel="stylesheet"]['+n+"]"}function S0(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function rx(n,r,o,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Wt(r,"link",o),Rt(r),n.head.appendChild(r))}function vo(n){return'[src="'+cn(n)+'"]'}function Ql(n){return"script[async]"+n}function A0(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+cn(o.href)+'"]');if(u)return r.instance=u,Rt(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Rt(u),Wt(u,"style",f),ph(u,o.precedence,n),r.instance=u;case"stylesheet":f=_o(o.href);var m=n.querySelector(Yl(f));if(m)return r.state.loading|=4,r.instance=m,Rt(m),m;u=S0(o),(f=$n.get(f))&&Km(u,f),m=(n.ownerDocument||n).createElement("link"),Rt(m);var E=m;return E._p=new Promise(function(w,M){E.onload=w,E.onerror=M}),Wt(m,"link",u),r.state.loading|=4,ph(m,o.precedence,n),r.instance=m;case"script":return m=vo(o.src),(f=n.querySelector(Ql(m)))?(r.instance=f,Rt(f),f):(u=o,(f=$n.get(m))&&(u=v({},o),Ym(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Rt(f),Wt(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,ph(u,o.precedence,n));return r.instance}function ph(n,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===r)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function Km(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Ym(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var gh=null;function x0(n,r,o){if(gh===null){var u=new Map,f=gh=new Map;f.set(o,u)}else f=gh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[Si]||m[xt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(r)||"";E=n+E;var w=u.get(E);w?w.push(m):u.set(E,[m])}}return u}function R0(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function sx(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function C0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function ax(n,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=_o(u.href),m=r.querySelector(Yl(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=yh.bind(n),r.then(n,n)),o.state.loading|=4,o.instance=m,Rt(m);return}m=r.ownerDocument||r,u=S0(u),(f=$n.get(f))&&Km(u,f),m=m.createElement("link"),Rt(m);var E=m;E._p=new Promise(function(w,M){E.onload=w,E.onerror=M}),Wt(m,"link",u),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=yh.bind(n),r.addEventListener("load",o),r.addEventListener("error",o))}}var Qm=0;function ox(n,r){return n.stylesheets&&n.count===0&&vh(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&vh(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+r);0<n.imgBytes&&Qm===0&&(Qm=62500*BA());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&vh(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Qm?50:800)+r);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function yh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var _h=null;function vh(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,_h=new Map,r.forEach(lx,n),_h=null,yh.call(n))}function lx(n,r){if(!(r.state.loading&4)){var o=_h.get(n);if(o)var u=o.get(null);else{o=new Map,_h.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,f),o.set(E,f),this.count++,u=yh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Xl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function ux(n,r,o,u,f,m,E,w,M){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function I0(n,r,o,u,f,m,E,w,M,F,X,te){return n=new ux(n,r,o,E,M,F,X,te,w),r=1,m===!0&&(r|=24),m=wn(3,null,null,r),n.current=m,m.stateNode=n,r=Cd(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:r},Dd(m),n}function N0(n){return n?(n=Qa,n):Qa}function k0(n,r,o,u,f,m){f=N0(f),u.context===null?u.context=f:u.pendingContext=f,u=Qr(r),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Xr(n,u,r),o!==null&&(gn(o,n,r),Cl(o,n,r))}function D0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Xm(n,r){D0(n,r),(n=n.alternate)&&D0(n,r)}function O0(n){if(n.tag===13||n.tag===31){var r=ta(n,67108864);r!==null&&gn(r,n,67108864),Xm(n,67108864)}}function M0(n){if(n.tag===13||n.tag===31){var r=Cn();r=qs(r);var o=ta(n,r);o!==null&&gn(o,n,r),Xm(n,r)}}var Eh=!0;function cx(n,r,o,u){var f=$.T;$.T=null;var m=re.p;try{re.p=2,Wm(n,r,o,u)}finally{re.p=m,$.T=f}}function hx(n,r,o,u){var f=$.T;$.T=null;var m=re.p;try{re.p=8,Wm(n,r,o,u)}finally{re.p=m,$.T=f}}function Wm(n,r,o,u){if(Eh){var f=Jm(u);if(f===null)Vm(n,r,u,bh,o),L0(n,u);else if(dx(f,n,r,o,u))u.stopPropagation();else if(L0(n,u),r&4&&-1<fx.indexOf(n)){for(;f!==null;){var m=Mn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Ei(m.pendingLanes);if(E!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var M=1<<31-vt(E);w.entanglements[1]|=M,E&=~M}ji(m),(Ke&6)===0&&(ih=sn()+500,Fl(0))}}break;case 31:case 13:w=ta(m,2),w!==null&&gn(w,m,2),sh(),Xm(m,2)}if(m=Jm(u),m===null&&Vm(n,r,u,bh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else Vm(n,r,u,null,o)}}function Jm(n){return n=Pn(n),Zm(n)}var bh=null;function Zm(n){if(bh=null,n=Ai(n),n!==null){var r=l(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=c(r),n!==null)return n;n=null}else if(o===31){if(n=d(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return bh=n,null}function P0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(js()){case Zo:return 2;case el:return 8;case Mr:case sd:return 32;case Zu:return 268435456;default:return 32}default:return 32}}var ep=!1,os=null,ls=null,us=null,Wl=new Map,Jl=new Map,cs=[],fx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L0(n,r){switch(n){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Wl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(r.pointerId)}}function Zl(n,r,o,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Mn(r),r!==null&&O0(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function dx(n,r,o,u,f){switch(r){case"focusin":return os=Zl(os,n,r,o,u,f),!0;case"dragenter":return ls=Zl(ls,n,r,o,u,f),!0;case"mouseover":return us=Zl(us,n,r,o,u,f),!0;case"pointerover":var m=f.pointerId;return Wl.set(m,Zl(Wl.get(m)||null,n,r,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Jl.set(m,Zl(Jl.get(m)||null,n,r,o,u,f)),!0}return!1}function V0(n){var r=Ai(n.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){n.blockedOn=r,Qn(n.priority,function(){M0(o)});return}}else if(r===31){if(r=d(o),r!==null){n.blockedOn=r,Qn(n.priority,function(){M0(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Th(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Jm(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);fl=u,o.target.dispatchEvent(u),fl=null}else return r=Mn(o),r!==null&&O0(r),n.blockedOn=o,!1;r.shift()}return!0}function U0(n,r,o){Th(n)&&o.delete(r)}function mx(){ep=!1,os!==null&&Th(os)&&(os=null),ls!==null&&Th(ls)&&(ls=null),us!==null&&Th(us)&&(us=null),Wl.forEach(U0),Jl.forEach(U0)}function wh(n,r){n.blockedOn===r&&(n.blockedOn=null,ep||(ep=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,mx)))}var Sh=null;function j0(n){Sh!==n&&(Sh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Sh===n&&(Sh=null);for(var r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(Zm(u||o)===null)continue;break}var m=Mn(o);m!==null&&(n.splice(r,3),r-=3,Jd(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Eo(n){function r(M){return wh(M,n)}os!==null&&wh(os,n),ls!==null&&wh(ls,n),us!==null&&wh(us,n),Wl.forEach(r),Jl.forEach(r);for(var o=0;o<cs.length;o++){var u=cs[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<cs.length&&(o=cs[0],o.blockedOn===null);)V0(o),o.blockedOn===null&&cs.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],E=f[zt]||null;if(typeof m=="function")E||j0(o);else if(E){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[zt]||null)w=E.formAction;else if(Zm(f)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),j0(o)}}}function z0(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function tp(n){this._internalRoot=n}Ah.prototype.render=tp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Cn();k0(o,u,n,r,null,null)},Ah.prototype.unmount=tp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;k0(n.current,2,null,n,null,null),sh(),r[wi]=null}};function Ah(n){this._internalRoot=n}Ah.prototype.unstable_scheduleHydration=function(n){if(n){var r=sc();n={blockedOn:null,target:n,priority:r};for(var o=0;o<cs.length&&r!==0&&r<cs[o].priority;o++);cs.splice(o,0,n),o===0&&V0(n)}};var B0=e.version;if(B0!=="19.2.3")throw Error(s(527,B0,"19.2.3"));re.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var px={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Kn=xh.inject(px),Gt=xh}catch{}}return tu.createRoot=function(n,r){if(!a(n))throw Error(s(299));var o=!1,u="",f=Y_,m=Q_,E=X_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=I0(n,1,!1,null,null,o,u,null,f,m,E,z0),n[wi]=r.current,Lm(n),new tp(r)},tu.hydrateRoot=function(n,r,o){if(!a(n))throw Error(s(299));var u=!1,f="",m=Y_,E=Q_,w=X_,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),r=I0(n,1,!0,r,o??null,u,f,M,m,E,w,z0),r.context=N0(null),o=r.current,u=Cn(),u=qs(u),f=Qr(u),f.callback=null,Xr(o,f,u),o=u,r.current.lanes=o,Bs(r,o),ji(r),n[wi]=r.current,Lm(n),new Ah(r)},tu.version="19.2.3",tu}var W0;function Ax(){if(W0)return rp.exports;W0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rp.exports=Sx(),rp.exports}var xx=Ax();var J0="popstate";function Rx(i={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return Ip("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:Eu(a)}return Ix(e,t,null,i)}function dt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function fi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cx(){return Math.random().toString(36).substring(2,10)}function Z0(i,e){return{usr:i.state,key:i.key,idx:e}}function Ip(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Bo(e):e,state:t,key:e&&e.key||s||Cx()}}function Eu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Bo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Ix(i,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function v(){d="POP";let U=_(),Q=U==null?null:U-g;g=U,p&&p({action:d,location:z.location,delta:Q})}function T(U,Q){d="PUSH";let J=Ip(z.location,U,Q);g=_()+1;let ie=Z0(J,g),oe=z.createHref(J);try{c.pushState(ie,"",oe)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;a.location.assign(oe)}l&&p&&p({action:d,location:z.location,delta:1})}function x(U,Q){d="REPLACE";let J=Ip(z.location,U,Q);g=_();let ie=Z0(J,g),oe=z.createHref(J);c.replaceState(ie,"",oe),l&&p&&p({action:d,location:z.location,delta:0})}function k(U){return Nx(U)}let z={get action(){return d},get location(){return i(a,c)},listen(U){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(J0,v),p=U,()=>{a.removeEventListener(J0,v),p=null}},createHref(U){return e(a,U)},createURL:k,encodeLocation(U){let Q=k(U);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:T,replace:x,go(U){return c.go(U)}};return z}function Nx(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),dt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Eu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function dT(i,e,t="/"){return kx(i,e,t,!1)}function kx(i,e,t,s){let a=typeof e=="string"?Bo(e):e,l=xr(a.pathname||"/",t);if(l==null)return null;let c=mT(i);Dx(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=qx(l);d=Bx(c[p],g,s)}return d}function mT(i,e=[],t=[],s="",a=!1){let l=(c,d,p=a,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;dt(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let v=Tr([s,_.relativePath]),T=t.concat(_);c.children&&c.children.length>0&&(dt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),mT(c.children,e,T,v,p)),!(c.path==null&&!c.index)&&e.push({path:v,score:jx(v,c.index),routesMeta:T})};return i.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of pT(c.path))l(c,d,!0,p)}),e}function pT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=pT(s.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function Dx(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:zx(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Ox=/^:[\w-]+$/,Mx=3,Px=2,Lx=1,Vx=10,Ux=-2,eE=i=>i==="*";function jx(i,e){let t=i.split("/"),s=t.length;return t.some(eE)&&(s+=Ux),e&&(s+=Px),t.filter(a=>!eE(a)).reduce((a,l)=>a+(Ox.test(l)?Mx:l===""?Lx:Vx),s)}function zx(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function Bx(i,e,t=!1){let{routesMeta:s}=i,a={},l="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",v=Wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),T=p.route;if(!v&&g&&t&&!s[s.length-1].route.index&&(v=Wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Tr([l,v.pathname]),pathnameBase:Yx(Tr([l,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(l=Tr([l,v.pathnameBase]))}return c}function Wh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=Hx(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:v},T)=>{if(_==="*"){let k=d[T]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const x=d[T];return v&&!x?g[_]=void 0:g[_]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:i}}function Hx(i,e=!1,t=!0){fi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function qx(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function xr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var Fx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$x=i=>Fx.test(i);function Gx(i,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof i=="string"?Bo(i):i,l;if(t)if($x(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),fi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=tE(t.substring(1),"/"):l=tE(t,e)}else l=e;return{pathname:l,search:Qx(s),hash:Xx(a)}}function tE(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function lp(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kx(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gT(i){let e=Kx(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function yT(i,e,t,s=!1){let a;typeof i=="string"?a=Bo(i):(a={...i},dt(!a.pathname||!a.pathname.includes("?"),lp("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),lp("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),lp("#","search","hash",a)));let l=i===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let v=e.length-1;if(!s&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),v-=1;a.pathname=T.join("/")}d=v>=0?e[v]:"/"}let p=Gx(a,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Tr=i=>i.join("/").replace(/\/\/+/g,"/"),Yx=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Qx=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Xx=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Wx(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function Jx(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _T=["POST","PUT","PATCH","DELETE"];new Set(_T);var Zx=["GET",..._T];new Set(Zx);var Ho=j.createContext(null);Ho.displayName="DataRouter";var Sf=j.createContext(null);Sf.displayName="DataRouterState";j.createContext(!1);var vT=j.createContext({isTransitioning:!1});vT.displayName="ViewTransition";var eR=j.createContext(new Map);eR.displayName="Fetchers";var tR=j.createContext(null);tR.displayName="Await";var pi=j.createContext(null);pi.displayName="Navigation";var Ou=j.createContext(null);Ou.displayName="Location";var gi=j.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var mg=j.createContext(null);mg.displayName="RouteError";function nR(i,{relative:e}={}){dt(Mu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(pi),{hash:a,pathname:l,search:c}=Pu(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Tr([t,l])),s.createHref({pathname:d,search:c,hash:a})}function Mu(){return j.useContext(Ou)!=null}function yi(){return dt(Mu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Ou).location}var ET="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bT(i){j.useContext(pi).static||j.useLayoutEffect(i)}function qo(){let{isDataRoute:i}=j.useContext(gi);return i?_R():iR()}function iR(){dt(Mu(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(Ho),{basename:e,navigator:t}=j.useContext(pi),{matches:s}=j.useContext(gi),{pathname:a}=yi(),l=JSON.stringify(gT(s)),c=j.useRef(!1);return bT(()=>{c.current=!0}),j.useCallback((p,g={})=>{if(fi(c.current,ET),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=yT(p,JSON.parse(l),a,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Tr([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,i])}var rR=j.createContext(null);function sR(i){let e=j.useContext(gi).outlet;return j.useMemo(()=>e&&j.createElement(rR.Provider,{value:i},e),[e,i])}function aR(){let{matches:i}=j.useContext(gi),e=i[i.length-1];return e?e.params:{}}function Pu(i,{relative:e}={}){let{matches:t}=j.useContext(gi),{pathname:s}=yi(),a=JSON.stringify(gT(t));return j.useMemo(()=>yT(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function oR(i,e){return TT(i,e)}function TT(i,e,t,s,a){dt(Mu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(pi),{matches:c}=j.useContext(gi),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",v=d&&d.route;{let J=v&&v.path||"";wT(g,!v||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let T=yi(),x;if(e){let J=typeof e=="string"?Bo(e):e;dt(_==="/"||J.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${J.pathname}" was given in the \`location\` prop.`),x=J}else x=T;let k=x.pathname||"/",z=k;if(_!=="/"){let J=_.replace(/^\//,"").split("/");z="/"+k.replace(/^\//,"").split("/").slice(J.length).join("/")}let U=dT(i,{pathname:z});fi(v||U!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),fi(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=fR(U&&U.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:Tr([_,l.encodeLocation?l.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?_:Tr([_,l.encodeLocation?l.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),c,t,s,a);return e&&Q?j.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},Q):Q}function lR(){let i=yR(),e=Wx(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:a},t):null,c)}var uR=j.createElement(lR,null),cR=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?j.createElement(gi.Provider,{value:this.props.routeContext},j.createElement(mg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hR({routeContext:i,match:e,children:t}){let s=j.useContext(Ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(gi.Provider,{value:i},t)}function fR(i,e=[],t=null,s=null,a=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,c=t?.errors;if(c!=null){let _=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);dt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let d=!1,p=-1;if(t)for(let _=0;_<l.length;_++){let v=l[_];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=_),v.route.id){let{loaderData:T,errors:x}=t,k=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!x||x[v.route.id]===void 0);if(v.route.lazy||k){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&s?(_,v)=>{s(_,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:Jx(t.matches),errorInfo:v})}:void 0;return l.reduceRight((_,v,T)=>{let x,k=!1,z=null,U=null;t&&(x=c&&v.route.id?c[v.route.id]:void 0,z=v.route.errorElement||uR,d&&(p<0&&T===0?(wT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,U=null):p===T&&(k=!0,U=v.route.hydrateFallbackElement||null)));let Q=e.concat(l.slice(0,T+1)),J=()=>{let ie;return x?ie=z:k?ie=U:v.route.Component?ie=j.createElement(v.route.Component,null):v.route.element?ie=v.route.element:ie=_,j.createElement(hR,{match:v,routeContext:{outlet:_,matches:Q,isDataRoute:t!=null},children:ie})};return t&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?j.createElement(cR,{location:t.location,revalidation:t.revalidation,component:z,error:x,children:J(),routeContext:{outlet:null,matches:Q,isDataRoute:!0},onError:g}):J()},null)}function pg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dR(i){let e=j.useContext(Ho);return dt(e,pg(i)),e}function mR(i){let e=j.useContext(Sf);return dt(e,pg(i)),e}function pR(i){let e=j.useContext(gi);return dt(e,pg(i)),e}function gg(i){let e=pR(i),t=e.matches[e.matches.length-1];return dt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function gR(){return gg("useRouteId")}function yR(){let i=j.useContext(mg),e=mR("useRouteError"),t=gg("useRouteError");return i!==void 0?i:e.errors?.[t]}function _R(){let{router:i}=dR("useNavigate"),e=gg("useNavigate"),t=j.useRef(!1);return bT(()=>{t.current=!0}),j.useCallback(async(a,l={})=>{fi(t.current,ET),t.current&&(typeof a=="number"?await i.navigate(a):await i.navigate(a,{fromRouteId:e,...l}))},[i,e])}var nE={};function wT(i,e,t){!e&&!nE[i]&&(nE[i]=!0,fi(!1,t))}j.memo(vR);function vR({routes:i,future:e,state:t,unstable_onError:s}){return TT(i,void 0,t,s,e)}function ER(i){return sR(i.context)}function si(i){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){dt(!Mu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof t=="string"&&(t=Bo(t));let{pathname:g="/",search:_="",hash:v="",state:T=null,key:x="default"}=t,k=j.useMemo(()=>{let z=xr(g,d);return z==null?null:{location:{pathname:z,search:_,hash:v,state:T,key:x},navigationType:s}},[d,g,_,v,T,x,s]);return fi(k!=null,`<Router basename="${d}"> is not able to match the URL "${g}${_}${v}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:j.createElement(pi.Provider,{value:p},j.createElement(Ou.Provider,{children:e,value:k}))}function TR({children:i,location:e}){return oR(Np(i),e)}function Np(i,e=[]){let t=[];return j.Children.forEach(i,(s,a)=>{if(!j.isValidElement(s))return;let l=[...e,a];if(s.type===j.Fragment){t.push.apply(t,Np(s.props.children,l));return}dt(s.type===si,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Np(s.props.children,l)),t.push(c)}),t}var Uh="get",jh="application/x-www-form-urlencoded";function Af(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function wR(i){return Af(i)&&i.tagName.toLowerCase()==="button"}function SR(i){return Af(i)&&i.tagName.toLowerCase()==="form"}function AR(i){return Af(i)&&i.tagName.toLowerCase()==="input"}function xR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function RR(i,e){return i.button===0&&(!e||e==="_self")&&!xR(i)}var Rh=null;function CR(){if(Rh===null)try{new FormData(document.createElement("form"),0),Rh=!1}catch{Rh=!0}return Rh}var IR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function up(i){return i!=null&&!IR.has(i)?(fi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jh}"`),null):i}function NR(i,e){let t,s,a,l,c;if(SR(i)){let d=i.getAttribute("action");s=d?xr(d,e):null,t=i.getAttribute("method")||Uh,a=up(i.getAttribute("enctype"))||jh,l=new FormData(i)}else if(wR(i)||AR(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?xr(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||Uh,a=up(i.getAttribute("formenctype"))||up(d.getAttribute("enctype"))||jh,l=new FormData(d,i),!CR()){let{name:g,type:_,value:v}=i;if(_==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,v)}}else{if(Af(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Uh,s=null,a=jh,c=i}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function kR(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&xr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function DR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function MR(i,e,t){let s=await Promise.all(i.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await DR(l,t);return c.links?c.links():[]}return[]}));return UR(s.flat(1).filter(OR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function iE(i,e,t,s,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function PR(i,e,{includeHydrateFallback:t}={}){return LR(i.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function LR(i){return[...new Set(i)]}function VR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function UR(i,e){let t=new Set;return new Set(e),i.reduce((s,a)=>{let l=JSON.stringify(VR(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function ST(){let i=j.useContext(Ho);return yg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function jR(){let i=j.useContext(Sf);return yg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var _g=j.createContext(void 0);_g.displayName="FrameworkContext";function AT(){let i=j.useContext(_g);return yg(i,"You must render this element inside a <HydratedRouter> element"),i}function zR(i,e){let t=j.useContext(_g),[s,a]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:v}=e,T=j.useRef(null);j.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let z=Q=>{Q.forEach(J=>{c(J.isIntersecting)})},U=new IntersectionObserver(z,{threshold:.5});return T.current&&U.observe(T.current),()=>{U.disconnect()}}},[i]),j.useEffect(()=>{if(s){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[s]);let x=()=>{a(!0)},k=()=>{a(!1),c(!1)};return t?i!=="intent"?[l,T,{}]:[l,T,{onFocus:nu(d,x),onBlur:nu(p,k),onMouseEnter:nu(g,x),onMouseLeave:nu(_,k),onTouchStart:nu(v,x)}]:[!1,T,{}]}function nu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function BR({page:i,...e}){let{router:t}=ST(),s=j.useMemo(()=>dT(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?j.createElement(qR,{page:i,matches:s,...e}):null}function HR(i){let{manifest:e,routeModules:t}=AT(),[s,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return MR(i,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[i,e,t]),s}function qR({page:i,matches:e,...t}){let s=yi(),{manifest:a,routeModules:l}=AT(),{basename:c}=ST(),{loaderData:d,matches:p}=jR(),g=j.useMemo(()=>iE(i,e,p,a,s,"data"),[i,e,p,a,s]),_=j.useMemo(()=>iE(i,e,p,a,s,"assets"),[i,e,p,a,s]),v=j.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let k=new Set,z=!1;if(e.forEach(Q=>{let J=a.routes[Q.route.id];!J||!J.hasLoader||(!g.some(ie=>ie.route.id===Q.route.id)&&Q.route.id in d&&l[Q.route.id]?.shouldRevalidate||J.hasClientLoader?z=!0:k.add(Q.route.id))}),k.size===0)return[];let U=kR(i,c,"data");return z&&k.size>0&&U.searchParams.set("_routes",e.filter(Q=>k.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[U.pathname+U.search]},[c,d,s,a,g,e,i,l]),T=j.useMemo(()=>PR(_,a),[_,a]),x=HR(_);return j.createElement(j.Fragment,null,v.map(k=>j.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),T.map(k=>j.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),x.map(({key:k,link:z})=>j.createElement("link",{key:k,nonce:t.nonce,...z})))}function FR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var xT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xT&&(window.__reactRouterVersion="7.10.1")}catch{}function $R({basename:i,children:e,unstable_useTransitions:t,window:s}){let a=j.useRef();a.current==null&&(a.current=Rx({window:s,v5Compat:!0}));let l=a.current,[c,d]=j.useState({action:l.action,location:l.location}),p=j.useCallback(g=>{t===!1?d(g):j.startTransition(()=>d(g))},[t]);return j.useLayoutEffect(()=>l.listen(p),[l,p]),j.createElement(bR,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t===!0})}var RT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qi=j.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:v,...T},x){let{basename:k,unstable_useTransitions:z}=j.useContext(pi),U=typeof g=="string"&&RT.test(g),Q,J=!1;if(typeof g=="string"&&U&&(Q=g,xT))try{let O=new URL(window.location.href),D=g.startsWith("//")?new URL(O.protocol+g):new URL(g),V=xr(D.pathname,k);D.origin===O.origin&&V!=null?g=V+D.search+D.hash:J=!0}catch{fi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=nR(g,{relative:a}),[oe,de,pe]=zR(s,T),N=QR(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:a,viewTransition:v,unstable_useTransitions:z});function C(O){e&&e(O),O.defaultPrevented||N(O)}let R=j.createElement("a",{...T,...pe,href:Q||ie,onClick:J||l?e:C,ref:FR(x,de),target:p,"data-discover":!U&&t==="render"?"true":void 0});return oe&&!U?j.createElement(j.Fragment,null,R,j.createElement(BR,{page:ie})):R});qi.displayName="Link";var GR=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},_){let v=Pu(c,{relative:g.relative}),T=yi(),x=j.useContext(Sf),{navigator:k,basename:z}=j.useContext(pi),U=x!=null&&eC(v)&&d===!0,Q=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,J=T.pathname,ie=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(J=J.toLowerCase(),ie=ie?ie.toLowerCase():null,Q=Q.toLowerCase()),ie&&z&&(ie=xr(ie,z)||ie);const oe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let de=J===Q||!a&&J.startsWith(Q)&&J.charAt(oe)==="/",pe=ie!=null&&(ie===Q||!a&&ie.startsWith(Q)&&ie.charAt(Q.length)==="/"),N={isActive:de,isPending:pe,isTransitioning:U},C=de?e:void 0,R;typeof s=="function"?R=s(N):R=[s,de?"active":null,pe?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(N):l;return j.createElement(qi,{...g,"aria-current":C,className:R,ref:_,style:O,to:c,viewTransition:d},typeof p=="function"?p(N):p)});GR.displayName="NavLink";var KR=j.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:c=Uh,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:v,...T},x)=>{let{unstable_useTransitions:k}=j.useContext(pi),z=JR(),U=ZR(d,{relative:g}),Q=c.toLowerCase()==="get"?"get":"post",J=typeof d=="string"&&RT.test(d),ie=oe=>{if(p&&p(oe),oe.defaultPrevented)return;oe.preventDefault();let de=oe.nativeEvent.submitter,pe=de?.getAttribute("formmethod")||c,N=()=>z(de||oe.currentTarget,{fetcherKey:e,method:pe,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:v});k&&t!==!1?j.startTransition(()=>N()):N()};return j.createElement("form",{ref:x,method:Q,action:U,onSubmit:s?p:ie,...T,"data-discover":!J&&i==="render"?"true":void 0})});KR.displayName="Form";function YR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CT(i){let e=j.useContext(Ho);return dt(e,YR(i)),e}function QR(i,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:d}={}){let p=qo(),g=yi(),_=Pu(i,{relative:l});return j.useCallback(v=>{if(RR(v,e)){v.preventDefault();let T=t!==void 0?t:Eu(g)===Eu(_),x=()=>p(i,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:c});d?j.startTransition(()=>x()):x()}},[g,p,_,t,s,e,i,a,l,c,d])}var XR=0,WR=()=>`__${String(++XR)}__`;function JR(){let{router:i}=CT("useSubmit"),{basename:e}=j.useContext(pi),t=gR(),s=i.fetch,a=i.navigate;return j.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:_,body:v}=NR(l,e);if(c.navigate===!1){let T=c.fetcherKey||WR();await s(T,t,c.action||d,{preventScrollReset:c.preventScrollReset,formData:_,body:v,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{preventScrollReset:c.preventScrollReset,formData:_,body:v,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,t])}function ZR(i,{relative:e}={}){let{basename:t}=j.useContext(pi),s=j.useContext(gi);dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Pu(i||".",{relative:e})},c=yi();if(i==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(v=>v).forEach(v=>d.append("index",v));let _=d.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Tr([t,l.pathname])),Eu(l)}function eC(i,{relative:e}={}){let t=j.useContext(vT);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=CT("useViewTransitionState"),a=Pu(i,{relative:e});if(!t.isTransitioning)return!1;let l=xr(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=xr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Wh(a.pathname,c)!=null||Wh(a.pathname,l)!=null}const tC=()=>{};var rE={};const IT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},nC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const a=i[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[t++],c=i[t++],d=i[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],c=i[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},NT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const l=i[a],c=a+1<i.length,d=c?i[a+1]:0,p=a+2<i.length,g=p?i[a+2]:0,_=l>>2,v=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,x=g&63;p||(x=64,c||(T=64)),s.push(t[_],t[v],t[T],t[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(IT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):nC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const l=t[i.charAt(a++)],d=a<i.length?t[i.charAt(a)]:0;++a;const g=a<i.length?t[i.charAt(a)]:64;++a;const v=a<i.length?t[i.charAt(a)]:64;if(++a,l==null||d==null||g==null||v==null)throw new iC;const T=l<<2|d>>4;if(s.push(T),g!==64){const x=d<<4&240|g>>2;if(s.push(x),v!==64){const k=g<<6&192|v;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class iC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rC=function(i){const e=IT(i);return NT.encodeByteArray(e,!0)},Jh=function(i){return rC(i).replace(/\./g,"")},kT=function(i){try{return NT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const aC=()=>sC().__FIREBASE_DEFAULTS__,oC=()=>{if(typeof process>"u"||typeof rE>"u")return;const i=rE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},lC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&kT(i[1]);return e&&JSON.parse(e)},xf=()=>{try{return tC()||aC()||oC()||lC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},DT=i=>xf()?.emulatorHosts?.[i],OT=i=>{const e=DT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},MT=()=>xf()?.config,PT=i=>xf()?.[`_${i}`];class uC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Ds(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vg(i){return(await fetch(i,{credentials:"include"})).ok}function LT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Jh(JSON.stringify(t)),Jh(JSON.stringify(c)),""].join(".")}const cu={};function cC(){const i={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?i.emulator.push(e):i.prod.push(e);return i}function hC(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let sE=!1;function Eg(i,e){if(typeof window>"u"||typeof document>"u"||!Ds(window.location.host)||cu[i]===e||cu[i]||sE)return;cu[i]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=cC().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{sE=!0,c()},T}function _(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=hC(s),x=t("text"),k=document.getElementById(x)||document.createElement("span"),z=t("learnmore"),U=document.getElementById(z)||document.createElement("a"),Q=t("preprendIcon"),J=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ie=T.element;d(ie),_(U,z);const oe=g();p(J,Q),ie.append(J,k,U,oe),document.body.appendChild(ie)}l?(k.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function dC(){const i=xf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function gC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yC(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function _C(){return!dC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vC(){try{return typeof indexedDB=="object"}catch{return!1}}function EC(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const bC="FirebaseError";class Ji extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=bC,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?TC(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ji(a,d,s)}}function TC(i,e){return i.replace(wC,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const wC=/\{\$([^}]+)}/g;function SC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ya(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=i[a],c=e[a];if(aE(l)&&aE(c)){if(!ya(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function aE(i){return i!==null&&typeof i=="object"}function Vu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function su(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function au(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function AC(i,e){const t=new xC(i,e);return t.subscribe.bind(t)}class xC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");RC(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=cp),a.error===void 0&&(a.error=cp),a.complete===void 0&&(a.complete=cp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function cp(){}function ht(i){return i&&i._delegate?i._delegate:i}class ws{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ma="[DEFAULT]";class CC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new uC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NC(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:IC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IC(i){return i===ma?void 0:i}function NC(i){return i.instantiationMode==="EAGER"}class kC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const DC={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},OC=Le.INFO,MC={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},PC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=MC[e];if(a)console[a](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let bg=class{constructor(e){this.name=e,this._logLevel=OC,this._logHandler=PC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}};const LC=(i,e)=>e.some(t=>i instanceof t);let oE,lE;function VC(){return oE||(oE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UC(){return lE||(lE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VT=new WeakMap,kp=new WeakMap,UT=new WeakMap,hp=new WeakMap,Tg=new WeakMap;function jC(i){const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(_s(i.result)),a()},c=()=>{s(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&VT.set(t,i)}).catch(()=>{}),Tg.set(e,i),e}function zC(i){if(kp.has(i))return;const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});kp.set(i,e)}let Dp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return kp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||UT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _s(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function BC(i){Dp=i(Dp)}function HC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(fp(this),e,...t);return UT.set(s,e.sort?e.sort():[e]),_s(s)}:UC().includes(i)?function(...e){return i.apply(fp(this),e),_s(VT.get(this))}:function(...e){return _s(i.apply(fp(this),e))}}function qC(i){return typeof i=="function"?HC(i):(i instanceof IDBTransaction&&zC(i),LC(i,VC())?new Proxy(i,Dp):i)}function _s(i){if(i instanceof IDBRequest)return jC(i);if(hp.has(i))return hp.get(i);const e=qC(i);return e!==i&&(hp.set(i,e),Tg.set(e,i)),e}const fp=i=>Tg.get(i);function FC(i,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(i,e),d=_s(c);return s&&c.addEventListener("upgradeneeded",p=>{s(_s(c.result),p.oldVersion,p.newVersion,_s(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const $C=["get","getKey","getAll","getAllKeys","count"],GC=["put","add","delete","clear"],dp=new Map;function uE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(dp.get(e))return dp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=GC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||$C.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return dp.set(e,l),l}BC(i=>({...i,get:(e,t,s)=>uE(e,t)||i.get(e,t,s),has:(e,t)=>!!uE(e,t)||i.has(e,t)}));class KC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function YC(i){return i.getComponent()?.type==="VERSION"}const Op="@firebase/app",cE="0.14.6";const Rr=new bg("@firebase/app"),QC="@firebase/app-compat",XC="@firebase/analytics-compat",WC="@firebase/analytics",JC="@firebase/app-check-compat",ZC="@firebase/app-check",e2="@firebase/auth",t2="@firebase/auth-compat",n2="@firebase/database",i2="@firebase/data-connect",r2="@firebase/database-compat",s2="@firebase/functions",a2="@firebase/functions-compat",o2="@firebase/installations",l2="@firebase/installations-compat",u2="@firebase/messaging",c2="@firebase/messaging-compat",h2="@firebase/performance",f2="@firebase/performance-compat",d2="@firebase/remote-config",m2="@firebase/remote-config-compat",p2="@firebase/storage",g2="@firebase/storage-compat",y2="@firebase/firestore",_2="@firebase/ai",v2="@firebase/firestore-compat",E2="firebase",b2="12.6.0";const Mp="[DEFAULT]",T2={[Op]:"fire-core",[QC]:"fire-core-compat",[WC]:"fire-analytics",[XC]:"fire-analytics-compat",[ZC]:"fire-app-check",[JC]:"fire-app-check-compat",[e2]:"fire-auth",[t2]:"fire-auth-compat",[n2]:"fire-rtdb",[i2]:"fire-data-connect",[r2]:"fire-rtdb-compat",[s2]:"fire-fn",[a2]:"fire-fn-compat",[o2]:"fire-iid",[l2]:"fire-iid-compat",[u2]:"fire-fcm",[c2]:"fire-fcm-compat",[h2]:"fire-perf",[f2]:"fire-perf-compat",[d2]:"fire-rc",[m2]:"fire-rc-compat",[p2]:"fire-gcs",[g2]:"fire-gcs-compat",[y2]:"fire-fst",[v2]:"fire-fst-compat",[_2]:"fire-vertex","fire-js":"fire-js",[E2]:"fire-js-all"};const Zh=new Map,w2=new Map,Pp=new Map;function hE(i,e){try{i.container.addComponent(e)}catch(t){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function _a(i){const e=i.name;if(Pp.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;Pp.set(e,i);for(const t of Zh.values())hE(t,i);for(const t of w2.values())hE(t,i);return!0}function Rf(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function In(i){return i==null?!1:i.settings!==void 0}const S2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vs=new Lu("app","Firebase",S2);class A2{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}const xa=b2;function jT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:Mp,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw vs.create("bad-app-name",{appName:String(a)});if(t||(t=MT()),!t)throw vs.create("no-options");const l=Zh.get(a);if(l){if(ya(t,l.options)&&ya(s,l.config))return l;throw vs.create("duplicate-app",{appName:a})}const c=new kC(a);for(const p of Pp.values())c.addComponent(p);const d=new A2(t,s,c);return Zh.set(a,d),d}function wg(i=Mp){const e=Zh.get(i);if(!e&&i===Mp&&MT())return jT();if(!e)throw vs.create("no-app",{appName:i});return e}function $i(i,e,t){let s=T2[i]??i;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(c.join(" "));return}_a(new ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const x2="firebase-heartbeat-database",R2=1,bu="firebase-heartbeat-store";let mp=null;function zT(){return mp||(mp=FC(x2,R2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(bu)}catch(t){console.warn(t)}}}}).catch(i=>{throw vs.create("idb-open",{originalErrorMessage:i.message})})),mp}async function C2(i){try{const t=(await zT()).transaction(bu),s=await t.objectStore(bu).get(BT(i));return await t.done,s}catch(e){if(e instanceof Ji)Rr.warn(e.message);else{const t=vs.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(t.message)}}}async function fE(i,e){try{const s=(await zT()).transaction(bu,"readwrite");await s.objectStore(bu).put(e,BT(i)),await s.done}catch(t){if(t instanceof Ji)Rr.warn(t.message);else{const s=vs.create("idb-set",{originalErrorMessage:t?.message});Rr.warn(s.message)}}}function BT(i){return`${i.name}!${i.options.appId}`}const I2=1024,N2=30;class k2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new O2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>N2){const a=M2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dE(),{heartbeatsToSend:t,unsentEntries:s}=D2(this._heartbeatsCache.heartbeats),a=Jh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Rr.warn(e),""}}}function dE(){return new Date().toISOString().substring(0,10)}function D2(i,e=I2){const t=[];let s=i.slice();for(const a of i){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),mE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),mE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class O2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vC()?EC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await C2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return fE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return fE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function mE(i){return Jh(JSON.stringify({version:2,heartbeats:i})).length}function M2(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}function P2(i){_a(new ws("platform-logger",e=>new KC(e),"PRIVATE")),_a(new ws("heartbeat",e=>new k2(e),"PRIVATE")),$i(Op,cE,i),$i(Op,cE,"esm2020"),$i("fire-js","")}P2("");var L2="firebase",V2="12.6.0";$i(L2,V2,"app");function HT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U2=HT,qT=new Lu("auth","Firebase",HT());const ef=new bg("@firebase/auth");function j2(i,...e){ef.logLevel<=Le.WARN&&ef.warn(`Auth (${xa}): ${i}`,...e)}function zh(i,...e){ef.logLevel<=Le.ERROR&&ef.error(`Auth (${xa}): ${i}`,...e)}function di(i,...e){throw Sg(i,...e)}function Gi(i,...e){return Sg(i,...e)}function FT(i,e,t){const s={...U2(),[e]:t};return new Lu("auth","Firebase",s).create(e,{appName:i.name})}function wr(i){return FT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return qT.create(i,...e)}function Ee(i,e,...t){if(!i)throw Sg(e,...t)}function Er(i){const e="INTERNAL ASSERTION FAILED: "+i;throw zh(e),new Error(e)}function Cr(i,e){i||Er(e)}function Lp(){return typeof self<"u"&&self.location?.href||""}function z2(){return pE()==="http:"||pE()==="https:"}function pE(){return typeof self<"u"&&self.location?.protocol||null}function B2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z2()||pC()||"connection"in navigator)?navigator.onLine:!0}function H2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Uu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cr(t>e,"Short delay should be less than long delay!"),this.isMobile=fC()||gC()}get(){return B2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ag(i,e){Cr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class $T{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const q2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const F2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$2=new Uu(3e4,6e4);function Os(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Dr(i,e,t,s,a={}){return GT(i,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=Vu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...l};return mC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Ds(i.emulatorConfig.host)&&(g.credentials="include"),$T.fetch()(await KT(i,i.config.apiHost,t,d),g)})}async function GT(i,e,t){i._canInitEmulator=!1;const s={...q2,...e};try{const a=new K2(i),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ch(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ch(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ch(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ch(i,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw FT(i,_,g);di(i,_)}}catch(a){if(a instanceof Ji)throw a;di(i,"network-request-failed",{message:String(a)})}}async function ju(i,e,t,s,a={}){const l=await Dr(i,e,t,s,a);return"mfaPendingCredential"in l&&di(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function KT(i,e,t,s){const a=`${e}${t}?${s}`,l=i,c=l.config.emulator?Ag(i.config,a):`${i.config.apiScheme}://${a}`;return F2.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function G2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Gi(this.auth,"network-request-failed")),$2.get())})}}function Ch(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Gi(i,e,s);return a.customData._tokenResponse=t,a}function gE(i){return i!==void 0&&i.enterprise!==void 0}class Y2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return G2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q2(i,e){return Dr(i,"GET","/v2/recaptchaConfig",Os(i,e))}async function X2(i,e){return Dr(i,"POST","/v1/accounts:delete",e)}async function tf(i,e){return Dr(i,"POST","/v1/accounts:lookup",e)}function hu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function W2(i,e=!1){const t=ht(i),s=await t.getIdToken(e),a=xg(s);Ee(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:hu(pp(a.auth_time)),issuedAtTime:hu(pp(a.iat)),expirationTime:hu(pp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function pp(i){return Number(i)*1e3}function xg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return zh("JWT malformed, contained fewer than 3 sections"),null;try{const a=kT(t);return a?JSON.parse(a):(zh("Failed to decode base64 JWT payload"),null)}catch(a){return zh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function yE(i){const e=xg(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Oo(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ji&&J2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function J2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class Z2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nf(i){const e=i.auth,t=await i.getIdToken(),s=await Oo(i,tf(e,{idToken:t}));Ee(s?.users.length,e,"internal-error");const a=s.users[0];i._notifyReloadListener(a);const l=a.providerUserInfo?.length?YT(a.providerUserInfo):[],c=tI(i.providerData,l),d=i.isAnonymous,p=!(i.email&&a.passwordHash)&&!c?.length,g=d?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Vp(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function eI(i){const e=ht(i);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tI(i,e){return[...i.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function YT(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function nI(i,e){const t=await GT(i,{},async()=>{const s=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=i.config,c=await KT(i,a,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return i.emulatorConfig&&Ds(i.emulatorConfig.host)&&(p.credentials="include"),$T.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iI(i,e){return Dr(i,"POST","/v2/accounts:revokeToken",Os(i,e))}class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=yE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await nI(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,c=new Co;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Ee(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return Er("not implemented")}}function fs(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new Z2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Vp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Oo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return W2(this,e)}reload(){return eI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await nf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(wr(this.auth));const e=await this.getIdToken();return await Oo(this,X2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:x,providerData:k,stsTokenManager:z}=t;Ee(v&&z,e,"internal-error");const U=Co.fromJSON(this.name,z);Ee(typeof v=="string",e,"internal-error"),fs(s,e.name),fs(a,e.name),Ee(typeof T=="boolean",e,"internal-error"),Ee(typeof x=="boolean",e,"internal-error"),fs(l,e.name),fs(c,e.name),fs(d,e.name),fs(p,e.name),fs(g,e.name),fs(_,e.name);const Q=new ai({uid:v,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:x,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:U,createdAt:g,lastLoginAt:_});return k&&Array.isArray(k)&&(Q.providerData=k.map(J=>({...J}))),p&&(Q._redirectEventId=p),Q}static async _fromIdTokenResponse(e,t,s=!1){const a=new Co;a.updateFromServerResponse(t);const l=new ai({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await nf(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?YT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Co;d.updateFromIdToken(s);const p=new ai({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Vp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const _E=new Map;function br(i){Cr(i instanceof Function,"Expected a class definition");let e=_E.get(i);return e?(Cr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,_E.set(i,e),e)}class QT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}QT.type="NONE";const vE=QT;function Bh(i,e,t){return`firebase:${i}:${e}:${t}`}class Io{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Bh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Bh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await tf(this.auth,{idToken:e}).catch(()=>{});return t?ai._fromGetAccountInfoResponse(this.auth,t,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Io(br(vE),e,s);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||br(vE);const c=Bh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let v;if(typeof _=="string"){const T=await tf(e,{idToken:_}).catch(()=>{});if(!T)break;v=await ai._fromGetAccountInfoResponse(e,T,_)}else v=ai._fromJSON(e,_);g!==l&&(d=v),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Io(l,e,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Io(l,e,s))}}function EE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t1(e))return"Blackberry";if(n1(e))return"Webos";if(WT(e))return"Safari";if((e.includes("chrome/")||JT(e))&&!e.includes("edge/"))return"Chrome";if(e1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function XT(i=rn()){return/firefox\//i.test(i)}function WT(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JT(i=rn()){return/crios\//i.test(i)}function ZT(i=rn()){return/iemobile/i.test(i)}function e1(i=rn()){return/android/i.test(i)}function t1(i=rn()){return/blackberry/i.test(i)}function n1(i=rn()){return/webos/i.test(i)}function Rg(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function rI(i=rn()){return Rg(i)&&!!window.navigator?.standalone}function sI(){return yC()&&document.documentMode===10}function i1(i=rn()){return Rg(i)||e1(i)||n1(i)||t1(i)||/windows phone/i.test(i)||ZT(i)}function r1(i,e=[]){let t;switch(i){case"Browser":t=EE(rn());break;case"Worker":t=`${EE(rn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xa}/${s}`}class aI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function oI(i,e={}){return Dr(i,"GET","/v2/passwordPolicy",Os(i,e))}const lI=6;class uI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??lI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class cI{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bE(this),this.idTokenSubscription=new bE(this),this.beforeStateQueue=new aI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=br(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tf(this,{idToken:e}),s=await ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(In(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(wr(this));const t=e?ht(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oI(this),t=new uI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await iI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&br(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[br(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&j2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ra(i){return ht(i)}class bE{constructor(e){this.auth=e,this.observer=null,this.addObserver=AC(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hI(i){Cf=i}function s1(i){return Cf.loadJS(i)}function fI(){return Cf.recaptchaEnterpriseScript}function dI(){return Cf.gapiScript}function mI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class pI{constructor(){this.enterprise=new gI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const yI="recaptcha-enterprise",a1="NO_RECAPTCHA";class _I{constructor(e){this.type=yI,this.auth=Ra(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{Q2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new Y2(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;gE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(a1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pI().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!t&&gE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=fI();p.length!==0&&(p+=d),s1(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function TE(i,e,t,s=!1,a=!1){const l=new _I(i);let c;if(a)c=a1;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Up(i,e,t,s,a){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await TE(i,e,t,t==="getOobCode");return s(i,l)}else return s(i,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await TE(i,e,t,t==="getOobCode");return s(i,c)}else return Promise.reject(l)})}function vI(i,e){const t=Rf(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ya(l,e??{}))return a;di(a,"already-initialized")}return t.initialize({options:e})}function EI(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(br);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function bI(i,e,t){const s=Ra(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=o1(e),{host:c,port:d}=TI(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ya(g,s.config.emulator)&&ya(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Ds(c)?(vg(`${l}//${c}${p}`),Eg("Auth",!0)):wI()}function o1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function TI(i){const e=o1(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:wE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:wE(c)}}}function wE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function wI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Cg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,t){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}async function SI(i,e){return Dr(i,"POST","/v1/accounts:signUp",e)}async function AI(i,e){return ju(i,"POST","/v1/accounts:signInWithPassword",Os(i,e))}async function xI(i,e){return ju(i,"POST","/v1/accounts:signInWithEmailLink",Os(i,e))}async function RI(i,e){return ju(i,"POST","/v1/accounts:signInWithEmailLink",Os(i,e))}class Tu extends Cg{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Tu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Tu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,t,"signInWithPassword",AI);case"emailLink":return xI(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,s,"signUpPassword",SI);case"emailLink":return RI(e,{idToken:t,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function No(i,e){return ju(i,"POST","/v1/accounts:signInWithIdp",Os(i,e))}const CI="http://localhost";class va extends Cg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=t;if(!s||!a)return null;const c=new va(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return No(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,No(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,No(e,t)}buildRequest(){const e={requestUri:CI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vu(t)}return e}}function II(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NI(i){const e=su(au(i)).link,t=e?su(au(e)).deep_link_id:null,s=su(au(i)).deep_link_id;return(s?su(au(s)).link:null)||s||t||e||i}class Ig{constructor(e){const t=su(au(e)),s=t.apiKey??null,a=t.oobCode??null,l=II(t.mode??null);Ee(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=NI(e);try{return new Ig(t)}catch{return null}}}class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(e,t){return Tu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Ig.parseLink(t);return Ee(s,"argument-error"),Tu._fromEmailAndCode(e,s.code,s.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class l1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zu extends l1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ds extends zu{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";class vr extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return va._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return vr.credential(t,s)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";class ms extends zu{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";class ps extends zu{constructor(){super("twitter.com")}static credential(e,t){return va._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ps.credential(t,s)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";async function kI(i,e){return ju(i,"POST","/v1/accounts:signUp",Os(i,e))}class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await ai._fromIdTokenResponse(e,s,a),c=SE(s);return new Ea({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=SE(s);return new Ea({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function SE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class rf extends Ji{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new rf(e,t,s,a)}}function u1(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(i,l,e,s):l})}async function DI(i,e,t=!1){const s=await Oo(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Ea._forOperation(i,"link",s)}async function OI(i,e,t=!1){const{auth:s}=i;if(In(s.app))return Promise.reject(wr(s));const a="reauthenticate";try{const l=await Oo(i,u1(s,a,e,i),t);Ee(l.idToken,s,"internal-error");const c=xg(l.idToken);Ee(c,s,"internal-error");const{sub:d}=c;return Ee(i.uid===d,s,"user-mismatch"),Ea._forOperation(i,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&di(s,"user-mismatch"),l}}async function c1(i,e,t=!1){if(In(i.app))return Promise.reject(wr(i));const s="signIn",a=await u1(i,s,e),l=await Ea._fromIdTokenResponse(i,s,a);return t||await i._updateCurrentUser(l.user),l}async function MI(i,e){return c1(Ra(i),e)}async function h1(i){const e=Ra(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PI(i,e,t){if(In(i.app))return Promise.reject(wr(i));const s=Ra(i),c=await Up(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&h1(i),p}),d=await Ea._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function LI(i,e,t){return In(i.app)?Promise.reject(wr(i)):MI(ht(i),Fo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&h1(i),s})}async function VI(i,e){return Dr(i,"POST","/v1/accounts:update",e)}async function jp(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=ht(i),l={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Oo(s,VI(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const d=s.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function UI(i,e,t,s){return ht(i).onIdTokenChanged(e,t,s)}function jI(i,e,t){return ht(i).beforeAuthStateChanged(e,t)}function zI(i,e,t,s){return ht(i).onAuthStateChanged(e,t,s)}const sf="__sak";class f1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sf,"1"),this.storage.removeItem(sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const BI=1e3,HI=10;class d1 extends f1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);sI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,HI):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}d1.type="LOCAL";const qI=d1;class m1 extends f1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}m1.type="SESSION";const p1=m1;function FI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class If{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new If(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await FI(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}If.receivers=[];function Ng(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class $I{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=Ng("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ki(){return window}function GI(i){Ki().location.href=i}function g1(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function KI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YI(){return navigator?.serviceWorker?.controller||null}function QI(){return g1()?self:null}const y1="firebaseLocalStorageDb",XI=1,af="firebaseLocalStorage",_1="fbase_key";class Bu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Nf(i,e){return i.transaction([af],e?"readwrite":"readonly").objectStore(af)}function WI(){const i=indexedDB.deleteDatabase(y1);return new Bu(i).toPromise()}function zp(){const i=indexedDB.open(y1,XI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(af,{keyPath:_1})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(af)?e(s):(s.close(),await WI(),e(await zp()))})})}async function AE(i,e,t){const s=Nf(i,!0).put({[_1]:e,value:t});return new Bu(s).toPromise()}async function JI(i,e){const t=Nf(i,!1).get(e),s=await new Bu(t).toPromise();return s===void 0?null:s.value}function xE(i,e){const t=Nf(i,!0).delete(e);return new Bu(t).toPromise()}const ZI=800,eN=3;class v1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>eN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=If._getInstance(QI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KI(),!this.activeServiceWorker)return;this.sender=new $I(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zp();return await AE(e,sf,"1"),await xE(e,sf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>AE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>JI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Nf(a,!1).getAll();return new Bu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v1.type="LOCAL";const tN=v1;new Uu(3e4,6e4);function nN(i,e){return e?br(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class kg extends Cg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,t){return No(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iN(i){return c1(i.auth,new kg(i),i.bypassAuthState)}function rN(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),OI(t,new kg(i),i.bypassAuthState)}async function sN(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),DI(t,new kg(i),i.bypassAuthState)}class E1{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iN;case"linkViaPopup":case"linkViaRedirect":return sN;case"reauthViaPopup":case"reauthViaRedirect":return rN;default:di(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aN=new Uu(2e3,1e4);class xo extends E1{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=Ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aN.get())};e()}}xo.currentPopupAction=null;const oN="pendingRedirect",Hh=new Map;class lN extends E1{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Hh.get(this.auth._key());if(!e){try{const s=await uN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Hh.set(this.auth._key(),e)}return this.bypassAuthState||Hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uN(i,e){const t=fN(e),s=hN(i);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function cN(i,e){Hh.set(i._key(),e)}function hN(i){return br(i._redirectPersistence)}function fN(i){return Bh(oN,i.config.apiKey,i.name)}async function dN(i,e,t=!1){if(In(i.app))return Promise.reject(wr(i));const s=Ra(i),a=nN(s,e),c=await new lN(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const mN=600*1e3;class pN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!b1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Gi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mN&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(e))}saveEventToCache(e){this.cachedEventUids.add(RE(e)),this.lastProcessedEventTime=Date.now()}}function RE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function b1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function gN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b1(i);default:return!1}}async function yN(i,e={}){return Dr(i,"GET","/v1/projects",e)}const _N=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vN=/^https?/;async function EN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await yN(i);for(const t of e)try{if(bN(t))return}catch{}di(i,"unauthorized-domain")}function bN(i){const e=Lp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!vN.test(t))return!1;if(_N.test(i))return s===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const TN=new Uu(3e4,6e4);function CE(){const i=Ki().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function wN(i){return new Promise((e,t)=>{function s(){CE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CE(),t(Gi(i,"network-request-failed"))},timeout:TN.get()})}if(Ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ki().gapi?.load)s();else{const a=mI("iframefcb");return Ki()[a]=()=>{gapi.load?s():t(Gi(i,"network-request-failed"))},s1(`${dI()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw qh=null,e})}let qh=null;function SN(i){return qh=qh||wN(i),qh}const AN=new Uu(5e3,15e3),xN="__/auth/iframe",RN="emulator/auth/iframe",CN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NN(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Ag(e,RN):`https://${i.config.authDomain}/${xN}`,s={apiKey:e.apiKey,appName:i.name,v:xa},a=IN.get(i.config.apiHost);a&&(s.eid=a);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Vu(s).slice(1)}`}async function kN(i){const e=await SN(i),t=Ki().gapi;return Ee(t,i,"internal-error"),e.open({where:document.body,url:NN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CN,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Gi(i,"network-request-failed"),d=Ki().setTimeout(()=>{l(c)},AN.get());function p(){Ki().clearTimeout(d),a(s)}s.ping(p).then(p,()=>{l(c)})}))}const DN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ON=500,MN=600,PN="_blank",LN="http://localhost";class IE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VN(i,e,t,s=ON,a=MN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...DN,width:s.toString(),height:a.toString(),top:l,left:c},g=rn().toLowerCase();t&&(d=JT(g)?PN:t),XT(g)&&(e=e||LN,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[x,k])=>`${T}${x}=${k},`,"");if(rI(g)&&d!=="_self")return UN(e||"",d),new IE(null);const v=window.open(e||"",d,_);Ee(v,i,"popup-blocked");try{v.focus()}catch{}return new IE(v)}function UN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const jN="__/auth/handler",zN="emulator/auth/handler",BN=encodeURIComponent("fac");async function NE(i,e,t,s,a,l){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:xa,eventId:a};if(e instanceof l1){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",SC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))c[_]=v}if(e instanceof zu){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await i._getAppCheckToken(),g=p?`#${BN}=${encodeURIComponent(p)}`:"";return`${HN(i)}?${Vu(d).slice(1)}${g}`}function HN({config:i}){return i.emulator?Ag(i,zN):`https://${i.authDomain}/${jN}`}const gp="webStorageSupport";class qN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p1,this._completeRedirectFn=dN,this._overrideRedirectResult=cN}async _openPopup(e,t,s,a){Cr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await NE(e,t,s,Lp(),a);return VN(e,l,Ng())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await NE(e,t,s,Lp(),a);return GI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Cr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await kN(e),s=new pN(e);return t.register("authEvent",a=>(Ee(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gp,{type:gp},a=>{const l=a?.[0]?.[gp];l!==void 0&&t(!!l),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=EN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return i1()||WT()||Rg()}}const FN=qN;var kE="@firebase/auth",DE="1.11.1";class $N{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function GN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KN(i){_a(new ws("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r1(i)},g=new cI(s,a,l,p);return EI(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),_a(new ws("auth-internal",e=>{const t=Ra(e.getProvider("auth").getImmediate());return(s=>new $N(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(kE,DE,GN(i)),$i(kE,DE,"esm2020")}const YN=300,QN=PT("authIdTokenMaxAge")||YN;let OE=null;const XN=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>QN)return;const a=t?.token;OE!==a&&(OE=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function WN(i=wg()){const e=Rf(i,"auth");if(e.isInitialized())return e.getImmediate();const t=vI(i,{popupRedirectResolver:FN,persistence:[tN,qI,p1]}),s=PT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=XN(l.toString());jI(t,c,()=>c(t.currentUser)),UI(t,d=>c(d))}}const a=DT("auth");return a&&bI(t,`http://${a}`),t}function JN(){return document.getElementsByTagName("head")?.[0]??document}hI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=a=>{const l=Gi("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",JN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KN("Browser");var ME=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Es,T1;(function(){var i;function e(N,C){function R(){}R.prototype=C.prototype,N.F=C.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(O,D,V){for(var I=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)I[ge-2]=arguments[ge];return C.prototype[D].apply(O,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,C,R){R||(R=0);const O=Array(16);if(typeof C=="string")for(var D=0;D<16;++D)O[D]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(D=0;D<16;++D)O[D]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=N.g[0],R=N.g[1],D=N.g[2];let V=N.g[3],I;I=C+(V^R&(D^V))+O[0]+3614090360&4294967295,C=R+(I<<7&4294967295|I>>>25),I=V+(D^C&(R^D))+O[1]+3905402710&4294967295,V=C+(I<<12&4294967295|I>>>20),I=D+(R^V&(C^R))+O[2]+606105819&4294967295,D=V+(I<<17&4294967295|I>>>15),I=R+(C^D&(V^C))+O[3]+3250441966&4294967295,R=D+(I<<22&4294967295|I>>>10),I=C+(V^R&(D^V))+O[4]+4118548399&4294967295,C=R+(I<<7&4294967295|I>>>25),I=V+(D^C&(R^D))+O[5]+1200080426&4294967295,V=C+(I<<12&4294967295|I>>>20),I=D+(R^V&(C^R))+O[6]+2821735955&4294967295,D=V+(I<<17&4294967295|I>>>15),I=R+(C^D&(V^C))+O[7]+4249261313&4294967295,R=D+(I<<22&4294967295|I>>>10),I=C+(V^R&(D^V))+O[8]+1770035416&4294967295,C=R+(I<<7&4294967295|I>>>25),I=V+(D^C&(R^D))+O[9]+2336552879&4294967295,V=C+(I<<12&4294967295|I>>>20),I=D+(R^V&(C^R))+O[10]+4294925233&4294967295,D=V+(I<<17&4294967295|I>>>15),I=R+(C^D&(V^C))+O[11]+2304563134&4294967295,R=D+(I<<22&4294967295|I>>>10),I=C+(V^R&(D^V))+O[12]+1804603682&4294967295,C=R+(I<<7&4294967295|I>>>25),I=V+(D^C&(R^D))+O[13]+4254626195&4294967295,V=C+(I<<12&4294967295|I>>>20),I=D+(R^V&(C^R))+O[14]+2792965006&4294967295,D=V+(I<<17&4294967295|I>>>15),I=R+(C^D&(V^C))+O[15]+1236535329&4294967295,R=D+(I<<22&4294967295|I>>>10),I=C+(D^V&(R^D))+O[1]+4129170786&4294967295,C=R+(I<<5&4294967295|I>>>27),I=V+(R^D&(C^R))+O[6]+3225465664&4294967295,V=C+(I<<9&4294967295|I>>>23),I=D+(C^R&(V^C))+O[11]+643717713&4294967295,D=V+(I<<14&4294967295|I>>>18),I=R+(V^C&(D^V))+O[0]+3921069994&4294967295,R=D+(I<<20&4294967295|I>>>12),I=C+(D^V&(R^D))+O[5]+3593408605&4294967295,C=R+(I<<5&4294967295|I>>>27),I=V+(R^D&(C^R))+O[10]+38016083&4294967295,V=C+(I<<9&4294967295|I>>>23),I=D+(C^R&(V^C))+O[15]+3634488961&4294967295,D=V+(I<<14&4294967295|I>>>18),I=R+(V^C&(D^V))+O[4]+3889429448&4294967295,R=D+(I<<20&4294967295|I>>>12),I=C+(D^V&(R^D))+O[9]+568446438&4294967295,C=R+(I<<5&4294967295|I>>>27),I=V+(R^D&(C^R))+O[14]+3275163606&4294967295,V=C+(I<<9&4294967295|I>>>23),I=D+(C^R&(V^C))+O[3]+4107603335&4294967295,D=V+(I<<14&4294967295|I>>>18),I=R+(V^C&(D^V))+O[8]+1163531501&4294967295,R=D+(I<<20&4294967295|I>>>12),I=C+(D^V&(R^D))+O[13]+2850285829&4294967295,C=R+(I<<5&4294967295|I>>>27),I=V+(R^D&(C^R))+O[2]+4243563512&4294967295,V=C+(I<<9&4294967295|I>>>23),I=D+(C^R&(V^C))+O[7]+1735328473&4294967295,D=V+(I<<14&4294967295|I>>>18),I=R+(V^C&(D^V))+O[12]+2368359562&4294967295,R=D+(I<<20&4294967295|I>>>12),I=C+(R^D^V)+O[5]+4294588738&4294967295,C=R+(I<<4&4294967295|I>>>28),I=V+(C^R^D)+O[8]+2272392833&4294967295,V=C+(I<<11&4294967295|I>>>21),I=D+(V^C^R)+O[11]+1839030562&4294967295,D=V+(I<<16&4294967295|I>>>16),I=R+(D^V^C)+O[14]+4259657740&4294967295,R=D+(I<<23&4294967295|I>>>9),I=C+(R^D^V)+O[1]+2763975236&4294967295,C=R+(I<<4&4294967295|I>>>28),I=V+(C^R^D)+O[4]+1272893353&4294967295,V=C+(I<<11&4294967295|I>>>21),I=D+(V^C^R)+O[7]+4139469664&4294967295,D=V+(I<<16&4294967295|I>>>16),I=R+(D^V^C)+O[10]+3200236656&4294967295,R=D+(I<<23&4294967295|I>>>9),I=C+(R^D^V)+O[13]+681279174&4294967295,C=R+(I<<4&4294967295|I>>>28),I=V+(C^R^D)+O[0]+3936430074&4294967295,V=C+(I<<11&4294967295|I>>>21),I=D+(V^C^R)+O[3]+3572445317&4294967295,D=V+(I<<16&4294967295|I>>>16),I=R+(D^V^C)+O[6]+76029189&4294967295,R=D+(I<<23&4294967295|I>>>9),I=C+(R^D^V)+O[9]+3654602809&4294967295,C=R+(I<<4&4294967295|I>>>28),I=V+(C^R^D)+O[12]+3873151461&4294967295,V=C+(I<<11&4294967295|I>>>21),I=D+(V^C^R)+O[15]+530742520&4294967295,D=V+(I<<16&4294967295|I>>>16),I=R+(D^V^C)+O[2]+3299628645&4294967295,R=D+(I<<23&4294967295|I>>>9),I=C+(D^(R|~V))+O[0]+4096336452&4294967295,C=R+(I<<6&4294967295|I>>>26),I=V+(R^(C|~D))+O[7]+1126891415&4294967295,V=C+(I<<10&4294967295|I>>>22),I=D+(C^(V|~R))+O[14]+2878612391&4294967295,D=V+(I<<15&4294967295|I>>>17),I=R+(V^(D|~C))+O[5]+4237533241&4294967295,R=D+(I<<21&4294967295|I>>>11),I=C+(D^(R|~V))+O[12]+1700485571&4294967295,C=R+(I<<6&4294967295|I>>>26),I=V+(R^(C|~D))+O[3]+2399980690&4294967295,V=C+(I<<10&4294967295|I>>>22),I=D+(C^(V|~R))+O[10]+4293915773&4294967295,D=V+(I<<15&4294967295|I>>>17),I=R+(V^(D|~C))+O[1]+2240044497&4294967295,R=D+(I<<21&4294967295|I>>>11),I=C+(D^(R|~V))+O[8]+1873313359&4294967295,C=R+(I<<6&4294967295|I>>>26),I=V+(R^(C|~D))+O[15]+4264355552&4294967295,V=C+(I<<10&4294967295|I>>>22),I=D+(C^(V|~R))+O[6]+2734768916&4294967295,D=V+(I<<15&4294967295|I>>>17),I=R+(V^(D|~C))+O[13]+1309151649&4294967295,R=D+(I<<21&4294967295|I>>>11),I=C+(D^(R|~V))+O[4]+4149444226&4294967295,C=R+(I<<6&4294967295|I>>>26),I=V+(R^(C|~D))+O[11]+3174756917&4294967295,V=C+(I<<10&4294967295|I>>>22),I=D+(C^(V|~R))+O[2]+718787259&4294967295,D=V+(I<<15&4294967295|I>>>17),I=R+(V^(D|~C))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+V&4294967295}s.prototype.v=function(N,C){C===void 0&&(C=N.length);const R=C-this.blockSize,O=this.C;let D=this.h,V=0;for(;V<C;){if(D==0)for(;V<=R;)a(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<C;)if(O[D++]=N.charCodeAt(V++),D==this.blockSize){a(this,O),D=0;break}}else for(;V<C;)if(O[D++]=N[V++],D==this.blockSize){a(this,O),D=0;break}}this.h=D,this.o+=C},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;C=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=C&255,C/=256;for(this.v(N),N=Array(16),C=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)N[C++]=this.g[R]>>>O&255;return N};function l(N,C){var R=d;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=C(N)}function c(N,C){this.h=C;const R=[];let O=!0;for(let D=N.length-1;D>=0;D--){const V=N[D]|0;O&&V==C||(R[D]=V,O=!1)}this.g=R}var d={};function p(N){return-128<=N&&N<128?l(N,function(C){return new c([C|0],C<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return v;if(N<0)return U(g(-N));const C=[];let R=1;for(let O=0;N>=R;O++)C[O]=N/R|0,R*=4294967296;return new c(C,0)}function _(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return U(_(N.substring(1),C));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(C,8));let O=v;for(let V=0;V<N.length;V+=8){var D=Math.min(8,N.length-V);const I=parseInt(N.substring(V,V+D),C);D<8?(D=g(Math.pow(C,D)),O=O.j(D).add(g(I))):(O=O.j(R),O=O.add(g(I)))}return O}var v=p(0),T=p(1),x=p(16777216);i=c.prototype,i.m=function(){if(z(this))return-U(this).m();let N=0,C=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);N+=(O>=0?O:4294967296+O)*C,C*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(k(this))return"0";if(z(this))return"-"+U(this).toString(N);const C=g(Math.pow(N,6));var R=this;let O="";for(;;){const D=oe(R,C).g;R=Q(R,D.j(C));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,k(R))return V+O;for(;V.length<6;)V="0"+V;O=V+O}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function k(N){if(N.h!=0)return!1;for(let C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function z(N){return N.h==-1}i.l=function(N){return N=Q(this,N),z(N)?-1:k(N)?0:1};function U(N){const C=N.g.length,R=[];for(let O=0;O<C;O++)R[O]=~N.g[O];return new c(R,~N.h).add(T)}i.abs=function(){return z(this)?U(this):this},i.add=function(N){const C=Math.max(this.g.length,N.g.length),R=[];let O=0;for(let D=0;D<=C;D++){let V=O+(this.i(D)&65535)+(N.i(D)&65535),I=(V>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);O=I>>>16,V&=65535,I&=65535,R[D]=I<<16|V}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Q(N,C){return N.add(U(C))}i.j=function(N){if(k(this)||k(N))return v;if(z(this))return z(N)?U(this).j(U(N)):U(U(this).j(N));if(z(N))return U(this.j(U(N)));if(this.l(x)<0&&N.l(x)<0)return g(this.m()*N.m());const C=this.g.length+N.g.length,R=[];for(var O=0;O<2*C;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<N.g.length;D++){const V=this.i(O)>>>16,I=this.i(O)&65535,ge=N.i(D)>>>16,ze=N.i(D)&65535;R[2*O+2*D]+=I*ze,J(R,2*O+2*D),R[2*O+2*D+1]+=V*ze,J(R,2*O+2*D+1),R[2*O+2*D+1]+=I*ge,J(R,2*O+2*D+1),R[2*O+2*D+2]+=V*ge,J(R,2*O+2*D+2)}for(N=0;N<C;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=C;N<2*C;N++)R[N]=0;return new c(R,0)};function J(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function ie(N,C){this.g=N,this.h=C}function oe(N,C){if(k(C))throw Error("division by zero");if(k(N))return new ie(v,v);if(z(N))return C=oe(U(N),C),new ie(U(C.g),U(C.h));if(z(C))return C=oe(N,U(C)),new ie(U(C.g),C.h);if(N.g.length>30){if(z(N)||z(C))throw Error("slowDivide_ only works with positive integers.");for(var R=T,O=C;O.l(N)<=0;)R=de(R),O=de(O);var D=pe(R,1),V=pe(O,1);for(O=pe(O,2),R=pe(R,2);!k(O);){var I=V.add(O);I.l(N)<=0&&(D=D.add(R),V=I),O=pe(O,1),R=pe(R,1)}return C=Q(N,D.j(C)),new ie(D,C)}for(D=v;N.l(C)>=0;){for(R=Math.max(1,Math.floor(N.m()/C.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),V=g(R),I=V.j(C);z(I)||I.l(N)>0;)R-=O,V=g(R),I=V.j(C);k(V)&&(V=T),D=D.add(V),N=Q(N,I)}return new ie(D,N)}i.B=function(N){return oe(this,N).h},i.and=function(N){const C=Math.max(this.g.length,N.g.length),R=[];for(let O=0;O<C;O++)R[O]=this.i(O)&N.i(O);return new c(R,this.h&N.h)},i.or=function(N){const C=Math.max(this.g.length,N.g.length),R=[];for(let O=0;O<C;O++)R[O]=this.i(O)|N.i(O);return new c(R,this.h|N.h)},i.xor=function(N){const C=Math.max(this.g.length,N.g.length),R=[];for(let O=0;O<C;O++)R[O]=this.i(O)^N.i(O);return new c(R,this.h^N.h)};function de(N){const C=N.g.length+1,R=[];for(let O=0;O<C;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new c(R,N.h)}function pe(N,C){const R=C>>5;C%=32;const O=N.g.length-R,D=[];for(let V=0;V<O;V++)D[V]=C>0?N.i(V+R)>>>C|N.i(V+R+1)<<32-C:N.i(V+R);return new c(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,T1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Es=c}).apply(typeof ME<"u"?ME:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var w1,ou,S1,Fh,Bp,A1,x1,R1;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var y=0;y<h.length;++y){var b=h[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=t(this);function a(h,y){if(y)e:{var b=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in b))break e;b=b[H]}h=h[h.length-1],A=b[h],y=y(A),y!=A&&y!=null&&e(b,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var b=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&b.push([A,y[A]]);return b}});var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,b){return h.call.apply(h.bind,arguments)}function g(h,y,b){return g=p,g.apply(null,arguments)}function _(h,y){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function v(h,y){function b(){}b.prototype=y.prototype,h.Z=y.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(A,H,K){for(var se=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)se[Re-2]=arguments[Re];return y.prototype[H].apply(A,se)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const y=h.length;if(y>0){const b=Array(y);for(let A=0;A<y;A++)b[A]=h[A];return b}return[]}function k(h,y){for(let A=1;A<arguments.length;A++){const H=arguments[A];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=h.length||0;const K=H.length||0;h.length=b+K;for(let se=0;se<K;se++)h[b+se]=H[se]}else h.push(H)}}class z{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){c.setTimeout(()=>{throw h},0)}function Q(){var h=N;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class J{constructor(){this.h=this.g=null}add(y,b){const A=ie.get();A.set(y,b),this.h?this.h.next=A:this.g=A,this.h=A}}var ie=new z(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let de,pe=!1,N=new J,C=()=>{const h=Promise.resolve(void 0);de=()=>{h.then(R)}};function R(){for(var h;h=Q();){try{h.h.call(h.g)}catch(b){U(b)}var y=ie;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}pe=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,y),c.removeEventListener("test",b,y)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function ge(h,y){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}v(ge,D),ge.prototype.init=function(h,y){const b=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(b=="mouseover"?y=h.fromElement:b=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ze="closure_listenable_"+(Math.random()*1e6|0),$=0;function re(h,y,b,A,H){this.listener=h,this.proxy=null,this.src=y,this.type=b,this.capture=!!A,this.ha=H,this.key=++$,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ke(h,y,b){for(const A in h)y.call(b,h[A],A,h)}function qe(h,y){for(const b in h)y.call(void 0,h[b],b,h)}function P(h){const y={};for(const b in h)y[b]=h[b];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(h,y){let b,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(b in A)h[b]=A[b];for(let K=0;K<W.length;K++)b=W[K],Object.prototype.hasOwnProperty.call(A,b)&&(h[b]=A[b])}}function ue(h){this.src=h,this.g={},this.h=0}ue.prototype.add=function(h,y,b,A,H){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const se=Ie(h,y,A,H);return se>-1?(y=h[se],b||(y.fa=!1)):(y=new re(y,this.src,K,!!A,H),y.fa=b,h.push(y)),y};function Te(h,y){const b=y.type;if(b in h.g){var A=h.g[b],H=Array.prototype.indexOf.call(A,y,void 0),K;(K=H>=0)&&Array.prototype.splice.call(A,H,1),K&&(fe(y),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Ie(h,y,b,A){for(let H=0;H<h.length;++H){const K=h[H];if(!K.da&&K.listener==y&&K.capture==!!b&&K.ha==A)return H}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Lt={};function lt(h,y,b,A,H){if(Array.isArray(y)){for(let K=0;K<y.length;K++)lt(h,y[K],b,A,H);return null}return b=Jo(b),h&&h[ze]?h.J(y,b,d(A)?!!A.capture:!1,H):Vs(h,y,b,!1,A,H)}function Vs(h,y,b,A,H,K){if(!y)throw Error("Invalid event type");const se=d(H)?!!H.capture:!!H;let Re=Us(h);if(Re||(h[Be]=Re=new ue(h)),b=Re.add(y,b,A,se,K),b.proxy)return b;if(A=Na(),b.proxy=A,A.src=h,A.listener=b,h.addEventListener)V||(H=se),H===void 0&&(H=!1),h.addEventListener(y.toString(),A,H);else if(h.attachEvent)h.attachEvent(_i(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Na(){function h(b){return y.call(h.src,h.listener,b)}const y=Xo;return h}function ka(h,y,b,A,H){if(Array.isArray(y))for(var K=0;K<y.length;K++)ka(h,y[K],b,A,H);else A=d(A)?!!A.capture:!!A,b=Jo(b),h&&h[ze]?(h=h.i,K=String(y).toString(),K in h.g&&(y=h.g[K],b=Ie(y,b,A,H),b>-1&&(fe(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete h.g[K],h.h--)))):h&&(h=Us(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ie(y,b,A,H)),(b=h>-1?y[h]:null)&&Da(b))}function Da(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[ze])Te(y.i,h);else{var b=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(b,A,h.capture):y.detachEvent?y.detachEvent(_i(b),A):y.addListener&&y.removeListener&&y.removeListener(A),(b=Us(y))?(Te(b,h),b.h==0&&(b.src=null,y[Be]=null)):fe(h)}}}function _i(h){return h in Lt?Lt[h]:Lt[h]="on"+h}function Xo(h,y){if(h.da)h=!0;else{y=new ge(y,this);const b=h.listener,A=h.ha||h.src;h.fa&&Da(h),h=b.call(A,y)}return h}function Us(h){return h=h[Be],h instanceof ue?h:null}var Wo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jo(h){return typeof h=="function"?h:(h[Wo]||(h[Wo]=function(y){return h.handleEvent(y)}),h[Wo])}function St(){O.call(this),this.i=new ue(this),this.M=this,this.G=null}v(St,O),St.prototype[ze]=!0,St.prototype.removeEventListener=function(h,y,b,A){ka(this,h,y,b,A)};function Vt(h,y){var b,A=h.G;if(A)for(b=[];A;A=A.G)b.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new D(y,h);else if(y instanceof D)y.target=y.target||h;else{var H=y;y=new D(A,h),ae(y,H)}H=!0;let K,se;if(b)for(se=b.length-1;se>=0;se--)K=y.g=b[se],H=Or(K,A,!0,y)&&H;if(K=y.g=h,H=Or(K,A,!0,y)&&H,H=Or(K,A,!1,y)&&H,b)for(se=0;se<b.length;se++)K=y.g=b[se],H=Or(K,A,!1,y)&&H}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const b=h.g[y];for(let A=0;A<b.length;A++)fe(b[A]);delete h.g[y],h.h--}}this.G=null},St.prototype.J=function(h,y,b,A){return this.i.add(String(h),y,!1,b,A)},St.prototype.K=function(h,y,b,A){return this.i.add(String(h),y,!0,b,A)};function Or(h,y,b,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let H=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==b){const Re=se.listener,Et=se.ha||se.src;se.fa&&Te(h.i,se),H=Re.call(Et,A)!==!1&&H}}return H&&!A.defaultPrevented}function rd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Ju(h){h.g=rd(()=>{h.g=null,h.i&&(h.i=!1,Ju(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class sn extends O{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ju(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(h){O.call(this),this.h=h,this.g={}}v(js,O);var Zo=[];function el(h){ke(h.g,function(y,b){this.g.hasOwnProperty(b)&&Da(y)},h),h.g={}}js.prototype.N=function(){js.Z.N.call(this),el(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mr=c.JSON.stringify,sd=c.JSON.parse,Zu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ec(){}function tc(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){D.call(this,"d")}v(Gt,D);function On(){D.call(this,"c")}v(On,D);var vt={},nc=null;function Oa(){return nc=nc||new St}vt.Ia="serverreachability";function ic(h){D.call(this,vt.Ia,h)}v(ic,D);function vi(h){const y=Oa();Vt(y,new ic(y))}vt.STAT_EVENT="statevent";function zs(h,y){D.call(this,vt.STAT_EVENT,h),this.stat=y}v(zs,D);function At(h){const y=Oa();Vt(y,new zs(y,h))}vt.Ja="timingevent";function Ei(h,y){D.call(this,vt.Ja,h),this.size=y}v(Ei,D);function bi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function ad(h,y,b,A,H,K){h.info(function(){if(h.g)if(K){var se="",Re=K.split("&");for(let Ge=0;Ge<Re.length;Ge++){var Et=Re[Ge].split("=");if(Et.length>1){const ut=Et[0];Et=Et[1];const Vn=ut.split("_");se=Vn.length>=2&&Vn[1]=="type"?se+(ut+"="+Et+"&"):se+(ut+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+b+`
`+se})}function rc(h,y,b,A,H,K,se){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+b+`
`+K+" "+se})}function Ti(h,y,b,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+od(h,b)+(A?" "+A:"")})}function Bs(h,y){h.info(function(){return"TIMEOUT: "+y})}Yn.prototype.info=function(){};function od(h,y){if(!h.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var b=K[h];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return Mr(K)}catch{return y}}var Hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nl;function qs(){}v(qs,ec),qs.prototype.g=function(){return new XMLHttpRequest},nl=new qs;function er(h){return encodeURIComponent(String(h))}function sc(h){var y=1;h=h.split(":");const b=[];for(;y>0&&h.length;)b.push(h.shift()),y--;return h.length&&b.push(h.join(":")),b}function Qn(h,y,b,A){this.j=h,this.i=y,this.l=b,this.S=A||1,this.V=new js(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var xt={},zt={};function wi(h,y,b){h.M=1,h.A=Fs(Ct(y)),h.u=b,h.R=!0,Ma(h,null)}function Ma(h,y){h.F=Date.now(),Si(h),h.B=Ct(h.A);var b=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Ua(b.i,"t",A),h.C=0,b=h.j.L,h.h=new Xn,h.g=Ec(h.j,b?y:null,!h.u),h.P>0&&(h.O=new sn(g(h.Y,h,h.g),h.P)),y=h.V,b=h.g,A=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(Zo[0]=H.toString()),H=Zo);for(let K=0;K<H.length;K++){const se=lt(b,H[K],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),vi(),ad(h.i,h.v,h.B,h.l,h.S,h.u)}Qn.prototype.ba=function(h){h=h.target;const y=this.O;y&&Zn(h)==3?y.j():this.Y(h)},Qn.prototype.Y=function(h){try{if(h==this.g)e:{const Re=Zn(this.g),Et=this.g.ya(),Ge=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Re!=4||Et==7||(Et==8||Ge<=0?vi(3):vi(2)),Ai(this);var y=this.g.ca();this.X=y;var b=ld(this);if(this.o=y==200,rc(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var K=A;break t}}K=null}if(h=K)Ti(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,h);else{this.o=!1,this.m=3,At(12),En(this),Mn(this);break e}}if(this.R){h=!0;let ut;for(;!this.K&&this.C<b.length;)if(ut=oc(this,b),ut==zt){Re==4&&(this.m=4,At(14),h=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==xt){this.m=4,At(15),Ti(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else Ti(this.i,this.l,ut,null),xi(this,ut);if(ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||b.length!=0||this.h.h||(this.m=1,At(16),h=!1),this.o=this.o&&h,!h)Ti(this.i,this.l,b,"[Invalid Chunked Response]"),En(this),Mn(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),yl(se),se.P=!0,At(11))}}else Ti(this.i,this.l,b,null),xi(this,b);Re==4&&En(this),this.o&&!this.K&&(Re==4?gc(this.j,this):(this.o=!1,Si(this)))}else nr(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),En(this),Mn(this)}}}catch{}finally{}};function ld(h){if(!ac(h))return h.g.la();const y=Kt(h.g);if(y==="")return"";let b="";const A=y.length,H=Zn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return En(h),Mn(h),"";h.h.i=new c.TextDecoder}for(let K=0;K<A;K++)h.h.h=!0,b+=h.h.i.decode(y[K],{stream:!(H&&K==A-1)});return y.length=0,h.h.g+=b,h.C=0,h.h.g}function ac(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function oc(h,y){var b=h.C,A=y.indexOf(`
`,b);return A==-1?zt:(b=Number(y.substring(b,A)),isNaN(b)?xt:(A+=1,A+b>y.length?zt:(y=y.slice(A,A+b),h.C=A+b,y)))}Qn.prototype.cancel=function(){this.K=!0,En(this)};function Si(h){h.T=Date.now()+h.H,Pa(h,h.H)}function Pa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=bi(g(h.aa,h),y)}function Ai(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Qn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Bs(this.i,this.B),this.M!=2&&(vi(),At(17)),En(this),this.m=2,Mn(this)):Pa(this,this.T-h)};function Mn(h){h.j.I==0||h.K||gc(h.j,h)}function En(h){Ai(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,el(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function xi(h,y){try{var b=h.j;if(b.I!=0&&(b.g==h||Ci(b.h,h))){if(!h.L&&Ci(b.h,h)&&b.I==3){try{var A=b.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)qa(b),Hr(b);else break e;Ws(b),At(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=bi(g(b.Va,b),6e3));Ri(b.h)<=1&&b.ta&&(b.ta=void 0)}else Mi(b,11)}else if((h.L||b.g==h)&&qa(b),!I(y))for(H=b.Ba.g.parse(y),y=0;y<H.length;y++){let Ge=H[y];const ut=Ge[0];if(!(ut<=b.K))if(b.K=ut,Ge=Ge[1],b.I==2)if(Ge[0]=="c"){b.M=Ge[1],b.ba=Ge[2];const Vn=Ge[3];Vn!=null&&(b.ka=Vn,b.j.info("VER="+b.ka));const Pi=Ge[4];Pi!=null&&(b.za=Pi,b.j.info("SVER="+b.za));const ei=Ge[5];ei!=null&&typeof ei=="number"&&ei>0&&(A=1.5*ei,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const ti=h.g;if(ti){const Js=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Js){var K=A.h;K.g||Js.indexOf("spdy")==-1&&Js.indexOf("quic")==-1&&Js.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(sl(K,K.h),K.h=null))}if(A.G){const Fa=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Fa&&(A.wa=Fa,Qe(A.J,A.G,Fa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var se=h;if(A.na=vc(A,A.L?A.ba:null,A.W),se.L){al(A.h,se);var Re=se,Et=A.O;Et&&(Re.H=Et),Re.D&&(Ai(Re),Si(Re)),A.g=se}else mc(A);b.i.length>0&&Oi(b)}else Ge[0]!="stop"&&Ge[0]!="close"||Mi(b,7);else b.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Mi(b,7):pl(b):Ge[0]!="noop"&&b.l&&b.l.qa(Ge),b.A=0)}}vi(4)}catch{}}var Rt=class{constructor(h,y){this.g=h,this.map=y}};function il(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ri(h){return h.h?1:h.g?h.g.size:0}function Ci(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function sl(h,y){h.g?h.g.add(y):h.h=y}function al(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}il.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ol(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const b of h.g.values())y=y.concat(b.G);return y}return x(h.i)}var lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function La(h,y){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const A=h[b].indexOf("=");let H,K=null;A>=0?(H=h[b].substring(0,A),K=h[b].substring(A+1)):H=h[b],y(H,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function bn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof bn?(this.l=h.l,Bt(this,h.j),this.o=h.o,this.g=h.g,Pr(this,h.u),this.h=h.h,ll(this,fc(h.i)),this.m=h.m):h&&(y=String(h).match(lc))?(this.l=!1,Bt(this,y[1]||"",!0),this.o=Ii(y[2]||""),this.g=Ii(y[3]||"",!0),Pr(this,y[4]),this.h=Ii(y[5]||"",!0),ll(this,y[6]||"",!0),this.m=Ii(y[7]||"")):(this.l=!1,this.i=new Vr(null,this.l))}bn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push($s(y,Va,!0),":");var b=this.g;return(b||y=="file")&&(h.push("//"),(y=this.o)&&h.push($s(y,Va,!0),"@"),h.push(er(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push($s(b,b.charAt(0)=="/"?ul:uc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",$s(b,cc)),h.join("")},bn.prototype.resolve=function(h){const y=Ct(this);let b=!!h.j;b?Bt(y,h.j):b=!!h.o,b?y.o=h.o:b=!!h.g,b?y.g=h.g:b=h.u!=null;var A=h.h;if(b)Pr(y,h.u);else if(b=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=y.h.lastIndexOf("/");H!=-1&&(A=y.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const K=[];for(let se=0;se<H.length;){const Re=H[se++];Re=="."?A&&se==H.length&&K.push(""):Re==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&se==H.length&&K.push("")):(K.push(Re),A=!0)}A=K.join("/")}else A=H}return b?y.h=A:b=h.i.toString()!=="",b?ll(y,fc(h.i)):b=!!h.m,b&&(y.m=h.m),y};function Ct(h){return new bn(h)}function Bt(h,y,b){h.j=b?Ii(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Pr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function ll(h,y,b){y instanceof Vr?(h.i=y,ja(h.i,h.l)):(b||(y=$s(y,Lr)),h.i=new Vr(y,h.l))}function Qe(h,y,b){h.i.set(y,b)}function Fs(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ii(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function $s(h,y,b){return typeof h=="string"?(h=encodeURI(h).replace(y,cn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function cn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Va=/[#\/\?@]/g,uc=/[#\?:]/g,ul=/[#\?]/g,Lr=/[#\?@]/g,cc=/#/g;function Vr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function hn(h){h.g||(h.g=new Map,h.h=0,h.i&&La(h.i,function(y,b){h.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}i=Vr.prototype,i.add=function(h,y){hn(this),this.i=null,h=Ur(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(y),this.h+=1,this};function hc(h,y){hn(h),y=Ur(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function cl(h,y){return hn(h),y=Ur(h,y),h.g.has(y)}i.forEach=function(h,y){hn(this),this.g.forEach(function(b,A){b.forEach(function(H){h.call(y,H,A,this)},this)},this)};function hl(h,y){hn(h);let b=[];if(typeof y=="string")cl(h,y)&&(b=b.concat(h.g.get(Ur(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)b=b.concat(h[y]);return b}i.set=function(h,y){return hn(this),this.i=null,h=Ur(this,h),cl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=hl(this,h),h.length>0?String(h[0]):y):y};function Ua(h,y,b){hc(h,y),b.length>0&&(h.i=null,h.g.set(Ur(h,y),x(b)),h.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var b=y[A];const H=er(b);b=hl(this,b);for(let K=0;K<b.length;K++){let se=H;b[K]!==""&&(se+="="+er(b[K])),h.push(se)}}return this.i=h.join("&")};function fc(h){const y=new Vr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Ur(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function ja(h,y){y&&!h.j&&(hn(h),h.i=null,h.g.forEach(function(b,A){const H=A.toLowerCase();A!=H&&(hc(this,A),Ua(this,H,b))},h)),h.j=y}function Wn(h,y){const b=new Yn;if(c.Image){const A=new Image;A.onload=_(Pn,b,"TestLoadImage: loaded",!0,y,A),A.onerror=_(Pn,b,"TestLoadImage: error",!1,y,A),A.onabort=_(Pn,b,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(Pn,b,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function fl(h,y){const b=new Yn,A=new AbortController,H=setTimeout(()=>{A.abort(),Pn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(K=>{clearTimeout(H),K.ok?Pn(b,"TestPingServer: ok",!0,y):Pn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Pn(b,"TestPingServer: error",!1,y)})}function Pn(h,y,b,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(b)}catch{}}function jr(){this.g=new Zu}function Ni(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Ni,ec),Ni.prototype.g=function(){return new Gs(this.i,this.h)};function Gs(h,y){St.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Gs,St),i=Gs.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Jn(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;za(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function za(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?zr(this):Jn(this),this.readyState==3&&za(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,zr(this))},i.Na=function(h){this.g&&(this.response=h,zr(this))},i.ga=function(){this.g&&zr(this)};function zr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Jn(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=y.next();return h.join(`\r
`)};function Jn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ln(h){let y="";return ke(h,function(b,A){y+=A,y+=":",y+=b,y+=`\r
`}),y}function Ks(h,y,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=Ln(b),typeof h=="string"?b!=null&&er(b):Qe(h,y,b))}function Je(h){St.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Je,St);var ki=/^https?$/i,dl=["POST","PUT"];i=Je.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nl.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){Ys(this,K);return}if(h=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)b.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())b.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(dl,y,void 0)>=0)||A||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of b)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){Ys(this,K)}};function Ys(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,ml(h),tr(h)}function ml(h){h.A||(h.A=!0,Vt(h,"complete"),Vt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Vt(this,"complete"),Vt(this,"abort"),tr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tr(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Qs(this):this.Xa())},i.Xa=function(){Qs(this)};function Qs(h){if(h.h&&typeof l<"u"){if(h.v&&Zn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Vt(h,"readystatechange"),Zn(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var A;if(A=K===0){let se=String(h.D).match(lc)[1]||null;!se&&c.self&&c.self.location&&(se=c.self.location.protocol.slice(0,-1)),A=!ki.test(se?se.toLowerCase():"")}b=A}if(b)Vt(h,"complete"),Vt(h,"success");else{h.o=6;try{var H=Zn(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",ml(h)}}finally{tr(h)}}}}function tr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,y||Vt(h,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Zn(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),sd(y)}};function Kt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function nr(h){const y={};h=(h.g&&Zn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(I(h[A]))continue;var b=sc(h[A]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=y[H]||[];y[H]=K,K.push(b)}qe(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(h,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||y}function Br(h){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,h),this.Za=Di("retryDelaySeedMs",1e4,h),this.Ta=Di("forwardChannelMaxRetries",2,h),this.va=Di("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new il(h&&h.concurrentRequestLimit),this.Ba=new jr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Br.prototype,i.ka=8,i.I=1,i.connect=function(h,y,b,A){At(0),this.W=h,this.H=y||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=vc(this,null,this.W),Oi(this)};function pl(h){if(Ba(h),h.I==3){var y=h.V++,b=Ct(h.J);if(Qe(b,"SID",h.M),Qe(b,"RID",y),Qe(b,"TYPE","terminate"),Xs(h,b),y=new Qn(h,h.j,y),y.M=2,y.A=Fs(Ct(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=y.A,b=!0),b||(y.g=Ec(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Si(y)}_c(h)}function Hr(h){h.g&&(yl(h),h.g.cancel(),h.g=null)}function Ba(h){Hr(h),h.v&&(c.clearTimeout(h.v),h.v=null),qa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Oi(h){if(!rl(h.h)&&!h.m){h.m=!0;var y=h.Ea;de||C(),pe||(de(),pe=!0),N.add(y,h),h.D=0}}function Ha(h,y){return Ri(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=bi(g(h.Ea,h,y),yc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new Qn(this,this.j,h);let K=this.o;if(this.U&&(K?(K=P(K),ae(K,this.U)):K=this.U),this.u!==null||this.R||(H.J=K,K=null),this.S)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=dc(this,H,y),b=Ct(this.J),Qe(b,"RID",h),Qe(b,"CVER",22),this.G&&Qe(b,"X-HTTP-Session-Id",this.G),Xs(this,b),K&&(this.R?y="headers="+er(Ln(K))+"&"+y:this.u&&Ks(b,this.u,K)),sl(this.h,H),this.Ra&&Qe(b,"TYPE","init"),this.S?(Qe(b,"$req",y),Qe(b,"SID","null"),H.U=!0,wi(H,b,null)):wi(H,b,y),this.I=2}}else this.I==3&&(h?gl(this,h):this.i.length==0||rl(this.h)||gl(this))};function gl(h,y){var b;y?b=y.l:b=h.V++;const A=Ct(h.J);Qe(A,"SID",h.M),Qe(A,"RID",b),Qe(A,"AID",h.K),Xs(h,A),h.u&&h.o&&Ks(A,h.u,h.o),b=new Qn(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),y&&(h.i=y.G.concat(h.i)),y=dc(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),sl(h.h,b),wi(b,A,y)}function Xs(h,y){h.H&&ke(h.H,function(b,A){Qe(y,A,b)}),h.l&&ke({},function(b,A){Qe(y,A,b)})}function dc(h,y,b){b=Math.min(h.i.length,b);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var H=h.i;let Re=-1;for(;;){const Et=["count="+b];Re==-1?b>0?(Re=H[0].g,Et.push("ofs="+Re)):Re=0:Et.push("ofs="+Re);let Ge=!0;for(let ut=0;ut<b;ut++){var K=H[ut].g;const Vn=H[ut].map;if(K-=Re,K<0)Re=Math.max(0,H[ut].g-100),Ge=!1;else try{K="req"+K+"_"||"";try{var se=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Pi,ei]of se){let ti=ei;d(ei)&&(ti=Mr(ei)),Et.push(K+Pi+"="+encodeURIComponent(ti))}}catch(Pi){throw Et.push(K+"type="+encodeURIComponent("_badmap")),Pi}}catch{A&&A(Vn)}}if(Ge){se=Et.join("&");break e}}se=void 0}return h=h.i.splice(0,b),y.G=h,se}function mc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;de||C(),pe||(de(),pe=!0),N.add(y,h),h.A=0}}function Ws(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=bi(g(h.Da,h),yc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,pc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=bi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Hr(this),pc(this))};function yl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function pc(h){h.g=new Qn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ct(h.na);Qe(y,"RID","rpc"),Qe(y,"SID",h.M),Qe(y,"AID",h.K),Qe(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(y,"TO",h.ia),Qe(y,"TYPE","xmlhttp"),Xs(h,y),h.u&&h.o&&Ks(y,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Fs(Ct(y)),b.u=null,b.R=!0,Ma(b,h)}i.Va=function(){this.C!=null&&(this.C=null,Hr(this),Ws(this),At(19))};function qa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function gc(h,y){var b=null;if(h.g==y){qa(h),yl(h),h.g=null;var A=2}else if(Ci(h.h,y))b=y.G,al(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var H=h.D;A=Oa(),Vt(A,new Ei(A,b)),Oi(h)}else mc(h);else if(H=y.m,H==3||H==0&&y.X>0||!(A==1&&Ha(h,y)||A==2&&Ws(h)))switch(b&&b.length>0&&(y=h.h,y.i=y.i.concat(b)),H){case 1:Mi(h,5);break;case 4:Mi(h,10);break;case 3:Mi(h,6);break;default:Mi(h,2)}}}function yc(h,y){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*y}function Mi(h,y){if(h.j.info("Error code "+y),y==2){var b=g(h.bb,h),A=h.Ua;const H=!A;A=new bn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Bt(A,"https"),Fs(A),H?Wn(A.toString(),b):fl(A.toString(),b)}else At(2);h.I=0,h.l&&h.l.pa(y),_c(h),Ba(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function _c(h){if(h.I=0,h.ja=[],h.l){const y=ol(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ja,y),k(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function vc(h,y,b){var A=b instanceof bn?Ct(b):new bn(b);if(A.g!="")y&&(A.g=y+"."+A.g),Pr(A,A.u);else{var H=c.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;const K=new bn(null);A&&Bt(K,A),y&&(K.g=y),H&&Pr(K,H),b&&(K.h=b),A=K}return b=h.G,y=h.wa,b&&y&&Qe(A,b,y),Qe(A,"VER",h.ka),Xs(h,A),A}function Ec(h,y,b){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Je(new Ni({ab:b})):new Je(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function bc(){}i=bc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function qr(){}qr.prototype.g=function(h,y){return new an(h,y)};function an(h,y){St.call(this),this.g=new Br(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!I(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ir(this)}v(an,St),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){pl(this.g)},an.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Mr(h),h=b);y.i.push(new Rt(y.Ya++,h)),y.I==3&&Oi(y)},an.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,an.Z.N.call(this)};function Tc(h){Gt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const b in y){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}v(Tc,Gt);function wc(){On.call(this),this.status=1}v(wc,On);function ir(h){this.g=h}v(ir,bc),ir.prototype.ra=function(){Vt(this.g,"a")},ir.prototype.qa=function(h){Vt(this.g,new Tc(h))},ir.prototype.pa=function(h){Vt(this.g,new wc)},ir.prototype.oa=function(){Vt(this.g,"b")},qr.prototype.createWebChannel=qr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,R1=function(){return new qr},x1=function(){return Oa()},A1=vt,Bp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,Fh=Hs,tl.COMPLETE="complete",S1=tl,tc.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",St.prototype.listen=St.prototype.J,ou=tc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,w1=Je}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});const PE="@firebase/firestore",LE="4.9.2";let tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let $o="12.3.0";const ba=new bg("@firebase/firestore");function To(){return ba.logLevel}function ce(i,...e){if(ba.logLevel<=Le.DEBUG){const t=e.map(Dg);ba.debug(`Firestore (${$o}): ${i}`,...t)}}function Ir(i,...e){if(ba.logLevel<=Le.ERROR){const t=e.map(Dg);ba.error(`Firestore (${$o}): ${i}`,...t)}}function Ta(i,...e){if(ba.logLevel<=Le.WARN){const t=e.map(Dg);ba.warn(`Firestore (${$o}): ${i}`,...t)}}function Dg(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function be(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,C1(i,s,t)}function C1(i,e,t){let s=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ir(s),new Error(s)}function Ye(i,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,i||C1(e,a,s)}function xe(i,e){return i}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class I1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(tn.UNAUTHENTICATED)))}shutdown(){}}class ZN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ek{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Sr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Sr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new I1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class tk{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nk{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new tk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class VE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ik{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);const s=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new VE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new VE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rk(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class kf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=rk(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function Hp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const a=i.charAt(s),l=e.charAt(s);if(a!==l)return yp(a)===yp(l)?Ve(a,l):yp(a)?1:-1}return Ve(i.length,e.length)}const sk=55296,ak=57343;function yp(i){const e=i.charCodeAt(0);return e>=sk&&e<=ak}function Mo(i,e,t){return i.length===e.length&&i.every(((s,a)=>t(s,e[a])))}const UE="__name__";class zi{constructor(e,t,s){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&be(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=zi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ve(e.length,t.length)}static compareSegments(e,t){const s=zi.isNumericId(e),a=zi.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?zi.extractNumericId(e).compare(zi.extractNumericId(t)):Hp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class rt extends zi{construct(e,t,s){return new rt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new rt(t)}static emptyPath(){return new rt([])}}const ok=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends zi{construct(e,t,s){return new Ft(e,t,s)}static isValidIdentifier(e){return ok.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UE}static keyField(){return new Ft([UE])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new le(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new le(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}function k1(i,e,t){if(!t)throw new le(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function D1(i,e,t,s){if(e===!0&&s===!0)throw new le(ee.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function jE(i){if(!ye.isDocumentKey(i))throw new le(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function zE(i){if(ye.isDocumentKey(i))throw new le(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function O1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Df(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be(12329,{type:typeof i})}function vn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Df(i);throw new le(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Pt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Hu(i,e){if(!O1(i))throw new le(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const c=i[s];if(a&&typeof c!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new le(ee.INVALID_ARGUMENT,t);return!0}const BE=-62135596800,HE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*HE);return new st(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<BE)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-BE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Pt("string",st._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new st(0,0))}static max(){return new Se(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wu=-1;function lk(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Se.fromTimestamp(s===1e9?new st(t+1,0):new st(t,s));return new Ss(a,ye.empty(),e)}function uk(i){return new Ss(i.readTime,i.key,wu)}class Ss{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ss(Se.min(),ye.empty(),wu)}static max(){return new Ss(Se.max(),ye.empty(),wu)}}function ck(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(i.documentKey,e.documentKey),t!==0?t:Ve(i.largestBatchId,e.largestBatchId))}const hk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Go(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==hk)throw i;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,s)=>{t(e)}))}static reject(e){return new ne(((t,s)=>{s(e)}))}static waitFor(e){return new ne(((t,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(p=>s(p)))})),c=!0,l===a&&t()}))}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next((a=>a?ne.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,l)=>{s.push(t.call(this,a,l))})),this.waitFor(s)}static mapArray(e,t){return new ne(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((_=>{c[g]=_,++d,d===l&&s(c)}),(_=>a(_)))}}))}static doWhile(e,t){return new ne(((s,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):s()};l()}))}}function dk(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ko(i){return i.name==="IndexedDbTransactionError"}class Of{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Of.ce=-1;const Og=-1;function Mf(i){return i==null}function of(i){return i===0&&1/i==-1/0}function mk(i){return typeof i=="number"&&Number.isInteger(i)&&!of(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const M1="";function pk(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=qE(e)),e=gk(i.get(t),e);return qE(e)}function gk(i,e){let t=e;const s=i.length;for(let a=0;a<s;a++){const l=i.charAt(a);switch(l){case"\0":t+="";break;case M1:t+="";break;default:t+=l}}return t}function qE(i){return i+M1+""}function FE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ms(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function P1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class mt{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}}class Nh{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??Jt.RED,this.left=a??Jt.EMPTY,this.right=l??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Jt(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Jt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $E(this.data.getIterator())}getIteratorFrom(e){return new $E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new jt(this.comparator);return t.data=e,t}}class $E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new kn([])}unionWith(e){let t=new jt(Ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class L1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new L1("Invalid base64 string: "+l):l}})(e);return new $t(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const yk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const t=yk.exec(i);if(Ye(!!t,46558,{timestamp:i}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wt(i.seconds),nanos:wt(i.nanos)}}function wt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function xs(i){return typeof i=="string"?$t.fromBase64String(i):$t.fromUint8Array(i)}const V1="server_timestamp",U1="__type__",j1="__previous_value__",z1="__local_write_time__";function Mg(i){return(i?.mapValue?.fields||{})[U1]?.stringValue===V1}function Pf(i){const e=i.mapValue.fields[j1];return Mg(e)?Pf(e):e}function Su(i){const e=As(i.mapValue.fields[z1].timestampValue);return new st(e.seconds,e.nanos)}class _k{constructor(e,t,s,a,l,c,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const lf="(default)";class Po{constructor(e,t){this.projectId=e,this.database=t||lf}static empty(){return new Po("","")}get isDefaultDatabase(){return this.database===lf}isEqual(e){return e instanceof Po&&e.projectId===this.projectId&&e.database===this.database}}const B1="__type__",vk="__max__",kh={mapValue:{}},H1="__vector__",uf="value";function Rs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Mg(i)?4:bk(i)?9007199254740991:Ek(i)?10:11:be(28295,{value:i})}function Wi(i,e){if(i===e)return!0;const t=Rs(i);if(t!==Rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Su(i).isEqual(Su(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=As(a.timestampValue),d=As(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,l){return xs(a.bytesValue).isEqual(xs(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,l){return wt(a.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(a.geoPointValue.longitude)===wt(l.geoPointValue.longitude)})(i,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return wt(a.integerValue)===wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=wt(a.doubleValue),d=wt(l.doubleValue);return c===d?of(c)===of(d):isNaN(c)&&isNaN(d)}return!1})(i,e);case 9:return Mo(i.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(FE(c)!==FE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Wi(c[p],d[p])))return!1;return!0})(i,e);default:return be(52216,{left:i})}}function Au(i,e){return(i.values||[]).find((t=>Wi(t,e)))!==void 0}function Lo(i,e){if(i===e)return 0;const t=Rs(i),s=Rs(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=wt(l.integerValue||l.doubleValue),p=wt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(i,e);case 3:return GE(i.timestampValue,e.timestampValue);case 4:return GE(Su(i),Su(e));case 5:return Hp(i.stringValue,e.stringValue);case 6:return(function(l,c){const d=xs(l),p=xs(c);return d.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Ve(d[g],p[g]);if(_!==0)return _}return Ve(d.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Ve(wt(l.latitude),wt(c.latitude));return d!==0?d:Ve(wt(l.longitude),wt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return KE(i.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[uf]?.arrayValue,_=p[uf]?.arrayValue,v=Ve(g?.values?.length||0,_?.values?.length||0);return v!==0?v:KE(g,_)})(i.mapValue,e.mapValue);case 11:return(function(l,c){if(l===kh.mapValue&&c===kh.mapValue)return 0;if(l===kh.mapValue)return 1;if(c===kh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let v=0;v<p.length&&v<_.length;++v){const T=Hp(p[v],_[v]);if(T!==0)return T;const x=Lo(d[p[v]],g[_[v]]);if(x!==0)return x}return Ve(p.length,_.length)})(i.mapValue,e.mapValue);default:throw be(23264,{he:t})}}function GE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const t=As(i),s=As(e),a=Ve(t.seconds,s.seconds);return a!==0?a:Ve(t.nanos,s.nanos)}function KE(i,e){const t=i.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=Lo(t[a],s[a]);if(l)return l}return Ve(t.length,s.length)}function Vo(i){return qp(i)}function qp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=As(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return xs(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ye.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=qp(l);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${qp(t.fields[c])}`;return a+"}"})(i.mapValue):be(61005,{value:i})}function $h(i){switch(Rs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pf(i);return e?16+$h(e):16;case 5:return 2*i.stringValue.length;case 6:return xs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+$h(l)),0)})(i.arrayValue);case 10:case 11:return(function(s){let a=0;return Ms(s.fields,((l,c)=>{a+=l.length+$h(c)})),a})(i.mapValue);default:throw be(13486,{value:i})}}function YE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Fp(i){return!!i&&"integerValue"in i}function Pg(i){return!!i&&"arrayValue"in i}function QE(i){return!!i&&"nullValue"in i}function XE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Gh(i){return!!i&&"mapValue"in i}function Ek(i){return(i?.mapValue?.fields||{})[B1]?.stringValue===H1}function fu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ms(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=fu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fu(i.arrayValue.values[t]);return e}return{...i}}function bk(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===vk}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Gh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=Ft.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,a),s={},a=[],t=d.popLast()}c?s[d.lastSegment()]=fu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Gh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Gh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ms(t,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new _n(fu(this.value))}}function q1(i){const e=[];return Ms(i.fields,((t,s)=>{const a=new Ft([t]);if(Gh(s)){const l=q1(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new kn(e)}class nn{constructor(e,t,s,a,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new nn(e,0,Se.min(),Se.min(),Se.min(),_n.empty(),0)}static newFoundDocument(e,t,s,a){return new nn(e,1,t,Se.min(),s,a,0)}static newNoDocument(e,t){return new nn(e,2,t,Se.min(),Se.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,Se.min(),Se.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cf{constructor(e,t){this.position=e,this.inclusive=t}}function WE(i,e,t){let s=0;for(let a=0;a<i.position.length;a++){const l=e[a],c=i.position[a];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(c.referenceValue),t.key):s=Lo(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function JE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Wi(i.position[t],e.position[t]))return!1;return!0}class xu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Tk(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class F1{}class Mt extends F1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new Sk(e,t,s):t==="array-contains"?new Rk(e,s):t==="in"?new Ck(e,s):t==="not-in"?new Ik(e,s):t==="array-contains-any"?new Nk(e,s):new Mt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new Ak(e,s):new xk(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Lo(t,this.value)):t!==null&&Rs(this.value)===Rs(t)&&this.matchesComparison(Lo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends F1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new mi(e,t)}matches(e){return $1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $1(i){return i.op==="and"}function G1(i){return wk(i)&&$1(i)}function wk(i){for(const e of i.filters)if(e instanceof mi)return!1;return!0}function $p(i){if(i instanceof Mt)return i.field.canonicalString()+i.op.toString()+Vo(i.value);if(G1(i))return i.filters.map((e=>$p(e))).join(",");{const e=i.filters.map((t=>$p(t))).join(",");return`${i.op}(${e})`}}function K1(i,e){return i instanceof Mt?(function(s,a){return a instanceof Mt&&s.op===a.op&&s.field.isEqual(a.field)&&Wi(s.value,a.value)})(i,e):i instanceof mi?(function(s,a){return a instanceof mi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&K1(c,a.filters[d])),!0):!1})(i,e):void be(19439)}function Y1(i){return i instanceof Mt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Vo(t.value)}`})(i):i instanceof mi?(function(t){return t.op.toString()+" {"+t.getFilters().map(Y1).join(" ,")+"}"})(i):"Filter"}class Sk extends Mt{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ak extends Mt{constructor(e,t){super(e,"in",t),this.keys=Q1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class xk extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=Q1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Q1(i,e){return(e.arrayValue?.values||[]).map((t=>ye.fromName(t.referenceValue)))}class Rk extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pg(t)&&Au(t.arrayValue,this.value)}}class Ck extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Au(this.value.arrayValue,t)}}class Ik extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Au(this.value.arrayValue,t)}}class Nk extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Au(this.value.arrayValue,s)))}}class kk{constructor(e,t=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function ZE(i,e=null,t=[],s=[],a=null,l=null,c=null){return new kk(i,e,t,s,a,l,c)}function Lg(i){const e=xe(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>$p(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Mf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Vo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Vo(s))).join(",")),e.Te=t}return e.Te}function Vg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Tk(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!K1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!JE(i.startAt,e.startAt)&&JE(i.endAt,e.endAt)}function Gp(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Yo{constructor(e,t=null,s=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Dk(i,e,t,s,a,l,c,d){return new Yo(i,e,t,s,a,l,c,d)}function Lf(i){return new Yo(i)}function eb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function X1(i){return i.collectionGroup!==null}function du(i){const e=xe(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new jt(Ft.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new xu(l,s))})),t.has(Ft.keyField().canonicalString())||e.Ie.push(new xu(Ft.keyField(),s))}return e.Ie}function Yi(i){const e=xe(i);return e.Ee||(e.Ee=Ok(e,du(i))),e.Ee}function Ok(i,e){if(i.limitType==="F")return ZE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new xu(a.field,l)}));const t=i.endAt?new cf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new cf(i.startAt.position,i.startAt.inclusive):null;return ZE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Kp(i,e){const t=i.filters.concat([e]);return new Yo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function hf(i,e,t){return new Yo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Vf(i,e){return Vg(Yi(i),Yi(e))&&i.limitType===e.limitType}function W1(i){return`${Lg(Yi(i))}|lt:${i.limitType}`}function wo(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>Y1(a))).join(", ")}]`),Mf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>Vo(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>Vo(a))).join(",")),`Target(${s})`})(Yi(i))}; limitType=${i.limitType})`}function Uf(i,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(i,e)&&(function(s,a){for(const l of du(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(i,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,p){const g=WE(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,du(s),a)||s.endAt&&!(function(c,d,p){const g=WE(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,du(s),a))})(i,e)}function Mk(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function J1(i){return(e,t)=>{let s=!1;for(const a of du(i)){const l=Pk(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function Pk(i,e,t){const s=i.field.isKeyField()?ye.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Lo(p,g):be(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:i.dir})}}class Ca{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,((t,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return P1(this.inner)}size(){return this.innerSize}}const Lk=new mt(ye.comparator);function Nr(){return Lk}const Z1=new mt(ye.comparator);function lu(...i){let e=Z1;for(const t of i)e=e.insert(t.key,t);return e}function ew(i){let e=Z1;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function pa(){return mu()}function tw(){return mu()}function mu(){return new Ca((i=>i.toString()),((i,e)=>i.isEqual(e)))}const Vk=new mt(ye.comparator),Uk=new jt(ye.comparator);function Ue(...i){let e=Uk;for(const t of i)e=e.add(t);return e}const jk=new jt(Ve);function zk(){return jk}function Ug(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:of(e)?"-0":e}}function nw(i){return{integerValue:""+i}}function Bk(i,e){return mk(e)?nw(e):Ug(i,e)}class jf{constructor(){this._=void 0}}function Hk(i,e,t){return i instanceof Ru?(function(a,l){const c={fields:{[U1]:{stringValue:V1},[z1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Mg(l)&&(l=Pf(l)),l&&(c.fields[j1]=l),{mapValue:c}})(t,e):i instanceof Cu?rw(i,e):i instanceof Iu?sw(i,e):(function(a,l){const c=iw(a,l),d=tb(c)+tb(a.Ae);return Fp(c)&&Fp(a.Ae)?nw(d):Ug(a.serializer,d)})(i,e)}function qk(i,e,t){return i instanceof Cu?rw(i,e):i instanceof Iu?sw(i,e):t}function iw(i,e){return i instanceof ff?(function(s){return Fp(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Ru extends jf{}class Cu extends jf{constructor(e){super(),this.elements=e}}function rw(i,e){const t=aw(e);for(const s of i.elements)t.some((a=>Wi(a,s)))||t.push(s);return{arrayValue:{values:t}}}class Iu extends jf{constructor(e){super(),this.elements=e}}function sw(i,e){let t=aw(e);for(const s of i.elements)t=t.filter((a=>!Wi(a,s)));return{arrayValue:{values:t}}}class ff extends jf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function tb(i){return wt(i.integerValue||i.doubleValue)}function aw(i){return Pg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Fk{constructor(e,t){this.field=e,this.transform=t}}function $k(i,e){return i.field.isEqual(e.field)&&(function(s,a){return s instanceof Cu&&a instanceof Cu||s instanceof Iu&&a instanceof Iu?Mo(s.elements,a.elements,Wi):s instanceof ff&&a instanceof ff?Wi(s.Ae,a.Ae):s instanceof Ru&&a instanceof Ru})(i.transform,e.transform)}class Gk{constructor(e,t){this.version=e,this.transformResults=t}}class li{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class zf{}function ow(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new uw(i.key,li.none()):new qu(i.key,i.data,li.none());{const t=i.data,s=_n.empty();let a=new jt(Ft.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ps(i.key,s,new kn(a.toArray()),li.none())}}function Kk(i,e,t){i instanceof qu?(function(a,l,c){const d=a.value.clone(),p=ib(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(i,e,t):i instanceof Ps?(function(a,l,c){if(!Kh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=ib(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(lw(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function pu(i,e,t,s){return i instanceof qu?(function(l,c,d,p){if(!Kh(l.precondition,c))return d;const g=l.value.clone(),_=rb(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,s):i instanceof Ps?(function(l,c,d,p){if(!Kh(l.precondition,c))return d;const g=rb(l.fieldTransforms,p,c),_=c.data;return _.setAll(lw(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(i,e,t,s):(function(l,c,d){return Kh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(i,e,t)}function Yk(i,e){let t=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),l=iw(s.transform,a||null);l!=null&&(t===null&&(t=_n.empty()),t.set(s.field,l))}return t||null}function nb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Mo(s,a,((l,c)=>$k(l,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class qu extends zf{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ps extends zf{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function lw(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function ib(i,e,t){const s=new Map;Ye(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let a=0;a<t.length;a++){const l=i[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,qk(c,d,t[a]))}return s}function rb(i,e,t){const s=new Map;for(const a of i){const l=a.transform,c=t.data.field(a.field);s.set(a.field,Hk(l,c,e))}return s}class uw extends zf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qk extends zf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xk{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Kk(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=pu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=pu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=tw();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=ow(c,d);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,((t,s)=>nb(t,s)))&&Mo(this.baseMutations,e.baseMutations,((t,s)=>nb(t,s)))}}class jg{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return Vk})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new jg(e,t,s,a)}}class Wk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Jk{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ot,He;function Zk(i){switch(i){case ee.OK:return be(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return be(15467,{code:i})}}function cw(i){if(i===void 0)return Ir("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Ot.OK:return ee.OK;case Ot.CANCELLED:return ee.CANCELLED;case Ot.UNKNOWN:return ee.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ee.INTERNAL;case Ot.UNAVAILABLE:return ee.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ee.NOT_FOUND;case Ot.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ot.ABORTED:return ee.ABORTED;case Ot.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ot.DATA_LOSS:return ee.DATA_LOSS;default:return be(39323,{code:i})}}(He=Ot||(Ot={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function eD(){return new TextEncoder}const tD=new Es([4294967295,4294967295],0);function sb(i){const e=eD().encode(i),t=new T1;return t.update(e),new Uint8Array(t.digest())}function ab(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Es([t,s],0),new Es([a,l],0)]}class zg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new uu(`Invalid padding: ${t}`);if(s<0)throw new uu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new uu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Es.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(Es.fromNumber(s)));return a.compare(tD)===1&&(a=new Es([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=sb(e),[s,a]=ab(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new zg(l,a,t);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=sb(e),[s,a]=ab(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Bf(Se.min(),a,new mt(Ve),Nr(),Ue())}}class Fu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Fu(s,t,Ue(),Ue(),Ue())}}class Yh{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class hw{constructor(e,t){this.targetId=e,this.Ce=t}}class fw{constructor(e,t,s=$t.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class ob{constructor(){this.ve=0,this.Fe=lb(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),s=Ue();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:be(38017,{changeType:l})}})),new Fu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=lb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Nr(),this.Je=Dh(),this.He=Dh(),this.Ye=new mt(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Gp(l))if(s===0){const c=new ye(l.path);this.et(t,c,nn.newNoDocument(c,Se.min()))}else Ye(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=xs(s).toUint8Array()}catch(p){if(p instanceof L1)return Ta("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new zg(c,a,l)}catch(p){return Ta(p instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Gp(d.target)){const p=new ye(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,nn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let s=Ue();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Bf(e,t,this.Ye,this.je,s);return this.je=Nr(),this.Je=Dh(),this.He=Dh(),this.Ye=new mt(Ve),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ob,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new jt(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new jt(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ob),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Dh(){return new mt(ye.comparator)}function lb(){return new mt(ye.comparator)}const iD={asc:"ASCENDING",desc:"DESCENDING"},rD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sD={and:"AND",or:"OR"};class aD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yp(i,e){return i.useProto3Json||Mf(e)?e:{value:e}}function df(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function oD(i,e){return df(i,e.toTimestamp())}function Qi(i){return Ye(!!i,49232),Se.fromTimestamp((function(t){const s=As(t);return new st(s.seconds,s.nanos)})(i))}function Bg(i,e){return Qp(i,e).canonicalString()}function Qp(i,e){const t=(function(a){return new rt(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?t:t.child(e)}function mw(i){const e=rt.fromString(i);return Ye(vw(e),10190,{key:e.toString()}),e}function Xp(i,e){return Bg(i.databaseId,e.path)}function _p(i,e){const t=mw(e);if(t.get(1)!==i.databaseId.projectId)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ye(gw(t))}function pw(i,e){return Bg(i.databaseId,e)}function lD(i){const e=mw(i);return e.length===4?rt.emptyPath():gw(e)}function Wp(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function gw(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ub(i,e,t){return{name:Xp(i,e),fields:t.value.mapValue.fields}}function uD(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(Ye(_===void 0||typeof _=="string",58123),$t.fromBase64String(_||"")):(Ye(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),$t.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?ee.UNKNOWN:cw(g.code);return new le(_,g.message||"")})(c);t=new fw(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=_p(i,s.document.name),l=Qi(s.document.updateTime),c=s.document.createTime?Qi(s.document.createTime):Se.min(),d=new _n({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(a,l,c,d),g=s.targetIds||[],_=s.removedTargetIds||[];t=new Yh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=_p(i,s.document),l=s.readTime?Qi(s.readTime):Se.min(),c=nn.newNoDocument(a,l),d=s.removedTargetIds||[];t=new Yh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=_p(i,s.document),l=s.removedTargetIds||[];t=new Yh([],l,a,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new Jk(a,l),d=s.targetId;t=new hw(d,c)}}return t}function cD(i,e){let t;if(e instanceof qu)t={update:ub(i,e.key,e.value)};else if(e instanceof uw)t={delete:Xp(i,e.key)};else if(e instanceof Ps)t={update:ub(i,e.key,e.data),updateMask:vD(e.fieldMask)};else{if(!(e instanceof Qk))return be(16599,{Vt:e.type});t={verify:Xp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Ru)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Cu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Iu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ff)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw be(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:oD(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be(27497)})(i,e.precondition)),t}function hD(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map((t=>(function(a,l){let c=a.updateTime?Qi(a.updateTime):Qi(l);return c.isEqual(Se.min())&&(c=Qi(l)),new Gk(c,a.transformResults||[])})(t,e)))):[]}function fD(i,e){return{documents:[pw(i,e.path)]}}function dD(i,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=pw(i,a);const l=(function(g){if(g.length!==0)return _w(mi.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(T){return{field:So(T.field),direction:gD(T.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Yp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function mD(i){let e=lD(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Ye(s===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(v){const T=yw(v);return T instanceof mi&&G1(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(v){return v.map((T=>(function(k){return new xu(Ao(k.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(v){let T;return T=typeof v=="object"?v.value:v,Mf(T)?null:T})(t.limit));let p=null;t.startAt&&(p=(function(v){const T=!!v.before,x=v.values||[];return new cf(x,T)})(t.startAt));let g=null;return t.endAt&&(g=(function(v){const T=!v.before,x=v.values||[];return new cf(x,T)})(t.endAt)),Dk(e,a,c,l,d,"F",p,g)}function pD(i,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yw(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ao(t.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ao(t.unaryFilter.field);return Mt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ao(t.unaryFilter.field);return Mt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ao(t.unaryFilter.field);return Mt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Mt.create(Ao(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return mi.create(t.compositeFilter.filters.map((s=>yw(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(t.compositeFilter.op))})(i):be(30097,{filter:i})}function gD(i){return iD[i]}function yD(i){return rD[i]}function _D(i){return sD[i]}function So(i){return{fieldPath:i.canonicalString()}}function Ao(i){return Ft.fromServerFormat(i.fieldPath)}function _w(i){return i instanceof Mt?(function(t){if(t.op==="=="){if(XE(t.value))return{unaryFilter:{field:So(t.field),op:"IS_NAN"}};if(QE(t.value))return{unaryFilter:{field:So(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(XE(t.value))return{unaryFilter:{field:So(t.field),op:"IS_NOT_NAN"}};if(QE(t.value))return{unaryFilter:{field:So(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(t.field),op:yD(t.op),value:t.value}}})(i):i instanceof mi?(function(t){const s=t.getFilters().map((a=>_w(a)));return s.length===1?s[0]:{compositeFilter:{op:_D(t.op),filters:s}}})(i):be(54877,{filter:i})}function vD(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function vw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ys{constructor(e,t,s,a,l=Se.min(),c=Se.min(),d=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ED{constructor(e){this.yt=e}}function bD(i){const e=mD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?hf(e,e.limit,"L"):e}class TD{constructor(){this.Cn=new wD}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Ss.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class wD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new jt(rt.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new jt(rt.comparator)).toArray()}}const cb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ew=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(Ew,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class Uo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Uo(0)}static cr(){return new Uo(-1)}}const hb="LruGarbageCollector",SD=1048576;function fb([i,e],[t,s]){const a=Ve(i,t);return a===0?Ve(e,s):a}class AD{constructor(e){this.Ir=e,this.buffer=new jt(fb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();fb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(hb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ko(t)?ce(hb,"Ignoring IndexedDB error during garbage collection: ",t):await Go(t)}await this.Vr(3e5)}))}}class RD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Of.ce);const s=new AD(t);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(cb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,l,c,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,d=Date.now(),this.removeTargets(e,s,t)))).next((v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(g=Date.now(),To()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function CD(i,e){return new RD(i,e)}class ID{constructor(){this.changes=new Ca((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ND{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kD{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&pu(s.mutation,a,kn.empty(),st.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ue()){const a=pa();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((l=>{let c=lu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=pa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ue())))}populateOverlays(e,t,s){const a=[];return s.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,s,a){let l=Nr();const c=mu(),d=(function(){return mu()})();return t.forEach(((p,g)=>{const _=s.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof Ps)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),pu(_.mutation,g,_.mutation.getFieldMask(),st.now())):c.set(g.key,kn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>d.set(g,new ND(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=mu();let a=new mt(((c,d)=>c-d)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||kn.empty();_=d.applyToLocalView(g,_),s.set(p,_);const v=(a.get(d.batchId)||Ue()).add(p);a=a.insert(d.batchId,v)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,v=tw();_.forEach((T=>{if(!l.has(T)){const x=ow(t.get(T),s.get(T));x!==null&&v.set(T,x),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,v))}return ne.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):X1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ne.resolve(pa());let d=wu,p=l;return c.next((g=>ne.forEach(g,((_,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((T=>{p=p.insert(_,T)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Ue()))).next((_=>({batchId:d,changes:ew(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((s=>{let a=lu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let c=lu();return this.indexManager.getCollectionParents(e,l).next((d=>ne.forEach(d,(p=>{const g=(function(v,T){return new Yo(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((_=>{_.forEach(((v,T)=>{c=c.insert(v,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a)))).next((c=>{l.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,nn.newInvalidDocument(_)))}));let d=lu();return c.forEach(((p,g)=>{const _=l.get(p);_!==void 0&&pu(_.mutation,g,kn.empty(),st.now()),Uf(t,g)&&(d=d.insert(p,g))})),d}))}}class DD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Qi(a.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:bD(a.bundledQuery),readTime:Qi(a.readTime)}})(t)),ne.resolve()}}class OD{constructor(){this.overlays=new mt(ye.comparator),this.qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=pa();return ne.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,l)=>{this.St(e,t,l)})),ne.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const a=pa(),l=t.length+1,c=new ye(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return ne.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new mt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=pa(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=pa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=a)););return ne.resolve(d)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new Wk(t,s));let l=this.qr.get(t);l===void 0&&(l=Ue(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}class MD{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}class Hg{constructor(){this.Qr=new jt(qt.$r),this.Ur=new jt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new qt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new qt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ye(new rt([])),s=new qt(t,e),a=new qt(t,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new rt([])),s=new qt(t,e),a=new qt(t,e+1);let l=Ue();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new qt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}class PD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new jt(qt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Xk(l,t,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new qt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),l=a<0?0:a;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Og:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new qt(t,0),a=new qt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new jt(Ve);return t.forEach((a=>{const l=new qt(a,0),c=new qt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const c=new qt(new ye(l),0);let d=new jt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Yr)),!0)}),c),ne.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Ye(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(t.mutations,(a=>{const l=new qt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new qt(t,0),a=this.Zr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class LD{constructor(e){this.ri=e,this.docs=(function(){return new mt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let s=Nr();return t.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():nn.newInvalidDocument(a))})),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Nr();const c=t.path,d=new ye(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||ck(uk(_),s)<=0||(a.has(_.key)||Uf(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,s,a){be(9500)}ii(e,t){return ne.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new VD(this)}getSize(e){return ne.resolve(this.size)}}class VD extends ID{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class UD{constructor(e){this.persistence=e,this.si=new Ca((t=>Lg(t)),Vg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Hg,this.targetCount=0,this.ai=Uo.ur()}forEachTarget(e,t){return this.si.forEach(((s,a)=>t(a))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Uo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Pr(t),ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ne.waitFor(l).next((()=>a))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this._i.containsKey(t))}}class bw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Of(0),this.li=!1,this.li=!0,this.hi=new MD,this.referenceDelegate=e(this),this.Pi=new UD(this),this.indexManager=new TD,this.remoteDocumentCache=(function(a){return new LD(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ED(t),this.Ii=new DD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new PD(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const a=new jD(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class jD extends fk{constructor(e){super(),this.currentSequenceNumber=e}}class qg{constructor(e){this.persistence=e,this.Ri=new Hg,this.Vi=null}static mi(e){return new qg(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const a=ye.fromPath(s);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Se.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class mf{constructor(e,t){this.persistence=e,this.pi=new Ca((s=>pk(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=CD(this,t)}static mi(e,t){return new mf(e,t)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return ne.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ne.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(s++,l.removeEntry(c,Se.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$h(e.data.value)),t}br(e,t,s){return ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ne.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Fg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=Ue(),a=Ue();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Fg(e,t.fromCache,s,a)}}class zD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class BD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _C()?8:dk(rn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new zD;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,s,a){return s.documentReadCount<this.fs?(To()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",wo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(To()<=Le.DEBUG&&ce("QueryEngine","Query:",wo(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(To()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",wo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(t))):ne.resolve())}ys(e,t){if(eb(t))return ne.resolve(null);let s=Yi(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=hf(t,null,"F"),s=Yi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Ue(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(t,d);return this.Cs(t,g,c,p.readTime)?this.ys(e,hf(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,s,a){return eb(t)||a.isEqual(Se.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,s,a)?ne.resolve(null):(To()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wo(t)),this.vs(e,c,t,lk(a,wu)).next((d=>d)))}))}Ds(e,t){let s=new jt(J1(e));return t.forEach(((a,l)=>{Uf(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,s){return To()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",wo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ss.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const $g="LocalStore",HD=3e8;class qD{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new mt(Ve),this.xs=new Ca((l=>Lg(l)),Vg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function FD(i,e,t,s){return new qD(i,e,t,s)}async function Tw(i,e){const t=xe(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let p=Ue();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function $D(i,e){const t=xe(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const v=g.batch,T=v.keys();let x=ne.resolve();return T.forEach((k=>{x=x.next((()=>_.getEntry(p,k))).next((z=>{const U=g.docVersions.get(k);Ye(U!==null,48541),z.version.compareTo(U)<0&&(v.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),_.addEntry(z)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(p,v)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function ww(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function GD(i,e){const t=xe(i),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((_,v)=>{const T=a.get(v);if(!T)return;d.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(l,_.addedDocuments,v))));let x=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken($t.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,s)),a=a.insert(v,x),(function(z,U,Q){return z.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=HD?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(T,x,_)&&d.push(t.Pi.updateTargetData(l,x))}));let p=Nr(),g=Ue();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),d.push(KD(l,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(Se.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next((v=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(_)}return ne.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Ms=a,l)))}function KD(i,e,t){let s=Ue(),a=Ue();return t.forEach((l=>s=s.add(l))),e.getEntries(i,s).next((l=>{let c=Nr();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ce($g,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:a}}))}function YD(i,e){const t=xe(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Og),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function QD(i,e){const t=xe(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.Pi.getTargetData(s,e).next((l=>l?(a=l,ne.resolve(a)):t.Pi.allocateTargetId(s).next((c=>(a=new ys(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Jp(i,e,t){const s=xe(i),a=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Ko(c))throw c;ce($g,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function db(i,e,t){const s=xe(i);let a=Se.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const v=xe(p),T=v.xs.get(_);return T!==void 0?ne.resolve(v.Ms.get(T)):v.Pi.getTargetData(g,_)})(s,c,Yi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?a:Se.min(),t?l:Ue()))).next((d=>(XD(s,Mk(e),d),{documents:d,Qs:l})))))}function XD(i,e,t){let s=i.Os.get(e)||Se.min();t.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),i.Os.set(e,s)}class mb{constructor(){this.activeTargetIds=zk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WD{constructor(){this.Mo=new mb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mb,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JD{Oo(e){}shutdown(){}}const pb="ConnectivityMonitor";class gb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(pb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(pb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oh=null;function Zp(){return Oh===null?Oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oh++,"0x"+Oh.toString(16)}const vp="RestConnection",ZD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===lf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,l){const c=Zp(),d=this.zo(e,t.toUriEncodedString());ce(vp,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:g}=new URL(d),_=Ds(g);return this.Jo(e,d,p,s,_).then((v=>(ce(vp,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Ta(vp,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",s),v}))}Ho(e,t,s,a,l,c){return this.Go(e,t,s,a,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const s=ZD[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class tO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const en="WebChannelConnection";class nO extends eO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,l){const c=Zp();return new Promise(((d,p)=>{const g=new w1;g.setWithCredentials(!0),g.listenOnce(S1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Fh.NO_ERROR:const v=g.getResponseJson();ce(en,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case Fh.TIMEOUT:ce(en,`RPC '${e}' ${c} timed out`),p(new le(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const T=g.getStatus();if(ce(en,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const k=x?.error;if(k&&k.status&&k.message){const z=(function(Q){const J=Q.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(J)>=0?J:ee.UNKNOWN})(k.status);p(new le(z,k.message))}else p(new le(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(ee.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(en,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(a);ce(en,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",_,s,15)}))}T_(e,t,s){const a=Zp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=R1(),d=x1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=l.join("");ce(en,`Creating RPC '${e}' stream ${a}: ${_}`,p);const v=c.createWebChannel(_,p);this.I_(v);let T=!1,x=!1;const k=new tO({Yo:U=>{x?ce(en,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(T||(ce(en,`Opening RPC '${e}' stream ${a} transport.`),v.open(),T=!0),ce(en,`RPC '${e}' stream ${a} sending:`,U),v.send(U))},Zo:()=>v.close()}),z=(U,Q,J)=>{U.listen(Q,(ie=>{try{J(ie)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return z(v,ou.EventType.OPEN,(()=>{x||(ce(en,`RPC '${e}' stream ${a} transport opened.`),k.o_())})),z(v,ou.EventType.CLOSE,(()=>{x||(x=!0,ce(en,`RPC '${e}' stream ${a} transport closed`),k.a_(),this.E_(v))})),z(v,ou.EventType.ERROR,(U=>{x||(x=!0,Ta(en,`RPC '${e}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),k.a_(new le(ee.UNAVAILABLE,"The operation could not be completed")))})),z(v,ou.EventType.MESSAGE,(U=>{if(!x){const Q=U.data[0];Ye(!!Q,16349);const J=Q,ie=J?.error||J[0]?.error;if(ie){ce(en,`RPC '${e}' stream ${a} received error:`,ie);const oe=ie.status;let de=(function(C){const R=Ot[C];if(R!==void 0)return cw(R)})(oe),pe=ie.message;de===void 0&&(de=ee.INTERNAL,pe="Unknown error status: "+oe+" with message "+ie.message),x=!0,k.a_(new le(de,pe)),v.close()}else ce(en,`RPC '${e}' stream ${a} received:`,Q),k.u_(Q)}})),z(d,A1.STAT_EVENT,(U=>{U.stat===Bp.PROXY?ce(en,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===Bp.NOPROXY&&ce(en,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Ep(){return typeof document<"u"?document:null}function Hf(i){return new aD(i,!0)}class Sw{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const yb="PersistentStream";class Aw{constructor(e,t,s,a,l,c,d,p){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Ir(t.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new le(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(yb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ce(yb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iO extends Aw{constructor(e,t,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=uD(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Se.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?Qi(c.readTime):Se.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Wp(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=Gp(p)?{documents:fD(l,p)}:{query:dD(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=dw(l,c.resumeToken);const g=Yp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Se.min())>0){d.readTime=df(l,c.snapshotVersion.toTimestamp());const g=Yp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=pD(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Wp(this.serializer),t.removeTarget=e,this.q_(t)}}class rO extends Aw{constructor(e,t,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=hD(e.writeResults,e.commitTime),s=Qi(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Wp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>cD(this.serializer,s)))};this.q_(t)}}class sO{}class aO extends sO{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Qp(t,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(ee.UNKNOWN,l.toString())}))}Ho(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Qp(t,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class oO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ir(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wa="RemoteStore";class lO{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ia(this)&&(ce(wa,"Restarting streams for network reachability change."),await(async function(p){const g=xe(p);g.Ea.add(4),await $u(g),g.Ra.set("Unknown"),g.Ea.delete(4),await qf(g)})(this))}))})),this.Ra=new oO(s,a)}}async function qf(i){if(Ia(i))for(const e of i.da)await e(!0)}async function $u(i){for(const e of i.da)await e(!1)}function xw(i,e){const t=xe(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Qg(t)?Yg(t):Qo(t).O_()&&Kg(t,e))}function Gg(i,e){const t=xe(i),s=Qo(t);t.Ia.delete(e),s.O_()&&Rw(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ia(t)&&t.Ra.set("Unknown"))}function Kg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Qo(i).Y_(e)}function Rw(i,e){i.Va.Ue(e),Qo(i).Z_(e)}function Yg(i){i.Va=new nD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Qo(i).start(),i.Ra.ua()}function Qg(i){return Ia(i)&&!Qo(i).x_()&&i.Ia.size>0}function Ia(i){return xe(i).Ea.size===0}function Cw(i){i.Va=void 0}async function uO(i){i.Ra.set("Online")}async function cO(i){i.Ia.forEach(((e,t)=>{Kg(i,e)}))}async function hO(i,e){Cw(i),Qg(i)?(i.Ra.ha(e),Yg(i)):i.Ra.set("Unknown")}async function fO(i,e,t){if(i.Ra.set("Online"),e instanceof fw&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(i,e)}catch(s){ce(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await pf(i,s)}else if(e instanceof Yh?i.Va.Ze(e):e instanceof hw?i.Va.st(e):i.Va.tt(e),!t.isEqual(Se.min()))try{const s=await ww(i.localStore);t.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const _=l.Ia.get(p);if(!_)return;l.Ia.set(p,_.withResumeToken($t.EMPTY_BYTE_STRING,_.snapshotVersion)),Rw(l,p);const v=new ys(_.target,p,g,_.sequenceNumber);Kg(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(i,t)}catch(s){ce(wa,"Failed to raise snapshot:",s),await pf(i,s)}}async function pf(i,e,t){if(!Ko(e))throw e;i.Ea.add(1),await $u(i),i.Ra.set("Offline"),t||(t=()=>ww(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(wa,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await qf(i)}))}function Iw(i,e){return e().catch((t=>pf(i,t,e)))}async function Ff(i){const e=xe(i),t=Cs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Og;for(;dO(e);)try{const a=await YD(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,mO(e,a)}catch(a){await pf(e,a)}Nw(e)&&kw(e)}function dO(i){return Ia(i)&&i.Ta.length<10}function mO(i,e){i.Ta.push(e);const t=Cs(i);t.O_()&&t.X_&&t.ea(e.mutations)}function Nw(i){return Ia(i)&&!Cs(i).x_()&&i.Ta.length>0}function kw(i){Cs(i).start()}async function pO(i){Cs(i).ra()}async function gO(i){const e=Cs(i);for(const t of i.Ta)e.ea(t.mutations)}async function yO(i,e,t){const s=i.Ta.shift(),a=jg.from(s,e,t);await Iw(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await Ff(i)}async function _O(i,e){e&&Cs(i).X_&&await(async function(s,a){if((function(c){return Zk(c)&&c!==ee.ABORTED})(a.code)){const l=s.Ta.shift();Cs(s).B_(),await Iw(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Ff(s)}})(i,e),Nw(i)&&kw(i)}async function _b(i,e){const t=xe(i);t.asyncQueue.verifyOperationInProgress(),ce(wa,"RemoteStore received new credentials");const s=Ia(t);t.Ea.add(3),await $u(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await qf(t)}async function vO(i,e){const t=xe(i);e?(t.Ea.delete(2),await qf(t)):e||(t.Ea.add(2),await $u(t),t.Ra.set("Unknown"))}function Qo(i){return i.ma||(i.ma=(function(t,s,a){const l=xe(t);return l.sa(),new iO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Xo:uO.bind(null,i),t_:cO.bind(null,i),r_:hO.bind(null,i),H_:fO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Qg(i)?Yg(i):i.Ra.set("Unknown")):(await i.ma.stop(),Cw(i))}))),i.ma}function Cs(i){return i.fa||(i.fa=(function(t,s,a){const l=xe(t);return l.sa(),new rO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:pO.bind(null,i),r_:_O.bind(null,i),ta:gO.bind(null,i),na:yO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Ff(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(wa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Xg{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const c=Date.now()+s,d=new Xg(e,t,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wg(i,e){if(Ir("AsyncQueue",`${e}: ${i}`),Ko(i))return new le(ee.UNAVAILABLE,`${e}: ${i}`);throw i}class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=lu(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ko;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class vb{constructor(){this.ga=new mt(ye.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class jo{constructor(e,t,s,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new jo(e,t,ko.emptySet(t),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class EO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bO{constructor(){this.queries=Eb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=xe(t),l=a.queries;a.queries=Eb(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new le(ee.ABORTED,"Firestore shutting down"))}}function Eb(){return new Ca((i=>W1(i)),Vf)}async function Jg(i,e){const t=xe(i);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new EO,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Wg(c,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&ey(t)}async function Zg(i,e){const t=xe(i),s=e.query;let a=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function TO(i,e){const t=xe(i);let s=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&ey(t)}function wO(i,e,t){const s=xe(i),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);s.queries.delete(e)}function ey(i){i.Ca.forEach((e=>{e.next()}))}var eg,bb;(bb=eg||(eg={})).Ma="default",bb.Cache="cache";class ty{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eg.Cache}}class Dw{constructor(e){this.key=e}}class Ow{constructor(e){this.key=e}}class SO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=J1(e),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new vb,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,v)=>{const T=a.get(_),x=Uf(this.query,v)?v:null,k=!!T&&this.mutatedKeys.has(T.key),z=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let U=!1;T&&x?T.data.isEqual(x.data)?k!==z&&(s.track({type:3,doc:x}),U=!0):this.su(T,x)||(s.track({type:2,doc:x}),U=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(d=!0)):!T&&x?(s.track({type:0,doc:x}),U=!0):T&&!x&&(s.track({type:1,doc:T}),U=!0,(p||g)&&(d=!0)),U&&(x?(c=c.add(x),l=z?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,v)=>(function(x,k){const z=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:U})}};return z(x)-z(k)})(_.type,v.type)||this.eu(_.doc,v.doc))),this.ou(s),a=a??!1;const d=t&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new jo(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new Ow(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new Dw(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ny="SyncEngine";class AO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class xO{constructor(e){this.key=e,this.hu=!1}}class RO{constructor(e,t,s,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ca((d=>W1(d)),Vf),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ye.comparator),this.Au=new Map,this.Ru=new Hg,this.Vu={},this.mu=new Map,this.fu=Uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CO(i,e,t=!0){const s=jw(i);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Mw(s,e,t,!0),a}async function IO(i,e){const t=jw(i);await Mw(t,e,!0,!1)}async function Mw(i,e,t,s){const a=await QD(i.localStore,Yi(e)),l=a.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await NO(i,e,l,c==="current",a.resumeToken)),i.isPrimaryClient&&t&&xw(i.remoteStore,a),d}async function NO(i,e,t,s,a){i.pu=(v,T,x)=>(async function(z,U,Q,J){let ie=U.view.ru(Q);ie.Cs&&(ie=await db(z.localStore,U.query,!1).then((({documents:N})=>U.view.ru(N,ie))));const oe=J&&J.targetChanges.get(U.targetId),de=J&&J.targetMismatches.get(U.targetId)!=null,pe=U.view.applyChanges(ie,z.isPrimaryClient,oe,de);return wb(z,U.targetId,pe.au),pe.snapshot})(i,v,T,x);const l=await db(i.localStore,e,!0),c=new SO(e,l.Qs),d=c.ru(l.documents),p=Fu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",a),g=c.applyChanges(d,i.isPrimaryClient,p);wb(i,t,g.au);const _=new AO(e,t,c);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function kO(i,e,t){const s=xe(i),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Vf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Jp(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Gg(s.remoteStore,a.targetId),tg(s,a.targetId)})).catch(Go)):(tg(s,a.targetId),await Jp(s.localStore,a.targetId,!0))}async function DO(i,e){const t=xe(i),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Gg(t.remoteStore,s.targetId))}async function OO(i,e,t){const s=zO(i);try{const a=await(function(c,d){const p=xe(c),g=st.now(),_=d.reduce(((x,k)=>x.add(k.key)),Ue());let v,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let k=Nr(),z=Ue();return p.Ns.getEntries(x,_).next((U=>{k=U,k.forEach(((Q,J)=>{J.isValidDocument()||(z=z.add(Q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,k))).next((U=>{v=U;const Q=[];for(const J of d){const ie=Yk(J,v.get(J.key).overlayedDocument);ie!=null&&Q.push(new Ps(J.key,ie,q1(ie.value.mapValue),li.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,Q,d)})).next((U=>{T=U;const Q=U.applyToLocalDocumentSet(v,z);return p.documentOverlayCache.saveOverlays(x,U.batchId,Q)}))})).then((()=>({batchId:T.batchId,changes:ew(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new mt(Ve)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(s,a.batchId,t),await Gu(s,a.changes),await Ff(s.remoteStore)}catch(a){const l=Wg(a,"Failed to persist write");t.reject(l)}}async function Pw(i,e){const t=xe(i);try{const s=await GD(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ye(c.hu,14607):a.removedDocuments.size>0&&(Ye(c.hu,42227),c.hu=!1))})),await Gu(t,s,e)}catch(s){await Go(s)}}function Tb(i,e,t){const s=xe(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=xe(c);p.onlineState=d;let g=!1;p.queries.forEach(((_,v)=>{for(const T of v.Sa)T.va(d)&&(g=!0)})),g&&ey(p)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function MO(i,e,t){const s=xe(i);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new mt(ye.comparator);c=c.insert(l,nn.newNoDocument(l,Se.min()));const d=Ue().add(l),p=new Bf(Se.min(),new Map,new mt(Ve),c,d);await Pw(s,p),s.du=s.du.remove(l),s.Au.delete(e),iy(s)}else await Jp(s.localStore,e,!1).then((()=>tg(s,e,t))).catch(Go)}async function PO(i,e){const t=xe(i),s=e.batch.batchId;try{const a=await $D(t.localStore,e);Vw(t,s,null),Lw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Gu(t,a)}catch(a){await Go(a)}}async function LO(i,e,t){const s=xe(i);try{const a=await(function(c,d){const p=xe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((v=>(Ye(v!==null,37113),_=v.keys(),p.mutationQueue.removeMutationBatch(g,v)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);Vw(s,e,t),Lw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Gu(s,a)}catch(a){await Go(a)}}function Lw(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function Vw(i,e,t){const s=xe(i);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function tg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Uw(i,s)}))}function Uw(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Gg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),iy(i))}function wb(i,e,t){for(const s of t)s instanceof Dw?(i.Ru.addReference(s.key,e),VO(i,s)):s instanceof Ow?(ce(ny,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Uw(i,s.key)):be(19791,{wu:s})}function VO(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(ce(ny,"New document in limbo: "+t),i.Eu.add(s),iy(i))}function iy(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ye(rt.fromString(e)),s=i.fu.next();i.Au.set(s,new xO(t)),i.du=i.du.insert(t,s),xw(i.remoteStore,new ys(Yi(Lf(t.path)),s,"TargetPurposeLimboResolution",Of.ce))}}async function Gu(i,e,t){const s=xe(i),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){a.push(g);const _=Fg.As(p.targetId,g);l.push(_)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(p,g){const _=xe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ne.forEach(g,(T=>ne.forEach(T.Es,(x=>_.persistence.referenceDelegate.addReference(v,T.targetId,x))).next((()=>ne.forEach(T.ds,(x=>_.persistence.referenceDelegate.removeReference(v,T.targetId,x)))))))))}catch(v){if(!Ko(v))throw v;ce($g,"Failed to update sequence numbers: "+v)}for(const v of g){const T=v.targetId;if(!v.fromCache){const x=_.Ms.get(T),k=x.snapshotVersion,z=x.withLastLimboFreeSnapshotVersion(k);_.Ms=_.Ms.insert(T,z)}}})(s.localStore,l))}async function UO(i,e){const t=xe(i);if(!t.currentUser.isEqual(e)){ce(ny,"User change. New user:",e.toKey());const s=await Tw(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new le(ee.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Gu(t,s.Ls)}}function jO(i,e){const t=xe(i),s=t.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let a=Ue();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function jw(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MO.bind(null,e),e.Pu.H_=TO.bind(null,e.eventManager),e.Pu.yu=wO.bind(null,e.eventManager),e}function zO(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LO.bind(null,e),e}class gf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return FD(this.persistence,new BD,e.initialUser,this.serializer)}Cu(e){return new bw(qg.mi,this.serializer)}Du(e){return new WD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gf.provider={build:()=>new gf};class BO extends gf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ye(this.persistence.referenceDelegate instanceof mf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new xD(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new bw((s=>mf.mi(s,t)),this.serializer)}}class ng{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Tb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UO.bind(null,this.syncEngine),await vO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bO})()}createDatastore(e){const t=Hf(e.databaseInfo.databaseId),s=(function(l){return new nO(l)})(e.databaseInfo);return(function(l,c,d,p){return new aO(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,l,c,d){return new lO(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Tb(this.syncEngine,t,0)),(function(){return gb.v()?new gb:new JD})())}createSyncEngine(e,t){return(function(a,l,c,d,p,g,_){const v=new RO(a,l,c,d,p,g);return _&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=xe(t);ce(wa,"RemoteStore shutting down."),s.Ea.add(5),await $u(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ng.provider={build:()=>new ng};class ry{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Is="FirestoreClient";class HO{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=tn.UNAUTHENTICATED,this.clientId=kf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ce(Is,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ce(Is,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Wg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function bp(i,e){i.asyncQueue.verifyOperationInProgress(),ce(Is,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Tw(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Sb(i,e){i.asyncQueue.verifyOperationInProgress();const t=await qO(i);ce(Is,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>_b(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,a)=>_b(e.remoteStore,a))),i._onlineComponents=e}async function qO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(Is,"Using user provided OfflineComponentProvider");try{await bp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ee.FAILED_PRECONDITION||a.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Ta("Error using user provided cache. Falling back to memory cache: "+t),await bp(i,new gf)}}else ce(Is,"Using default OfflineComponentProvider"),await bp(i,new BO(void 0));return i._offlineComponents}async function zw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(Is,"Using user provided OnlineComponentProvider"),await Sb(i,i._uninitializedComponentsProvider._online)):(ce(Is,"Using default OnlineComponentProvider"),await Sb(i,new ng))),i._onlineComponents}function FO(i){return zw(i).then((e=>e.syncEngine))}async function yf(i){const e=await zw(i),t=e.eventManager;return t.onListen=CO.bind(null,e.syncEngine),t.onUnlisten=kO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=IO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=DO.bind(null,e.syncEngine),t}function $O(i,e,t={}){const s=new Sr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new ry({next:T=>{_.Nu(),c.enqueueAndForget((()=>Zg(l,v)));const x=T.docs.has(d);!x&&T.fromCache?g.reject(new le(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&p&&p.source==="server"?g.reject(new le(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new ty(Lf(d.path),_,{includeMetadataChanges:!0,qa:!0});return Jg(l,v)})(await yf(i),i.asyncQueue,e,t,s))),s.promise}function GO(i,e,t={}){const s=new Sr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new ry({next:T=>{_.Nu(),c.enqueueAndForget((()=>Zg(l,v))),T.fromCache&&p.source==="server"?g.reject(new le(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new ty(d,_,{includeMetadataChanges:!0,qa:!0});return Jg(l,v)})(await yf(i),i.asyncQueue,e,t,s))),s.promise}function Bw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const Ab=new Map;const Hw="firestore.googleapis.com",xb=!0;class Rb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hw,this.ssl=xb}else this.host=e.host,this.ssl=e.ssl??xb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ew;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SD)throw new le(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $f{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new N1;switch(s.type){case"firstParty":return new nk(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Ab.get(t);s&&(ce("ComponentProvider","Removing Datastore"),Ab.delete(t),s.terminate())})(this),Promise.resolve()}}function qw(i,e,t,s={}){i=vn(i,$f);const a=Ds(e),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},d=`${e}:${t}`;a&&(vg(`https://${d}`),Eg("Firestore",!0)),l.host!==Hw&&l.host!==d&&Ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:a,emulatorOptions:s};if(!ya(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=tn.MOCK_USER;else{g=LT(s.mockUserToken,i._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new le(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new tn(v)}i._authCredentials=new ZN(new I1(g,_))}}class Zi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class ft{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Hu(t,ft._jsonSchema))return new ft(e,s||null,new ye(rt.fromString(t.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:Pt("string",ft._jsonSchemaVersion),referencePath:Pt("string")};class Ar extends Zi{constructor(e,t,s){super(e,t,Lf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new ye(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function Ns(i,e,...t){if(i=ht(i),k1("collection","path",e),i instanceof $f){const s=rt.fromString(e,...t);return zE(s),new Ar(i,null,s)}{if(!(i instanceof ft||i instanceof Ar))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...t));return zE(s),new Ar(i.firestore,null,s)}}function Gf(i,e,...t){if(i=ht(i),arguments.length===1&&(e=kf.newId()),k1("doc","path",e),i instanceof $f){const s=rt.fromString(e,...t);return jE(s),new ft(i,null,new ye(s))}{if(!(i instanceof ft||i instanceof Ar))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...t));return jE(s),new ft(i.firestore,i instanceof Ar?i.converter:null,new ye(s))}}const Cb="AsyncQueue";class Ib{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sw(this,"async_queue_retry"),this._c=()=>{const s=Ep();s&&ce(Cb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Ep();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ep();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Sr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ko(e))throw e;ce(Cb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ir("INTERNAL UNHANDLED ERROR: ",Nb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Xg.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&be(47125,{Pc:Nb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Nb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function kb(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(i,["next","error","complete"])}class kr extends $f{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Ib,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ib(e),this._firestoreClient=void 0,await e}}}function Fw(i,e){const t=typeof i=="object"?i:wg(),s=typeof i=="string"?i:lf,a=Rf(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=OT("firestore");l&&qw(a,...l)}return a}function Ku(i){if(i._terminated)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||KO(i),i._firestoreClient}function KO(i){const e=i._freezeSettings(),t=(function(a,l,c,d){return new _k(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Bw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new HO(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(i._componentsProvider))}class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn($t.fromBase64String(e))}catch(t){throw new le(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hu(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Pt("string",Nn._jsonSchemaVersion),bytes:Pt("string")};class Yu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qu{constructor(e){this._methodName=e}}class ui{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ui._jsonSchemaVersion}}static fromJSON(e){if(Hu(e,ui._jsonSchema))return new ui(e.latitude,e.longitude)}}ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:Pt("string",ui._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class ci{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hu(e,ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ci(e.vectorValues);throw new le(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:Pt("string",ci._jsonSchemaVersion),vectorValues:Pt("object")};const YO=/^__.*__$/;class QO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new qu(e,this.data,t,this.fieldTransforms)}}class $w{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ps(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:i})}}class sy{constructor(e,t,s,a,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _f(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Gw(this.Ac)&&YO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Hf(e)}Cc(e,t,s,a=!1){return new sy({Ac:e,methodName:t,Dc:s,path:Ft.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kf(i){const e=i._freezeSettings(),t=Hf(i._databaseId);return new XO(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Kw(i,e,t,s,a,l={}){const c=i.Cc(l.merge||l.mergeFields?2:0,e,t,a);oy("Data must be an object, but it was:",c,s);const d=Yw(s,c);let p,g;if(l.merge)p=new kn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const v of l.mergeFields){const T=ig(e,v,t);if(!c.contains(T))throw new le(ee.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Xw(_,T)||_.push(T)}p=new kn(_),g=c.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,g=c.fieldTransforms;return new QO(new _n(d),p,g)}class Yf extends Qu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yf}}class ay extends Qu{_toFieldTransform(e){return new Fk(e.path,new Ru)}isEqual(e){return e instanceof ay}}function WO(i,e,t,s){const a=i.Cc(1,e,t);oy("Data must be an object, but it was:",a,s);const l=[],c=_n.empty();Ms(s,((p,g)=>{const _=ly(e,p,t);g=ht(g);const v=a.yc(_);if(g instanceof Yf)l.push(_);else{const T=Xu(g,v);T!=null&&(l.push(_),c.set(_,T))}}));const d=new kn(l);return new $w(c,d,a.fieldTransforms)}function JO(i,e,t,s,a,l){const c=i.Cc(1,e,t),d=[ig(e,s,t)],p=[a];if(l.length%2!=0)throw new le(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(ig(e,l[T])),p.push(l[T+1]);const g=[],_=_n.empty();for(let T=d.length-1;T>=0;--T)if(!Xw(g,d[T])){const x=d[T];let k=p[T];k=ht(k);const z=c.yc(x);if(k instanceof Yf)g.push(x);else{const U=Xu(k,z);U!=null&&(g.push(x),_.set(x,U))}}const v=new kn(g);return new $w(_,v,c.fieldTransforms)}function ZO(i,e,t,s=!1){return Xu(t,i.Cc(s?4:3,e))}function Xu(i,e){if(Qw(i=ht(i)))return oy("Unsupported field value:",e,i),Yw(i,e);if(i instanceof Qu)return(function(s,a){if(!Gw(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let p=Xu(d,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(i,e)}return(function(s,a){if((s=ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Bk(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=st.fromDate(s);return{timestampValue:df(a.serializer,l)}}if(s instanceof st){const l=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:df(a.serializer,l)}}if(s instanceof ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:dw(a.serializer,s._byteString)};if(s instanceof ft){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Bg(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ci)return(function(c,d){return{mapValue:{fields:{[B1]:{stringValue:H1},[uf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Ug(d.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Df(s)}`)})(i,e)}function Yw(i,e){const t={};return P1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(i,((s,a)=>{const l=Xu(a,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function Qw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof st||i instanceof ui||i instanceof Nn||i instanceof ft||i instanceof Qu||i instanceof ci)}function oy(i,e,t){if(!Qw(t)||!O1(t)){const s=Df(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function ig(i,e,t){if((e=ht(e))instanceof Yu)return e._internalPath;if(typeof e=="string")return ly(i,e);throw _f("Field path arguments must be of type string or ",i,!1,void 0,t)}const eM=new RegExp("[~\\*/\\[\\]]");function ly(i,e,t){if(e.search(eM)>=0)throw _f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Yu(...e.split("."))._internalPath}catch{throw _f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function _f(i,e,t,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new le(ee.INVALID_ARGUMENT,d+i+p)}function Xw(i,e){return i.some((t=>t.isEqual(e)))}class Ww{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tM extends Ww{data(){return super.data()}}function Qf(i,e){return typeof e=="string"?ly(i,e):e instanceof Yu?e._internalPath:e._delegate._internalPath}function Jw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uy{}class Xf extends uy{}function Nu(i,e,...t){let s=[];e instanceof uy&&s.push(e),s=s.concat(t),(function(l){const c=l.filter((p=>p instanceof Wf)).length,d=l.filter((p=>p instanceof Wu)).length;if(c>1||c>0&&d>0)throw new le(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)i=a._apply(i);return i}class Wu extends Xf{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Wu(e,t,s)}_apply(e){const t=this._parse(e);return Zw(e._query,t),new Zi(e.firestore,e.converter,Kp(e._query,t))}_parse(e){const t=Kf(e.firestore);return(function(l,c,d,p,g,_,v){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new le(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Ob(v,_);const k=[];for(const z of v)k.push(Db(p,l,z));T={arrayValue:{values:k}}}else T=Db(p,l,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Ob(v,_),T=ZO(d,c,v,_==="in"||_==="not-in");return Mt.create(g,_,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function cy(i,e,t){const s=e,a=Qf("where",i);return Wu._create(a,s,t)}class Wf extends uy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wf(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:mi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)Zw(c,p),c=Kp(c,p)})(e._query,t),new Zi(e.firestore,e.converter,Kp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jf extends Xf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Jf(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xu(l,c)})(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Yo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function ku(i,e="asc"){const t=e,s=Qf("orderBy",i);return Jf._create(s,t)}class Zf extends Xf{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Zf(e,t,s)}_apply(e){return new Zi(e.firestore,e.converter,hf(e._query,this._limit,this._limitType))}}function rg(i){return Zf._create("limit",i,"F")}function Db(i,e,t){if(typeof(t=ht(t))=="string"){if(t==="")throw new le(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!X1(e)&&t.indexOf("/")!==-1)throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(rt.fromString(t));if(!ye.isDocumentKey(s))throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return YE(i,new ye(s))}if(t instanceof ft)return YE(i,t._key);throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(t)}.`)}function Ob(i,e){if(!Array.isArray(i)||i.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zw(i,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(i.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class eS{convertValue(e,t="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ms(e,((a,l)=>{s[a]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[uf].arrayValue?.values?.map((s=>wt(s.doubleValue)));return new ci(t)}convertGeoPoint(e){return new ui(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Pf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const t=As(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=rt.fromString(e);Ye(vw(s),9688,{name:e});const a=new Po(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return a.isEqual(t)||Ir(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function tS(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Ro{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bs extends Ww{constructor(e,t,s,a,l,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Qf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=bs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",bs._jsonSchema={type:Pt("string",bs._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class gu extends bs{data(e={}){return super.data(e)}}class Ts{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ro(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new gu(this._firestore,this._userDataWriter,s.key,s,new Ro(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new gu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ro(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new gu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ro(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:nM(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ts._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:i})}}function nS(i){i=vn(i,ft);const e=vn(i.firestore,kr);return $O(Ku(e),i._key).then((t=>sS(e,i,t)))}Ts._jsonSchemaVersion="firestore/querySnapshot/1.0",Ts._jsonSchema={type:Pt("string",Ts._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class hy extends eS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,t)}}function iS(i){i=vn(i,Zi);const e=vn(i.firestore,kr),t=Ku(e),s=new hy(e);return Jw(i._query),GO(t,i._query).then((a=>new Ts(e,s,i,a)))}function iM(i,e,t){i=vn(i,ft);const s=vn(i.firestore,kr),a=tS(i.converter,e,t);return td(s,[Kw(Kf(s),"setDoc",i._key,a,i.converter!==null,t).toMutation(i._key,li.none())])}function rS(i,e,t,...s){i=vn(i,ft);const a=vn(i.firestore,kr),l=Kf(a);let c;return c=typeof(e=ht(e))=="string"||e instanceof Yu?JO(l,"updateDoc",i._key,e,t,s):WO(l,"updateDoc",i._key,e),td(a,[c.toMutation(i._key,li.exists(!0))])}function fy(i,e){const t=vn(i.firestore,kr),s=Gf(i),a=tS(i.converter,e);return td(t,[Kw(Kf(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,li.exists(!1))]).then((()=>s))}function ed(i,...e){i=ht(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||kb(e[s])||(t=e[s++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(kb(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,c,d;if(i instanceof ft)c=vn(i.firestore,kr),d=Lf(i._key.path),l={next:p=>{e[s]&&e[s](sS(c,i,p))},error:e[s+1],complete:e[s+2]};else{const p=vn(i,Zi);c=vn(p.firestore,kr),d=p._query;const g=new hy(c);l={next:_=>{e[s]&&e[s](new Ts(c,g,p,_))},error:e[s+1],complete:e[s+2]},Jw(i._query)}return(function(g,_,v,T){const x=new ry(T),k=new ty(_,x,v);return g.asyncQueue.enqueueAndForget((async()=>Jg(await yf(g),k))),()=>{x.Nu(),g.asyncQueue.enqueueAndForget((async()=>Zg(await yf(g),k)))}})(Ku(c),d,a,l)}function td(i,e){return(function(s,a){const l=new Sr;return s.asyncQueue.enqueueAndForget((async()=>OO(await FO(s),a,l))),l.promise})(Ku(i),e)}function sS(i,e,t){const s=t.docs.get(e._key),a=new hy(i);return new bs(i,a,e._key,s,new Ro(t.hasPendingWrites,t.fromCache),e.converter)}function vf(){return new ay("serverTimestamp")}(function(e,t=!0){(function(a){$o=a})(xa),_a(new ws("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new kr(new ek(s.getProvider("auth-internal")),new ik(c,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(g.options.projectId,_)})(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),$i(PE,LE,e),$i(PE,LE,"esm2020")})();const rM=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:eS,Bytes:Nn,CollectionReference:Ar,DocumentReference:ft,DocumentSnapshot:bs,FieldPath:Yu,FieldValue:Qu,Firestore:kr,FirestoreError:le,GeoPoint:ui,Query:Zi,QueryCompositeFilterConstraint:Wf,QueryConstraint:Xf,QueryDocumentSnapshot:gu,QueryFieldFilterConstraint:Wu,QueryLimitConstraint:Zf,QueryOrderByConstraint:Jf,QuerySnapshot:Ts,SnapshotMetadata:Ro,Timestamp:st,VectorValue:ci,_AutoId:kf,_ByteString:$t,_DatabaseId:Po,_DocumentKey:ye,_EmptyAuthCredentialsProvider:N1,_FieldPath:Ft,_cast:vn,_logWarn:Ta,_validateIsNotUsedTogether:D1,addDoc:fy,collection:Ns,connectFirestoreEmulator:qw,doc:Gf,ensureFirestoreConfigured:Ku,executeWrite:td,getDoc:nS,getDocs:iS,getFirestore:Fw,limit:rg,onSnapshot:ed,orderBy:ku,query:Nu,serverTimestamp:vf,setDoc:iM,updateDoc:rS,where:cy},Symbol.toStringTag,{value:"Module"}));const aS="firebasestorage.googleapis.com",oS="storageBucket",sM=120*1e3,aM=600*1e3;class _t extends Ji{constructor(e,t,s=0){super(Tp(e),`Firebase Storage: ${t} (${Tp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yt||(yt={}));function Tp(i){return"storage/"+i}function dy(){const i="An unknown error occurred, please check the error payload for server response.";return new _t(yt.UNKNOWN,i)}function oM(i){return new _t(yt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function lM(i){return new _t(yt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uM(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(yt.UNAUTHENTICATED,i)}function cM(){return new _t(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hM(i){return new _t(yt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function fM(){return new _t(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dM(){return new _t(yt.CANCELED,"User canceled the upload/download.")}function mM(i){return new _t(yt.INVALID_URL,"Invalid URL '"+i+"'.")}function pM(i){return new _t(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function gM(){return new _t(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oS+"' property when initializing the app?")}function yM(){return new _t(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _M(){return new _t(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vM(i){return new _t(yt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function sg(i){return new _t(yt.INVALID_ARGUMENT,i)}function lS(){return new _t(yt.APP_DELETED,"The Firebase app was deleted.")}function EM(i){return new _t(yt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yu(i,e){return new _t(yt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function iu(i){throw new _t(yt.INTERNAL_ERROR,"Internal error: "+i)}class Dn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Dn.makeFromUrl(e,t)}catch{return new Dn(e,"")}if(s.path==="")return s;throw pM(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function g(oe){oe.path_=decodeURIComponent(oe.path)}const _="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",x=new RegExp(`^https?://${v}/${_}/b/${a}/o${T}`,"i"),k={bucket:1,path:3},z=t===aS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",Q=new RegExp(`^https?://${z}/${a}/${U}`,"i"),ie=[{regex:d,indices:p,postModify:l},{regex:x,indices:k,postModify:g},{regex:Q,indices:{bucket:1,path:2},postModify:g}];for(let oe=0;oe<ie.length;oe++){const de=ie[oe],pe=de.regex.exec(e);if(pe){const N=pe[de.indices.bucket];let C=pe[de.indices.path];C||(C=""),s=new Dn(N,C),de.postModify(s);break}}if(s==null)throw mM(e);return s}}class bM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function TM(i,e,t){let s=1,a=null,l=null,c=!1,d=0;function p(){return d===2}let g=!1;function _(...U){g||(g=!0,e.apply(null,U))}function v(U){a=setTimeout(()=>{a=null,i(x,p())},U)}function T(){l&&clearTimeout(l)}function x(U,...Q){if(g){T();return}if(U){T(),_.call(null,U,...Q);return}if(p()||c){T(),_.call(null,U,...Q);return}s<64&&(s*=2);let ie;d===1?(d=2,ie=0):ie=(s+Math.random())*1e3,v(ie)}let k=!1;function z(U){k||(k=!0,T(),!g&&(a!==null?(U||(d=2),clearTimeout(a),v(0)):U||(d=1)))}return v(0),l=setTimeout(()=>{c=!0,z(!0)},t),z}function wM(i){i(!1)}function SM(i){return i!==void 0}function AM(i){return typeof i=="object"&&!Array.isArray(i)}function my(i){return typeof i=="string"||i instanceof String}function Mb(i){return py()&&i instanceof Blob}function py(){return typeof Blob<"u"}function Pb(i,e,t,s){if(s<e)throw sg(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw sg(`Invalid value for '${i}'. Expected ${t} or less.`)}function gy(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function uS(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const a=e(s)+"="+e(i[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var ga;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ga||(ga={}));function xM(i,e){const t=i>=500&&i<600,a=[408,429].indexOf(i)!==-1,l=e.indexOf(i)!==-1;return t||a||l}class RM{constructor(e,t,s,a,l,c,d,p,g,_,v,T=!0,x=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=v,this.retry=T,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,z)=>{this.resolve_=k,this.reject_=z,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Mh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===ga.NO_ERROR,p=l.getStatus();if(!d||xM(p,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===ga.ABORT;s(!1,new Mh(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Mh(g,l))})},t=(s,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());SM(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=dy();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(a.canceled){const p=this.appDelete_?lS():dM();c(p)}else{const p=fM();c(p)}};this.canceled_?t(!1,new Mh(!1,null,!0)):this.backoffId_=TM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function CM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function IM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function kM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function DM(i,e,t,s,a,l,c=!0,d=!1){const p=uS(i.urlParams),g=i.url+p,_=Object.assign({},i.headers);return NM(_,e),CM(_,t),IM(_,l),kM(_,s),new RM(g,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,a,c,d)}function OM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function MM(...i){const e=OM();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(py())return new Blob(i);throw new _t(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PM(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}function LM(i){if(typeof atob>"u")throw vM("base-64");return atob(i)}const oi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wp{constructor(e,t){this.data=e,this.contentType=t||null}}function cS(i,e){switch(i){case oi.RAW:return new wp(hS(e));case oi.BASE64:case oi.BASE64URL:return new wp(fS(i,e));case oi.DATA_URL:return new wp(UM(e),jM(e))}throw dy()}function hS(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=i.charCodeAt(++t);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function VM(i){let e;try{e=decodeURIComponent(i)}catch{throw yu(oi.DATA_URL,"Malformed data URL.")}return hS(e)}function fS(i,e){switch(i){case oi.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw yu(i,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case oi.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw yu(i,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=LM(e)}catch(a){throw a.message.includes("polyfill")?a:yu(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}class dS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw yu(oi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=zM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function UM(i){const e=new dS(i);return e.base64?fS(oi.BASE64,e.rest):VM(e.rest)}function jM(i){return new dS(i).contentType}function zM(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class gs{constructor(e,t){let s=0,a="";Mb(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(Mb(this.data_)){const s=this.data_,a=PM(s,e,t);return a===null?null:new gs(a)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new gs(s,!0)}}static getBlob(...e){if(py()){const t=e.map(s=>s instanceof gs?s.data_:s);return new gs(MM.apply(null,t))}else{const t=e.map(c=>my(c)?cS(oi.RAW,c).data:c.data_);let s=0;t.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new gs(a,!0)}}uploadData(){return this.data_}}function mS(i){let e;try{e=JSON.parse(i)}catch{return null}return AM(e)?e:null}function BM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function HM(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function pS(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function qM(i,e){return e}class ln{constructor(e,t,s,a){this.server=e,this.local=t||e,this.writable=!!s,this.xform=a||qM}}let Ph=null;function FM(i){return!my(i)||i.length<2?i:pS(i)}function gS(){if(Ph)return Ph;const i=[];i.push(new ln("bucket")),i.push(new ln("generation")),i.push(new ln("metageneration")),i.push(new ln("name","fullPath",!0));function e(l,c){return FM(c)}const t=new ln("name");t.xform=e,i.push(t);function s(l,c){return c!==void 0?Number(c):c}const a=new ln("size");return a.xform=s,i.push(a),i.push(new ln("timeCreated")),i.push(new ln("updated")),i.push(new ln("md5Hash",null,!0)),i.push(new ln("cacheControl",null,!0)),i.push(new ln("contentDisposition",null,!0)),i.push(new ln("contentEncoding",null,!0)),i.push(new ln("contentLanguage",null,!0)),i.push(new ln("contentType",null,!0)),i.push(new ln("metadata","customMetadata",!0)),Ph=i,Ph}function $M(i,e){function t(){const s=i.bucket,a=i.fullPath,l=new Dn(s,a);return e._makeStorageReference(l)}Object.defineProperty(i,"ref",{get:t})}function GM(i,e,t){const s={};s.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];s[c.local]=c.xform(s,e[c.server])}return $M(s,i),s}function yS(i,e,t){const s=mS(e);return s===null?null:GM(i,s,t)}function KM(i,e,t,s){const a=mS(e);if(a===null||!my(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const _=i.bucket,v=i.fullPath,T="/b/"+c(_)+"/o/"+c(v),x=gy(T,t,s),k=uS({alt:"media",token:g});return x+k})[0]}function YM(i,e){const t={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(t[l.server]=i[l.local])}return JSON.stringify(t)}class _S{constructor(e,t,s,a){this.url=e,this.method=t,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vS(i){if(!i)throw dy()}function QM(i,e){function t(s,a){const l=yS(i,a,e);return vS(l!==null),l}return t}function XM(i,e){function t(s,a){const l=yS(i,a,e);return vS(l!==null),KM(l,a,i.host,i._protocol)}return t}function ES(i){function e(t,s){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=cM():a=uM():t.getStatus()===402?a=lM(i.bucket):t.getStatus()===403?a=hM(i.path):a=s,a.status=t.getStatus(),a.serverResponse=s.serverResponse,a}return e}function WM(i){const e=ES(i);function t(s,a){let l=e(s,a);return s.getStatus()===404&&(l=oM(i.path)),l.serverResponse=a.serverResponse,l}return t}function JM(i,e,t){const s=e.fullServerUrl(),a=gy(s,i.host,i._protocol),l="GET",c=i.maxOperationRetryTime,d=new _S(a,l,XM(i,t),c);return d.errorHandler=WM(e),d}function ZM(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function e4(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=ZM(null,e)),s}function t4(i,e,t,s,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let ie="";for(let oe=0;oe<2;oe++)ie=ie+Math.random().toString().slice(2);return ie}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const g=e4(e,s,a),_=YM(g,t),v="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+p+"--",x=gs.getBlob(v,s,T);if(x===null)throw yM();const k={name:g.fullPath},z=gy(l,i.host,i._protocol),U="POST",Q=i.maxUploadRetryTime,J=new _S(z,U,QM(i,t),Q);return J.urlParams=k,J.headers=c,J.body=x.uploadData(),J.errorHandler=ES(e),J}class n4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ga.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ga.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ga.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,a,l){if(this.sent_)throw iu("cannot .send() more than once");if(Ds(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw iu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class i4 extends n4{initXhr(){this.xhr_.responseType="text"}}function bS(){return new i4}class Sa{constructor(e,t){this._service=e,t instanceof Dn?this._location=t:this._location=Dn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Sa(e,t)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pS(this._location.path)}get storage(){return this._service}get parent(){const e=BM(this._location.path);if(e===null)return null;const t=new Dn(this._location.bucket,e);return new Sa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw EM(e)}}function TS(i,e,t){i._throwIfRoot("uploadBytes");const s=t4(i.storage,i._location,gS(),new gs(e,!0),t);return i.storage.makeRequestWithTokens(s,bS).then(a=>({metadata:a,ref:i}))}function r4(i,e,t=oi.RAW,s){i._throwIfRoot("uploadString");const a=cS(t,e),l={...s};return l.contentType==null&&a.contentType!=null&&(l.contentType=a.contentType),TS(i,a.data,l)}function s4(i){i._throwIfRoot("getDownloadURL");const e=JM(i.storage,i._location,gS());return i.storage.makeRequestWithTokens(e,bS).then(t=>{if(t===null)throw _M();return t})}function a4(i,e){const t=HM(i._location.path,e),s=new Dn(i._location.bucket,t);return new Sa(i.storage,s)}function o4(i){return/^[A-Za-z]+:\/\//.test(i)}function l4(i,e){return new Sa(i,e)}function wS(i,e){if(i instanceof yy){const t=i;if(t._bucket==null)throw gM();const s=new Sa(t,t._bucket);return e!=null?wS(s,e):s}else return e!==void 0?a4(i,e):i}function u4(i,e){if(e&&o4(e)){if(i instanceof yy)return l4(i,e);throw sg("To use ref(service, url), the first argument must be a Storage instance.")}else return wS(i,e)}function Lb(i,e){const t=e?.[oS];return t==null?null:Dn.makeFromBucketSpec(t,i)}function c4(i,e,t,s={}){i.host=`${e}:${t}`;const a=Ds(e);a&&(vg(`https://${i.host}/b`),Eg("Storage",!0)),i._isUsingEmulator=!0,i._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(i._overrideAuthToken=typeof l=="string"?l:LT(l,i.app.options.projectId))}class yy{constructor(e,t,s,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=aS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sM,this._maxUploadRetryTime=aM,this._requests=new Set,a!=null?this._bucket=Dn.makeFromBucketSpec(a,this._host):this._bucket=Lb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=Lb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Pb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Pb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sa(this,e)}_makeRequest(e,t,s,a,l=!0){if(this._deleted)return new bM(lS());{const c=DM(e,this._appId,s,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const Vb="@firebase/storage",Ub="0.14.0";const SS="storage";function h4(i,e,t){return i=ht(i),TS(i,e,t)}function jb(i,e,t,s){return i=ht(i),r4(i,e,t,s)}function ag(i){return i=ht(i),s4(i)}function og(i,e){return i=ht(i),u4(i,e)}function f4(i=wg(),e){i=ht(i);const s=Rf(i,SS).getImmediate({identifier:e}),a=OT("storage");return a&&d4(s,...a),s}function d4(i,e,t,s={}){c4(i,e,t,s)}function m4(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),a=i.getProvider("app-check-internal");return new yy(t,s,a,e,xa)}function p4(){_a(new ws(SS,m4,"PUBLIC").setMultipleInstances(!0)),$i(Vb,Ub,""),$i(Vb,Ub,"esm2020")}p4();const g4={apiKey:"AIzaSyAukVlaxbs_YneslsBqTydefDhepXbookU",authDomain:"plantai0.firebaseapp.com",projectId:"plantai0",storageBucket:"plantai0.firebasestorage.app",messagingSenderId:"265722530392",appId:"1:265722530392:web:5e2b3aed63d2597b07d82d",measurementId:"G-LSJ7Q09VS0"},_y=jT(g4),zo=WN(_y),Xi=Fw(_y),lg=f4(_y);new vr;const AS=j.createContext();function Ls(){return j.useContext(AS)}function y4({children:i}){const[e,t]=j.useState(null),[s,a]=j.useState(!0);j.useEffect(()=>zI(zo,async p=>{if(p){let g={};try{const _=await nS(Gf(Xi,"users",p.uid));_.exists()&&(g=_.data())}catch(_){console.error("Error fetching user profile:",_)}t({...p,...g})}else t(null);a(!1)}),[]);const c={currentUser:e,loading:s,logout:async()=>{await zo.signOut(),t(null)}};return S.jsx(AS.Provider,{value:c,children:!s&&i})}const we=i=>typeof i=="string",ru=()=>{let i,e;const t=new Promise((s,a)=>{i=s,e=a});return t.resolve=i,t.reject=e,t},zb=i=>i==null?"":""+i,_4=(i,e,t)=>{i.forEach(s=>{e[s]&&(t[s]=e[s])})},v4=/###/g,Bb=i=>i&&i.indexOf("###")>-1?i.replace(v4,"."):i,Hb=i=>!i||we(i),_u=(i,e,t)=>{const s=we(e)?e.split("."):e;let a=0;for(;a<s.length-1;){if(Hb(i))return{};const l=Bb(s[a]);!i[l]&&t&&(i[l]=new t),Object.prototype.hasOwnProperty.call(i,l)?i=i[l]:i={},++a}return Hb(i)?{}:{obj:i,k:Bb(s[a])}},qb=(i,e,t)=>{const{obj:s,k:a}=_u(i,e,Object);if(s!==void 0||e.length===1){s[a]=t;return}let l=e[e.length-1],c=e.slice(0,e.length-1),d=_u(i,c,Object);for(;d.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),d=_u(i,c,Object),d?.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=t},E4=(i,e,t,s)=>{const{obj:a,k:l}=_u(i,e,Object);a[l]=a[l]||[],a[l].push(t)},Ef=(i,e)=>{const{obj:t,k:s}=_u(i,e);if(t&&Object.prototype.hasOwnProperty.call(t,s))return t[s]},b4=(i,e,t)=>{const s=Ef(i,t);return s!==void 0?s:Ef(e,t)},xS=(i,e,t)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in i?we(i[s])||i[s]instanceof String||we(e[s])||e[s]instanceof String?t&&(i[s]=e[s]):xS(i[s],e[s],t):i[s]=e[s]);return i},bo=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var T4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const w4=i=>we(i)?i.replace(/[&<>"'\/]/g,e=>T4[e]):i;class S4{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const A4=[" ",",","?","!",";"],x4=new S4(20),R4=(i,e,t)=>{e=e||"",t=t||"";const s=A4.filter(c=>e.indexOf(c)<0&&t.indexOf(c)<0);if(s.length===0)return!0;const a=x4.getRegExp(`(${s.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!a.test(i);if(!l){const c=i.indexOf(t);c>0&&!a.test(i.substring(0,c))&&(l=!0)}return l},ug=(i,e,t=".")=>{if(!i)return;if(i[e])return Object.prototype.hasOwnProperty.call(i,e)?i[e]:void 0;const s=e.split(t);let a=i;for(let l=0;l<s.length;){if(!a||typeof a!="object")return;let c,d="";for(let p=l;p<s.length;++p)if(p!==l&&(d+=t),d+=s[p],c=a[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&p<s.length-1)continue;l+=p-l+1;break}a=c}return a},Du=i=>i?.replace("_","-"),C4={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,e){console?.[i]?.apply?.(console,e)}};class bf{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||C4,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,a){return a&&!this.debug?null:(we(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new bf(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new bf(this.logger,e)}}var Fi=new bf;class nd{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const a=this.observers[s].get(t)||0;this.observers[s].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a.apply(a,[e,...t])})}}class Fb extends nd{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s,a={}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],s&&(Array.isArray(s)?d.push(...s):we(s)&&l?d.push(...s.split(l)):d.push(s)));const p=Ef(this.data,d);return!p&&!t&&!s&&e.indexOf(".")>-1&&(e=d[0],t=d[1],s=d.slice(2).join(".")),p||!c||!we(s)?p:ug(this.data?.[e]?.[t],s,l)}addResource(e,t,s,a,l={silent:!1}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,t];s&&(d=d.concat(c?s.split(c):s)),e.indexOf(".")>-1&&(d=e.split("."),a=t,t=d[1]),this.addNamespaces(t),qb(this.data,d,a),l.silent||this.emit("added",e,t,s,a)}addResources(e,t,s,a={silent:!1}){for(const l in s)(we(s[l])||Array.isArray(s[l]))&&this.addResource(e,t,l,s[l],{silent:!0});a.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,a,l,c={silent:!1,skipCopy:!1}){let d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),a=s,s=t,t=d[1]),this.addNamespaces(t);let p=Ef(this.data,d)||{};c.skipCopy||(s=JSON.parse(JSON.stringify(s))),a?xS(p,s,l):p={...p,...s},qb(this.data,d,p),c.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var RS={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,e,t,s,a){return i.forEach(l=>{e=this.processors[l]?.process(e,t,s,a)??e}),e}};const CS=Symbol("i18next/PATH_KEY");function I4(){const i=[],e=Object.create(null);let t;return e.get=(s,a)=>(t?.revoke?.(),a===CS?i:(i.push(a),t=Proxy.revocable(s,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function cg(i,e){const{[CS]:t}=i(I4());return t.join(e?.keySeparator??".")}const $b={},Sp=i=>!we(i)&&typeof i!="boolean"&&typeof i!="number";class Tf extends nd{constructor(e,t={}){super(),_4(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Fi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const s={...t};if(e==null)return!1;const a=this.resolve(e,s);if(a?.res===void 0)return!1;const l=Sp(a.res);return!(s.returnObjects===!1&&l)}extractFromKey(e,t){let s=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let l=t.ns||this.options.defaultNS||[];const c=s&&e.indexOf(s)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!R4(e,s,a);if(c&&!d){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:we(l)?[l]:l};const g=e.split(s);(s!==a||s===a&&this.options.ns.indexOf(g[0])>-1)&&(l=g.shift()),e=g.join(a)}return{key:e,namespaces:we(l)?[l]:l}}translate(e,t,s){let a=typeof t=="object"?{...t}:t;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=cg(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,c=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:d,namespaces:p}=this.extractFromKey(e[e.length-1],a),g=p[p.length-1];let _=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;_===void 0&&(_=":");const v=a.lng||this.language,T=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return T?l?{res:`${g}${_}${d}`,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:`${g}${_}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:d;const x=this.resolve(e,a);let k=x?.res;const z=x?.usedKey||d,U=x?.exactUsedKey||d,Q=["[object Number]","[object Function]","[object RegExp]"],J=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,ie=!this.i18nFormat||this.i18nFormat.handleAsObject,oe=a.count!==void 0&&!we(a.count),de=Tf.hasDefaultValue(a),pe=oe?this.pluralResolver.getSuffix(v,a.count,a):"",N=a.ordinal&&oe?this.pluralResolver.getSuffix(v,a.count,{ordinal:!1}):"",C=oe&&!a.ordinal&&a.count===0,R=C&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${pe}`]||a[`defaultValue${N}`]||a.defaultValue;let O=k;ie&&!k&&de&&(O=R);const D=Sp(O),V=Object.prototype.toString.apply(O);if(ie&&O&&D&&Q.indexOf(V)<0&&!(we(J)&&Array.isArray(O))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(z,O,{...a,ns:p}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(x.res=I,x.usedParams=this.getUsedParamsDetails(a),x):I}if(c){const I=Array.isArray(O),ge=I?[]:{},ze=I?U:z;for(const $ in O)if(Object.prototype.hasOwnProperty.call(O,$)){const re=`${ze}${c}${$}`;de&&!k?ge[$]=this.translate(re,{...a,defaultValue:Sp(R)?R[$]:void 0,joinArrays:!1,ns:p}):ge[$]=this.translate(re,{...a,joinArrays:!1,ns:p}),ge[$]===re&&(ge[$]=O[$])}k=ge}}else if(ie&&we(J)&&Array.isArray(k))k=k.join(J),k&&(k=this.extendTranslation(k,e,a,s));else{let I=!1,ge=!1;!this.isValidLookup(k)&&de&&(I=!0,k=R),this.isValidLookup(k)||(ge=!0,k=d);const $=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ge?void 0:k,re=de&&R!==k&&this.options.updateMissing;if(ge||I||re){if(this.logger.log(re?"updateKey":"missingKey",v,g,d,re?R:k),c){const P=this.resolve(d,{...a,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let fe=[];const ke=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ke&&ke[0])for(let P=0;P<ke.length;P++)fe.push(ke[P]);else this.options.saveMissingTo==="all"?fe=this.languageUtils.toResolveHierarchy(a.lng||this.language):fe.push(a.lng||this.language);const qe=(P,W,ae)=>{const ue=de&&ae!==k?ae:$;this.options.missingKeyHandler?this.options.missingKeyHandler(P,g,W,ue,re,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(P,g,W,ue,re,a),this.emit("missingKey",P,g,W,k)};this.options.saveMissing&&(this.options.saveMissingPlurals&&oe?fe.forEach(P=>{const W=this.pluralResolver.getSuffixes(P,a);C&&a[`defaultValue${this.options.pluralSeparator}zero`]&&W.indexOf(`${this.options.pluralSeparator}zero`)<0&&W.push(`${this.options.pluralSeparator}zero`),W.forEach(ae=>{qe([P],d+ae,a[`defaultValue${ae}`]||R)})}):qe(fe,d,R))}k=this.extendTranslation(k,e,a,x,s),ge&&k===d&&this.options.appendNamespaceToMissingKey&&(k=`${g}${_}${d}`),(ge||I)&&this.options.parseMissingKeyHandler&&(k=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${_}${d}`:d,I?k:void 0,a))}return l?(x.res=k,x.usedParams=this.getUsedParamsDetails(a),x):k}extendTranslation(e,t,s,a,l){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const p=we(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const v=e.match(this.interpolator.nestingRegexp);g=v&&v.length}let _=s.replace&&!we(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),e=this.interpolator.interpolate(e,_,s.lng||this.language||a.usedLng,s),p){const v=e.match(this.interpolator.nestingRegexp),T=v&&v.length;g<T&&(s.nest=!1)}!s.lng&&a&&a.res&&(s.lng=this.language||a.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>l?.[0]===v[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${t[0]}`),null):this.translate(...v,t),s)),s.interpolation&&this.interpolator.reset()}const c=s.postProcess||this.options.postProcess,d=we(c)?[c]:c;return e!=null&&d?.length&&s.applyPostProcessor!==!1&&(e=RS.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,t={}){let s,a,l,c,d;return we(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(s))return;const g=this.extractFromKey(p,t),_=g.key;a=_;let v=g.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const T=t.count!==void 0&&!we(t.count),x=T&&!t.ordinal&&t.count===0,k=t.context!==void 0&&(we(t.context)||typeof t.context=="number")&&t.context!=="",z=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);v.forEach(U=>{this.isValidLookup(s)||(d=U,!$b[`${z[0]}-${U}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&($b[`${z[0]}-${U}`]=!0,this.logger.warn(`key "${a}" for languages "${z.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),z.forEach(Q=>{if(this.isValidLookup(s))return;c=Q;const J=[_];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(J,_,Q,U,t);else{let oe;T&&(oe=this.pluralResolver.getSuffix(Q,t.count,t));const de=`${this.options.pluralSeparator}zero`,pe=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(T&&(t.ordinal&&oe.indexOf(pe)===0&&J.push(_+oe.replace(pe,this.options.pluralSeparator)),J.push(_+oe),x&&J.push(_+de)),k){const N=`${_}${this.options.contextSeparator||"_"}${t.context}`;J.push(N),T&&(t.ordinal&&oe.indexOf(pe)===0&&J.push(N+oe.replace(pe,this.options.pluralSeparator)),J.push(N+oe),x&&J.push(N+de))}}let ie;for(;ie=J.pop();)this.isValidLookup(s)||(l=ie,s=this.getResource(Q,U,ie,t))}))})}),{res:s,usedKey:a,exactUsedKey:l,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,s,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,s,a):this.resourceStore.getResource(e,t,s,a)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!we(e.replace);let a=s?e.replace:e;if(s&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!s){a={...a};for(const l of t)delete a[l]}return a}static hasDefaultValue(e){const t="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,t.length)&&e[s]!==void 0)return!0;return!1}}class Gb{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Fi.create("languageUtils")}getScriptPartFromCode(e){if(e=Du(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Du(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(we(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(s=>{if(t)return;const a=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(s=>{if(t)return;const a=this.getScriptPartFromCode(s);if(this.isSupportedCode(a))return t=a;const l=this.getLanguagePartFromCode(s);if(this.isSupportedCode(l))return t=l;t=this.options.supportedLngs.find(c=>{if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&(c.indexOf("-")>0&&l.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===l||c.indexOf(l)===0&&l.length>1))return c})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),we(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){const s=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),a=[],l=c=>{c&&(this.isSupportedCode(c)?a.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return we(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):we(e)&&l(this.formatLanguageCode(e)),s.forEach(c=>{a.indexOf(c)<0&&l(this.formatLanguageCode(c))}),a}}const Kb={zero:0,one:1,two:2,few:3,many:4,other:5},Yb={select:i=>i===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class N4{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Fi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const s=Du(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:s,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(s,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Yb;if(!e.match(/-|_/))return Yb;const p=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(p,t)}return this.pluralRulesCache[l]=c,c}needsPlural(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,s={}){return this.getSuffixes(e,s).map(a=>`${t}${a}`)}getSuffixes(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?s.resolvedOptions().pluralCategories.sort((a,l)=>Kb[a]-Kb[l]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,t,s={}){const a=this.getRule(e,s);return a?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,s))}}const Qb=(i,e,t,s=".",a=!0)=>{let l=b4(i,e,t);return!l&&a&&we(t)&&(l=ug(i,t,s),l===void 0&&(l=ug(e,t,s))),l},Ap=i=>i.replace(/\$/g,"$$$$");class Xb{constructor(e={}){this.logger=Fi.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:s,useRawValueToEscape:a,prefix:l,prefixEscaped:c,suffix:d,suffixEscaped:p,formatSeparator:g,unescapeSuffix:_,unescapePrefix:v,nestingPrefix:T,nestingPrefixEscaped:x,nestingSuffix:k,nestingSuffixEscaped:z,nestingOptionsSeparator:U,maxReplaces:Q,alwaysFormat:J}=e.interpolation;this.escape=t!==void 0?t:w4,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?bo(l):c||"{{",this.suffix=d?bo(d):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=_?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":_||"",this.nestingPrefix=T?bo(T):x||bo("$t("),this.nestingSuffix=k?bo(k):z||bo(")"),this.nestingOptionsSeparator=U||",",this.maxReplaces=Q||1e3,this.alwaysFormat=J!==void 0?J:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,s)=>t?.source===s?(t.lastIndex=0,t):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,s,a){let l,c,d;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=x=>{if(x.indexOf(this.formatSeparator)<0){const Q=Qb(t,p,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(Q,void 0,s,{...a,...t,interpolationkey:x}):Q}const k=x.split(this.formatSeparator),z=k.shift().trim(),U=k.join(this.formatSeparator).trim();return this.format(Qb(t,p,z,this.options.keySeparator,this.options.ignoreJSONStructure),U,s,{...a,...t,interpolationkey:z})};this.resetRegExp();const _=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>Ap(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?Ap(this.escape(x)):Ap(x)}].forEach(x=>{for(d=0;l=x.regex.exec(e);){const k=l[1].trim();if(c=g(k),c===void 0)if(typeof _=="function"){const U=_(e,l,a);c=we(U)?U:""}else if(a&&Object.prototype.hasOwnProperty.call(a,k))c="";else if(v){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${k} for interpolating ${e}`),c="";else!we(c)&&!this.useRawValueToEscape&&(c=zb(c));const z=x.safeValue(c);if(e=e.replace(l[0],z),v?(x.regex.lastIndex+=c.length,x.regex.lastIndex-=l[0].length):x.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t,s={}){let a,l,c;const d=(p,g)=>{const _=this.nestingOptionsSeparator;if(p.indexOf(_)<0)return p;const v=p.split(new RegExp(`${_}[ ]*{`));let T=`{${v[1]}`;p=v[0],T=this.interpolate(T,c);const x=T.match(/'/g),k=T.match(/"/g);((x?.length??0)%2===0&&!k||k.length%2!==0)&&(T=T.replace(/'/g,'"'));try{c=JSON.parse(T),g&&(c={...g,...c})}catch(z){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,z),`${p}${_}${T}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,p};for(;a=this.nestingRegexp.exec(e);){let p=[];c={...s},c=c.replace&&!we(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const g=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(g!==-1&&(p=a[1].slice(g).split(this.formatSeparator).map(_=>_.trim()).filter(Boolean),a[1]=a[1].slice(0,g)),l=t(d.call(this,a[1].trim(),c),c),l&&a[0]===e&&!we(l))return l;we(l)||(l=zb(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),p.length&&(l=p.reduce((_,v)=>this.format(_,v,s.lng,{...s,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const k4=i=>{let e=i.toLowerCase().trim();const t={};if(i.indexOf("(")>-1){const s=i.split("(");e=s[0].toLowerCase().trim();const a=s[1].substring(0,s[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(c=>{if(c){const[d,...p]=c.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),_=d.trim();t[_]||(t[_]=g),g==="false"&&(t[_]=!1),g==="true"&&(t[_]=!0),isNaN(g)||(t[_]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},Wb=i=>{const e={};return(t,s,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const c=s+JSON.stringify(l);let d=e[c];return d||(d=i(Du(s),a),e[c]=d),d(t)}},D4=i=>(e,t,s)=>i(Du(t),s)(e);class O4{constructor(e={}){this.logger=Fi.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const s=t.cacheInBuiltFormats?Wb:D4;this.formats={number:s((a,l)=>{const c=new Intl.NumberFormat(a,{...l});return d=>c.format(d)}),currency:s((a,l)=>{const c=new Intl.NumberFormat(a,{...l,style:"currency"});return d=>c.format(d)}),datetime:s((a,l)=>{const c=new Intl.DateTimeFormat(a,{...l});return d=>c.format(d)}),relativetime:s((a,l)=>{const c=new Intl.RelativeTimeFormat(a,{...l});return d=>c.format(d,l.range||"day")}),list:s((a,l)=>{const c=new Intl.ListFormat(a,{...l});return d=>c.format(d)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Wb(t)}format(e,t,s,a={}){const l=t.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(p=>p.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,p)=>{const{formatName:g,formatOptions:_}=k4(p);if(this.formats[g]){let v=d;try{const T=a?.formatParams?.[a.interpolationkey]||{},x=T.locale||T.lng||a.locale||a.lng||s;v=this.formats[g](d,x,{..._,...a,...T})}catch(T){this.logger.warn(T)}return v}else this.logger.warn(`there was no format function for ${g}`);return d},e)}}const M4=(i,e)=>{i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)};class P4 extends nd{constructor(e,t,s,a={}){super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=a,this.logger=Fi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,a.backend,a)}queueLoad(e,t,s,a){const l={},c={},d={},p={};return e.forEach(g=>{let _=!0;t.forEach(v=>{const T=`${g}|${v}`;!s.reload&&this.store.hasResourceBundle(g,v)?this.state[T]=2:this.state[T]<0||(this.state[T]===1?c[T]===void 0&&(c[T]=!0):(this.state[T]=1,_=!1,c[T]===void 0&&(c[T]=!0),l[T]===void 0&&(l[T]=!0),p[v]===void 0&&(p[v]=!0)))}),_||(d[g]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(p)}}loaded(e,t,s){const a=e.split("|"),l=a[0],c=a[1];t&&this.emit("failedLoading",l,c,t),!t&&s&&this.store.addResourceBundle(l,c,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&s&&(this.state[e]=0);const d={};this.queue.forEach(p=>{E4(p.loaded,[l],c),M4(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{d[g]||(d[g]={});const _=p.loaded[g];_.length&&_.forEach(v=>{d[g][v]===void 0&&(d[g][v]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(p=>!p.done)}read(e,t,s,a=0,l=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:s,tried:a,wait:l,callback:c});return}this.readingCalls++;const d=(g,_)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(g&&_&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,s,a+1,l*2,c)},l);return}c(g,_)},p=this.backend[s].bind(this.backend);if(p.length===2){try{const g=p(e,t);g&&typeof g.then=="function"?g.then(_=>d(null,_)).catch(d):d(null,g)}catch(g){d(g)}return}return p(e,t,d)}prepareLoading(e,t,s={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();we(e)&&(e=this.languageUtils.toResolveHierarchy(e)),we(t)&&(t=[t]);const l=this.queueLoad(e,t,s,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e,t=""){const s=e.split("|"),a=s[0],l=s[1];this.read(a,l,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${t}loading namespace ${l} for language ${a} failed`,c),!c&&d&&this.logger.log(`${t}loaded namespace ${l} for language ${a}`,d),this.loaded(e,c,d)})}saveMissing(e,t,s,a,l,c={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const p={...c,isUpdate:l},g=this.backend.create.bind(this.backend);if(g.length<6)try{let _;g.length===5?_=g(e,t,s,a,p):_=g(e,t,s,a),_&&typeof _.then=="function"?_.then(v=>d(null,v)).catch(d):d(null,_)}catch(_){d(_)}else g(e,t,s,a,d,p)}!e||!e[0]||this.store.addResource(e[0],t,s,a)}}}const Jb=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let e={};if(typeof i[1]=="object"&&(e=i[1]),we(i[1])&&(e.defaultValue=i[1]),we(i[2])&&(e.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const t=i[3]||i[2];Object.keys(t).forEach(s=>{e[s]=t[s]})}return e},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Zb=i=>(we(i.ns)&&(i.ns=[i.ns]),we(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),we(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs?.indexOf?.("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),typeof i.initImmediate=="boolean"&&(i.initAsync=i.initImmediate),i),Lh=()=>{},L4=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(t=>{typeof i[t]=="function"&&(i[t]=i[t].bind(i))})};class vu extends nd{constructor(e={},t){if(super(),this.options=Zb(e),this.services={},this.logger=Fi,this.modules={external:[]},L4(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(we(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=Jb();this.options={...s,...this.options,...Zb(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=s.overloadTranslationOptionHandler);const a=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Fi.init(a(this.modules.logger),this.options):Fi.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=O4;const _=new Gb(this.options);this.store=new Fb(this.options.resources,this.options);const v=this.services;v.logger=Fi,v.resourceStore=this.store,v.languageUtils=_,v.pluralResolver=new N4(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(v.formatter=a(g),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new Xb(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new P4(a(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(x,...k)=>{this.emit(x,...k)}),this.modules.languageDetector&&(v.languageDetector=a(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=a(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Tf(this.services,this.options),this.translator.on("*",(x,...k)=>{this.emit(x,...k)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Lh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(..._)=>this.store[g](..._)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(..._)=>(this.store[g](..._),this)});const d=ru(),p=()=>{const g=(_,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(v),t(_,v)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),d}loadResources(e,t=Lh){let s=t;const a=we(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(g=>{g!=="cimode"&&l.indexOf(g)<0&&l.push(g)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>c(p)),this.options.preload?.forEach?.(d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(d)})}else s(null)}reloadResources(e,t,s){const a=ru();return typeof e=="function"&&(s=e,e=void 0),typeof t=="function"&&(s=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),s||(s=Lh),this.services.backendConnector.reload(e,t,l=>{a.resolve(),s(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&RS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const s=this.languages[t];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const s=ru();this.emit("languageChanging",e);const a=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,p)=>{p?this.isLanguageChangingTo===e&&(a(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,s.resolve((...g)=>this.t(...g)),t&&t(d,(...g)=>this.t(...g))},c=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const p=we(d)?d:d&&d[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(we(d)?[d]:d);g&&(this.language||a(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,_=>{l(_,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),s}getFixedT(e,t,s){const a=(l,c,...d)=>{let p;typeof c!="object"?p=this.options.overloadTranslationOptionHandler([l,c].concat(d)):p={...c},p.lng=p.lng||a.lng,p.lngs=p.lngs||a.lngs,p.ns=p.ns||a.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||s||a.keyPrefix);const g=this.options.keySeparator||".";let _;return p.keyPrefix&&Array.isArray(l)?_=l.map(v=>(typeof v=="function"&&(v=cg(v,{...this.options,...c})),`${p.keyPrefix}${g}${v}`)):(typeof l=="function"&&(l=cg(l,{...this.options,...c})),_=p.keyPrefix?`${p.keyPrefix}${g}${l}`:l),this.t(_,p)};return we(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=s,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const c=(d,p)=>{const g=this.services.backendConnector.state[`${d}|${p}`];return g===-1||g===0||g===2};if(t.precheck){const d=t.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,e)&&(!a||c(l,e)))}loadNamespaces(e,t){const s=ru();return this.options.ns?(we(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{s.resolve(),t&&t(a)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){const s=ru();we(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(c=>a.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=a.concat(l),this.loadResources(c=>{s.resolve(),t&&t(c)}),s):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new Gb(Jb());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const s=new vu(e,t);return s.createInstance=vu.createInstance,s}cloneInstance(e={},t=Lh){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new vu(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},s){const d=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((_,v)=>(_[v]={...p[g][v]},_),p[g]),p),{});l.store=new Fb(d,a),l.services.resourceStore=l.store}return e.interpolation&&(l.services.interpolator=new Xb(a)),l.translator=new Tf(l.services,a),l.translator.on("*",(d,...p)=>{l.emit(d,...p)}),l.init(a,t),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const un=vu.createInstance();un.createInstance;un.dir;un.init;un.loadResources;un.reloadResources;un.use;un.changeLanguage;un.getFixedT;un.t;un.exists;un.setDefaultNamespace;un.hasLoadedNamespace;un.loadNamespaces;un.loadLanguages;const V4=(i,e,t,s)=>{const a=[t,{code:e,...s||{}}];if(i?.services?.logger?.forward)return i.services.logger.forward(a,"warn","react-i18next::",!0);Aa(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),i?.services?.logger?.warn?i.services.logger.warn(...a):console?.warn&&console.warn(...a)},eT={},IS=(i,e,t,s)=>{Aa(t)&&eT[t]||(Aa(t)&&(eT[t]=new Date),V4(i,e,t,s))},NS=(i,e)=>()=>{if(i.isInitialized)e();else{const t=()=>{setTimeout(()=>{i.off("initialized",t)},0),e()};i.on("initialized",t)}},hg=(i,e,t)=>{i.loadNamespaces(e,NS(i,t))},tT=(i,e,t,s)=>{if(Aa(t)&&(t=[t]),i.options.preload&&i.options.preload.indexOf(e)>-1)return hg(i,t,s);t.forEach(a=>{i.options.ns.indexOf(a)<0&&i.options.ns.push(a)}),i.loadLanguages(e,NS(i,s))},U4=(i,e,t={})=>!e.languages||!e.languages.length?(IS(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(i,{lng:t.lng,precheck:(s,a)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!a(s.isLanguageChangingTo,i))return!1}}),Aa=i=>typeof i=="string",j4=i=>typeof i=="object"&&i!==null,z4=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,B4={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},H4=i=>B4[i],q4=i=>i.replace(z4,H4);let fg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:q4,transDefaultProps:void 0};const F4=(i={})=>{fg={...fg,...i}},$4=()=>fg;let kS;const G4=i=>{kS=i},K4=()=>kS,Y4={type:"3rdParty",init(i){F4(i.options.react),G4(i)}},Q4=j.createContext();class X4{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var xp={exports:{}},Rp={};var nT;function W4(){if(nT)return Rp;nT=1;var i=wf();function e(v,T){return v===T&&(v!==0||1/v===1/T)||v!==v&&T!==T}var t=typeof Object.is=="function"?Object.is:e,s=i.useState,a=i.useEffect,l=i.useLayoutEffect,c=i.useDebugValue;function d(v,T){var x=T(),k=s({inst:{value:x,getSnapshot:T}}),z=k[0].inst,U=k[1];return l(function(){z.value=x,z.getSnapshot=T,p(z)&&U({inst:z})},[v,x,T]),a(function(){return p(z)&&U({inst:z}),v(function(){p(z)&&U({inst:z})})},[v]),c(x),x}function p(v){var T=v.getSnapshot;v=v.value;try{var x=T();return!t(v,x)}catch{return!0}}function g(v,T){return T()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return Rp.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:_,Rp}var iT;function J4(){return iT||(iT=1,xp.exports=W4()),xp.exports}var Z4=J4();const eP=(i,e)=>Aa(e)?e:j4(e)&&Aa(e.defaultValue)?e.defaultValue:Array.isArray(i)?i[i.length-1]:i,tP={t:eP,ready:!1},nP=()=>()=>{},Gn=(i,e={})=>{const{i18n:t}=e,{i18n:s,defaultNS:a}=j.useContext(Q4)||{},l=t||s||K4();l&&!l.reportNamespaces&&(l.reportNamespaces=new X4),l||IS(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const c=j.useMemo(()=>({...$4(),...l?.options?.react,...e}),[l,e]),{useSuspense:d,keyPrefix:p}=c,g=a||l?.options?.defaultNS,_=Aa(g)?[g]:g||["translation"],v=j.useMemo(()=>_,_);l?.reportNamespaces?.addUsedNamespaces?.(v);const T=j.useRef(0),x=j.useCallback(R=>{if(!l)return nP;const{bindI18n:O,bindI18nStore:D}=c,V=()=>{T.current+=1,R()};return O&&l.on(O,V),D&&l.store.on(D,V),()=>{O&&O.split(" ").forEach(I=>l.off(I,V)),D&&D.split(" ").forEach(I=>l.store.off(I,V))}},[l,c]),k=j.useRef(),z=j.useCallback(()=>{if(!l)return tP;const R=!!(l.isInitialized||l.initializedStoreOnce)&&v.every(ze=>U4(ze,l,c)),O=e.lng||l.language,D=T.current,V=k.current;if(V&&V.ready===R&&V.lng===O&&V.keyPrefix===p&&V.revision===D)return V;const ge={t:l.getFixedT(O,c.nsMode==="fallback"?v:v[0],p),ready:R,lng:O,keyPrefix:p,revision:D};return k.current=ge,ge},[l,v,p,c,e.lng]),[U,Q]=j.useState(0),{t:J,ready:ie}=Z4.useSyncExternalStore(x,z,z);j.useEffect(()=>{if(l&&!ie&&!d){const R=()=>Q(O=>O+1);e.lng?tT(l,e.lng,v,R):hg(l,v,R)}},[l,e.lng,v,ie,d,U]);const oe=l||{},de=j.useRef(null),pe=j.useRef(),N=R=>{const O=Object.getOwnPropertyDescriptors(R);O.__original&&delete O.__original;const D=Object.create(Object.getPrototypeOf(R),O);if(!Object.prototype.hasOwnProperty.call(D,"__original"))try{Object.defineProperty(D,"__original",{value:R,writable:!1,enumerable:!1,configurable:!1})}catch{}return D},C=j.useMemo(()=>{const R=oe,O=R?.language;let D=R;R&&(de.current&&de.current.__original===R?pe.current!==O?(D=N(R),de.current=D,pe.current=O):D=de.current:(D=N(R),de.current=D,pe.current=O));const V=[J,D,ie];return V.t=J,V.i18n=D,V.ready=ie,V},[J,oe,ie,oe.resolvedLanguage,oe.language,oe.languages]);if(l&&d&&!ie)throw new Promise(R=>{const O=()=>R();e.lng?tT(l,e.lng,v,O):hg(l,v,O)});return C},iP="Plant AI",rP="Welcome to Plant AI",sP="Plant Diagnosis",aP="Community",oP="Profile",lP="Login",uP="Messages",cP="Language",hP="Logout",fP="Dark Mode",dP="Light Mode",mP="My Analyses",pP="Register",gP="Upload Photo",yP="Take Photo",_P="Analyzing...",vP="Diagnosis Results",EP="Treatment",bP="Confidence",TP="Save Changes",wP="Saving...",SP="Display Name",AP="Email",xP="Tap to change avatar",RP="Profile updated successfully!",CP="About Project",IP="Do you know the name of this plant?",NP="e.g., Rose, Tomato, Unknown...",kP="1. Plant Name",DP="2. Capture Photo",OP="Next",MP="I don't know",PP="I couldn't identify it clearly. Please take a close-up photo of a leaf.",LP="Take Close-up Photo",VP="Login to view detailed diagnosis and treatment plan.",UP="Login to View Results",jP="Detailed analysis is available for members only.",zP="AI Powered Plant Doctor",BP='Heal Your Plants with <span class="text-green-600">Artificial Intelligence</span>',HP="Take a photo, diagnose diseases instantly, and get expert treatment advice. Join thousands of happy farmers.",qP="Start Diagnosis",FP="Identify",$P="Tell us the plant name or type.",GP="Analyze",KP="Upload photos of the affected area.",YP="Heal",QP="Get instant treatment plan.",XP="Welcome, ",WP="Diagnosis failed. Please try again.",JP="Back",ZP={app_name:iP,welcome:rP,plant_diagnosis:sP,community:aP,profile:oP,login:lP,messages:uP,language:cP,logout:hP,dark_mode:fP,light_mode:dP,analyses:mP,register:pP,upload_photo:gP,take_photo:yP,analyzing:_P,results:vP,treatment:EP,confidence:bP,save_changes:TP,saving:wP,display_name:SP,email:AP,change_avatar:xP,profile_updated:RP,about:CP,what_plant_question:IP,what_plant_placeholder:NP,scan_step_1:kP,scan_step_2:DP,next_step:OP,skip:MP,need_macro_photo:PP,take_macro_photo:LP,login_blur_text:VP,login_to_view:UP,guest_limited:jP,hero_badge:zP,hero_title:BP,hero_desc:HP,start_diagnosis:qP,step_1_title:FP,step_1_desc:$P,step_2_title:GP,step_2_desc:KP,step_3_title:YP,step_3_desc:QP,welcome_user:XP,error_diagnosis_failed:WP,back:JP},eL="Bitki AI",tL="Bitki AI'ye Hogeldiniz",nL="Bitki Tehisi",iL="Topluluk",rL="Profil",sL="Giri Yap",aL="Mesajlar",oL="Dil",lL="k Yap",uL="Koyu Tema",cL="Aydnlk Tema",hL="Analizlerim",fL="Kayt Ol",dL="Fotoraf Ykle",mL="Fotoraf ek",pL="Analiz ediliyor...",gL="Tehis Sonular",yL="Tedavi",_L="Gven Oran",vL="Deiiklikleri Kaydet",EL="Kaydediliyor...",bL="Grnen sim",TL="E-posta",wL="Fotoraf deitirmek iin dokunun",SL="Profil baaryla gncellendi!",AL="Proje Hakknda",xL="Bu bitkinin adn biliyor musunuz?",RL="rn. Gl, Domates, Bilmiyorum...",CL="1. Bitki Ad",IL="2. Fotoraf ek",NL="Devam Et",kL="Bilmiyorum",DL="Tam olarak tehis edemedim. Ltfen bir yapran yakndan fotorafn ekin.",OL="Yakndan ek",ML="Detayl tehis ve tedavi plann grmek iin giri yapn.",PL="Sonucu Grmek in Giri Yap",LL="Detayl analiz sadece yelere zeldir.",VL="Yapay Zeka Destekli Bitki Doktoru",UL='Bitkilerinizi <span class="text-green-600">Yapay Zeka</span> ile yiletirin',jL="Fotoraf ekin, hastalklar annda tehis edin ve uzman tedavi nerileri aln. Binlerce mutlu iftiye katln.",zL="Tehise Bala",BL="Tanmla",HL="Bitkinin adn veya trn belirtin.",qL="Analiz Et",FL="Etkilenen blgenin fotorafn ykleyin.",$L="yiletir",GL="Annda tedavi planna kavuun.",KL="Hogeldin, ",YL="Tehis baarsz oldu. Ltfen tekrar deneyin.",QL="Geri",XL={app_name:eL,welcome:tL,plant_diagnosis:nL,community:iL,profile:rL,login:sL,messages:aL,language:oL,logout:lL,dark_mode:uL,light_mode:cL,analyses:hL,register:fL,upload_photo:dL,take_photo:mL,analyzing:pL,results:gL,treatment:yL,confidence:_L,save_changes:vL,saving:EL,display_name:bL,email:TL,change_avatar:wL,profile_updated:SL,about:AL,what_plant_question:xL,what_plant_placeholder:RL,scan_step_1:CL,scan_step_2:IL,next_step:NL,skip:kL,need_macro_photo:DL,take_macro_photo:OL,login_blur_text:ML,login_to_view:PL,guest_limited:LL,hero_badge:VL,hero_title:UL,hero_desc:jL,start_diagnosis:zL,step_1_title:BL,step_1_desc:HL,step_2_title:qL,step_2_desc:FL,step_3_title:$L,step_3_desc:GL,welcome_user:KL,error_diagnosis_failed:YL,back:QL};un.use(Y4).init({resources:{en:{translation:ZP},tr:{translation:XL}},lng:"tr",fallbackLng:"en",interpolation:{escapeValue:!1}});const WL=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JL=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),rT=i=>{const e=JL(i);return e.charAt(0).toUpperCase()+e.slice(1)},DS=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),ZL=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var eV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tV=j.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},p)=>j.createElement("svg",{ref:p,...eV,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:DS("lucide",a),...!l&&!ZL(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,_])=>j.createElement(g,_)),...Array.isArray(l)?l:[l]]));const nt=(i,e)=>{const t=j.forwardRef(({className:s,...a},l)=>j.createElement(tV,{ref:l,iconNode:e,className:DS(`lucide-${WL(rT(i))}`,`lucide-${i}`,s),...a}));return t.displayName=rT(i),t};const nV=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],iV=nt("activity",nV);const rV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sV=nt("arrow-left",rV);const aV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vy=nt("arrow-right",aV);const oV=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Qh=nt("camera",oV);const lV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uV=nt("circle-alert",lV);const cV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hV=nt("circle-check-big",cV);const fV=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dg=nt("clock",fV);const dV=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],mV=nt("ellipsis",dV);const pV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],sT=nt("globe",pV);const gV=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],OS=nt("heart",gV);const yV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],_V=nt("house",yV);const vV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],EV=nt("info",vV);const bV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],id=nt("loader-circle",bV);const TV=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],aT=nt("log-in",TV);const wV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],SV=nt("log-out",wV);const AV=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],MS=nt("message-circle",AV);const xV=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],RV=nt("moon",xV);const CV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],IV=nt("save",CV);const NV=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],Cp=nt("scan-line",NV);const kV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],DV=nt("send",kV);const OV=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],MV=nt("share-2",OV);const PV=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],hi=nt("sprout",PV);const LV=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],VV=nt("sun",LV);const UV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],oT=nt("target",UV);const jV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zV=nt("triangle-alert",jV);const BV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],HV=nt("user-plus",BV);const qV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PS=nt("user",qV);const FV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$V=nt("users",FV);function GV(){const{currentUser:i,logout:e}=Ls(),{t,i18n:s}=Gn(),a=yi(),l=()=>{s.changeLanguage(s.language==="en"?"tr":"en")},[c,d]=j.useState(localStorage.getItem("theme")||"light");j.useEffect(()=>{c==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",c)},[c]);const p=()=>{d(v=>v==="dark"?"light":"dark")},_=[{path:"/",icon:_V,label:t("app_name"),public:!0},{path:"/community",icon:$V,label:t("community"),public:!0},{path:"/analyses",icon:dg,label:t("analyses"),public:!1},{path:"/messages",icon:MS,label:t("messages"),public:!1},{path:"/profile",icon:PS,label:t("profile"),public:!1},{path:"/about",icon:EV,label:t("about"),public:!0}].filter(v=>v.public||i);return S.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-sans overflow-hidden",children:[S.jsxs("aside",{className:"hidden md:flex flex-col w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300",children:[S.jsxs("div",{className:"p-6 flex items-center gap-2",children:[S.jsx(hi,{className:"w-8 h-8 text-green-600"}),S.jsx("h1",{className:"text-2xl font-bold tracking-tight text-green-700 dark:text-green-500",children:"PlantAI"})]}),S.jsx("nav",{className:"flex-1 px-4 space-y-2",children:_.map(v=>{const T=v.icon,x=a.pathname===v.path;return S.jsxs(qi,{to:v.path,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${x?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 font-semibold shadow-sm":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50"}`,children:[S.jsx(T,{className:"w-5 h-5"}),S.jsx("span",{children:v.label})]},v.path)})}),S.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[S.jsxs("button",{onClick:l,className:"flex items-center gap-3 w-full px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-xl transition-colors",children:[S.jsx("span",{className:"font-bold border border-gray-300 dark:border-gray-600 rounded px-1 text-xs",children:s.language.toUpperCase()}),S.jsx("span",{children:t("language")||"Language"})]}),S.jsxs("button",{onClick:p,className:"flex items-center gap-3 w-full px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-xl transition-colors",children:[c==="dark"?S.jsx(VV,{className:"w-5 h-5"}):S.jsx(RV,{className:"w-5 h-5"}),S.jsx("span",{children:t(c==="dark"?"light_mode":"dark_mode")})]}),i?S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsxs("div",{className:"px-2 py-1",children:[S.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase font-bold",children:t("welcome_user")}),S.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:i.displayName||i.email})]}),S.jsxs("button",{onClick:async()=>{await e(),window.location.href="/login"},className:"flex items-center gap-3 w-full px-4 py-3 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 shadow-sm",children:[S.jsx(SV,{className:"w-5 h-5"}),S.jsx("span",{children:t("logout")})]})]}):S.jsxs(qi,{to:"/login",className:"flex items-center gap-3 w-full px-4 py-3 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-xl transition-colors font-semibold",children:[S.jsx(aT,{className:"w-5 h-5"}),S.jsx("span",{children:t("login")})]})]})]}),S.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden relative",children:[S.jsxs("header",{className:"md:hidden bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex items-center justify-between sticky top-0 z-10",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(hi,{className:"w-6 h-6 text-green-600"}),S.jsx("span",{className:"font-bold text-lg text-green-700 dark:text-green-500",children:"PlantAI"})]}),S.jsx("button",{onClick:l,className:"text-sm font-bold bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-lg",children:s.language.toUpperCase()})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-24 md:pb-8 scroll-smooth",children:S.jsx("div",{className:"w-full h-full flex flex-col",children:S.jsx(ER,{})})}),S.jsxs("nav",{className:"md:hidden absolute bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex justify-around p-2 z-50 safe-area-bottom",children:[_.map(v=>{const T=v.icon,x=a.pathname===v.path;return S.jsxs(qi,{to:v.path,className:`flex flex-col items-center justify-center p-2 rounded-lg ${x?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:[S.jsx(T,{className:`w-6 h-6 ${x?"fill-current":""}`}),S.jsx("span",{className:"text-xs mt-1 font-medium",children:v.label})]},v.path)}),!i&&S.jsxs(qi,{to:"/login",className:"flex flex-col items-center justify-center p-2 text-gray-500",children:[S.jsx(aT,{className:"w-6 h-6"}),S.jsx("span",{className:"text-xs mt-1 font-medium",children:t("login")})]})]})]})]})}function KV(){const[i,e]=j.useState(""),[t,s]=j.useState(""),[a,l]=j.useState(""),[c,d]=j.useState(!1),p=qo(),g=yi(),{t:_}=Gn(),{currentUser:v}=Ls();if(v)return p(g.state?.returnUrl||"/"),null;const T=async x=>{x.preventDefault(),l(""),d(!0);try{await LI(zo,i,t),g.state?.returnUrl&&g.state?.pendingResult?p(g.state.returnUrl,{state:{restoredResult:g.state.pendingResult,restoredImages:g.state.pendingImages,restoredPlantType:g.state.pendingPlantType}}):p("/")}catch(k){l("Failed to login. Please check your credentials."),console.error(k)}finally{d(!1)}};return S.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:S.jsx("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden",children:S.jsxs("div",{className:"p-8",children:[S.jsx("div",{className:"flex justify-center mb-6",children:S.jsx("div",{className:"bg-green-600 w-full mb-8 p-6 rounded-2xl flex items-center justify-center shadow-lg",children:S.jsx(hi,{className:"w-16 h-16 text-white"})})}),S.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 dark:text-white mb-2",children:_("welcome")}),S.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mb-8",children:_("login_prompt")}),a&&S.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-200 text-red-700 rounded-lg text-sm",children:a}),S.jsxs("form",{onSubmit:T,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),S.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition-all",value:i,onChange:x=>e(x.target.value)})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),S.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition-all",value:t,onChange:x=>s(x.target.value)})]}),S.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c?"Logging in...":_("login"),!c&&S.jsx(vy,{className:"w-4 h-4"})]})]}),S.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",S.jsx(qi,{to:"/register",className:"text-green-600 hover:text-green-700 font-semibold hover:underline",children:_("register")})]})]})})})}function YV(){const[i,e]=j.useState(""),[t,s]=j.useState(""),[a,l]=j.useState(""),[c,d]=j.useState(""),[p,g]=j.useState(!1),_=qo(),v=yi(),{t:T}=Gn(),x=async k=>{k.preventDefault(),d(""),g(!0);try{const z=await PI(zo,i,t);await jp(z.user,{displayName:a}),v.state?.returnUrl&&v.state?.pendingResult?_(v.state.returnUrl,{state:{restoredResult:v.state.pendingResult}}):_("/")}catch(z){d(z.message),console.error(z)}finally{g(!1)}};return S.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:S.jsx("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden",children:S.jsxs("div",{className:"p-8",children:[S.jsx("div",{className:"flex justify-center mb-6",children:S.jsx("div",{className:"bg-green-600 w-full mb-8 p-6 rounded-2xl flex items-center justify-center shadow-lg",children:S.jsx(hi,{className:"w-16 h-16 text-white"})})}),S.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 dark:text-white mb-2",children:T("register")}),S.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mb-8",children:"Create an account to join the community"}),c&&S.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-200 text-red-700 rounded-lg text-sm",children:c}),S.jsxs("form",{onSubmit:x,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),S.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition-all",value:a,onChange:k=>l(k.target.value)})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),S.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition-all",value:i,onChange:k=>e(k.target.value)})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),S.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition-all",value:t,onChange:k=>s(k.target.value)})]}),S.jsxs("button",{type:"submit",disabled:p,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[p?"Creating Account...":T("register"),!p&&S.jsx(HV,{className:"w-4 h-4"})]})]}),S.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",S.jsx(qi,{to:"/login",className:"text-green-600 hover:text-green-700 font-semibold hover:underline",children:T("login")})]})]})})})}const LS="AIzaSyAvs2v0QuOfrwMzI9-3i5BBsCpkGuyX5b0",QV="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key="+LS;async function XV(i,e="tr",t=null){const s=Array.isArray(i)?i:[i];let a="";t&&t.trim().length>0&&(a=`The user identifies this plant as "${t}". Use this as context but verify visually.`);const c=[{text:`
    You are an expert Phytopathologist. Analyze the provided plant image(s).
    ${a}
    OUTPUT MUST BE IN ${e==="en"?"ENGLISH":"TURKISH"}.

    PROTOCOL:
    1. If the image is not a plant, return {"status": "error", "error": "NOT_PLANT"}
    2. If the ailment is unclear, the image is blurry, or you need a closer look (macro shot) to be at least 70% confident, return:
       {"status": "needs_details", "message": "Please take a closer photo of the affected leaf or area."}
    3. If confident, return a valid JSON object:
    {
        "status": "success",
        "disease_name": "Disease Name",
        "latin_name": "Latin Name",
        "confidence": 90,
        "urgency": 50,
        "spread_risk": 40,
        "description": "Short description (max 2 sentences).",
        "treatment_steps": ["Step 1", "Step 2", "Step 3"]
    }
    
    Return ONLY valid raw JSON (no markdown, no backticks).
  `}];s.forEach(p=>{if(!p)return;const g=p.includes(",")?p.split(",")[1]:p;c.push({inline_data:{mime_type:"image/jpeg",data:g}})});const d={contents:[{parts:c}],safetySettings:[{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_LOW_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]};try{const g=await(await fetch(`${QV}?key=${LS}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).json();if(g.error)throw new Error(g.error.message||"API Connection Error");if(!g.candidates||!g.candidates[0].content)throw new Error("No response from AI.");const _=g.candidates[0].content.parts[0].text,v=_.replace(/```json/g,"").replace(/```/g,"").trim();try{return JSON.parse(v)}catch{throw console.error("JSON Parse Error:",_),new Error("Invalid response format from AI")}}catch(p){throw console.error("Gemini Analysis Error:",p),p}}const VS="analyses";async function lT(i,e,t,s,a=!1){try{let l=null;if(t.main){const p=og(lg,`analyses/${i}/${Date.now()}_main.jpg`);await jb(p,t.main,"data_url"),l=await ag(p)}let c=null;if(t.macro){const p=og(lg,`analyses/${i}/${Date.now()}_macro.jpg`);await jb(p,t.macro,"data_url"),c=await ag(p)}return(await fy(Ns(Xi,VS),{userId:i,plantType:e,mainImage:l,macroImage:c,result:s,isPublic:a,status:"active",createdAt:vf(),nextCheckup:new Date(Date.now()+10080*60*1e3)})).id}catch(l){throw console.error("Error saving analysis:",l),l}}async function WV(i){try{const e=Nu(Ns(Xi,VS),cy("userId","==",i),ku("createdAt","desc"));return(await iS(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){return console.error("Error fetching analyses:",e),[]}}function JV({result:i,onReset:e}){const{t}=Gn();return i?i.error==="NOT_PLANT"?S.jsxs("div",{className:"w-full max-w-2xl bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden p-8 text-center",children:[S.jsx("div",{className:"mx-auto bg-red-100 dark:bg-red-900/30 w-16 h-16 rounded-full flex items-center justify-center mb-4",children:S.jsx(zV,{className:"w-8 h-8 text-red-600 dark:text-red-500"})}),S.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Could not identify plant"}),S.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Please ensure the photo contains a clear view of a plant leaf or stem."}),S.jsx("button",{onClick:e,className:"bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 px-6 py-3 rounded-xl font-medium transition-colors",children:"Try Again"})]}):S.jsxs("div",{className:"w-full max-w-3xl bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden animate-fade-in",children:[S.jsx("div",{className:"bg-green-600 text-white p-6",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-bold",children:i.disease_name}),S.jsx("p",{className:"opacity-90 italic text-lg",children:i.latin_name})]}),S.jsxs("div",{className:"flex flex-col items-end",children:[S.jsxs("div",{className:"text-2xl font-bold",children:[i.confidence,"%"]}),S.jsx("div",{className:"text-xs uppercase opacity-75",children:t("confidence")})]})]})}),S.jsxs("div",{className:"p-6 space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[S.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/10 p-4 rounded-xl border border-orange-100 dark:border-orange-900/20",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-1 text-orange-700 dark:text-orange-500 font-semibold",children:[S.jsx(iV,{className:"w-5 h-5"}),S.jsx("span",{children:"Urgency"})]}),S.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:S.jsx("div",{className:"bg-orange-600 h-2.5 rounded-full",style:{width:`${i.urgency}%`}})})]}),S.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-900/20",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-1 text-blue-700 dark:text-blue-500 font-semibold",children:[S.jsx(hi,{className:"w-5 h-5"}),S.jsx("span",{children:"Spread Risk"})]}),S.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:S.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${i.spread_risk}%`}})})]})]}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Description"}),S.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:i.description})]}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:t("treatment")}),S.jsx("ul",{className:"space-y-3",children:i.treatment_steps?.map((s,a)=>S.jsxs("li",{className:"flex gap-3",children:[S.jsx(hV,{className:"w-6 h-6 text-green-600 dark:text-green-500 flex-shrink-0"}),S.jsx("span",{className:"text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg flex-1",children:s})]},a))})]}),S.jsx("div",{className:"pt-4 flex gap-4",children:S.jsx("button",{onClick:e,className:"flex-1 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white py-3 rounded-xl font-medium transition-colors",children:"New Scan"})})]})]}):null}function ZV(){const{t:i,i18n:e}=Gn(),{currentUser:t}=Ls(),s=qo(),a=yi(),l=j.useRef(null),[c,d]=j.useState("landing"),[p,g]=j.useState(""),[_,v]=j.useState({main:null,macro:null}),[T,x]=j.useState(!1),[k,z]=j.useState(null),[U,Q]=j.useState("");j.useEffect(()=>{if(a.state?.restoredResult){if(z(a.state.restoredResult),d("result"),t&&a.state.restoredImages){const ge=a.state.restoredImages,ze=a.state.restoredPlantType;v(ge),g(ze),lT(t.uid,ze,ge,a.state.restoredResult).then(()=>console.log("Restored analysis saved!")).catch($=>console.error("Auto-save failed on restore:",$))}window.history.replaceState({},document.title)}},[a.state,t]);const J=()=>{c==="input_type"&&d("capture_main")},ie=()=>{g(""),d("capture_main")},oe=()=>{l.current?.click()},de=async ge=>{const ze=ge.target.files?.[0];if(!ze)return;const $=new FileReader;$.onloadend=async()=>{const re=$.result;c==="capture_main"?(v(fe=>({...fe,main:re})),await pe(re,!1)):c==="capture_macro"&&(v(fe=>({...fe,macro:re})),await pe([_.main,re],!0))},$.readAsDataURL(ze)},pe=async(ge,ze)=>{x(!0),Q(""),d("analyzing");try{const $=await XV(ge,e.language,p);if($.status==="needs_details")Q(i("need_macro_photo")),d("capture_macro");else{if($.status==="error")throw new Error($.error);z($),d("result"),t&&lT(t.uid,p,{main:ge,macro:ze?ge[1]:null},$).catch(re=>console.error("Auto-save failed:",re))}}catch($){console.error($);const re=$.message||i("error_diagnosis_failed")||"Diagnosis failed.";Q(re),d("capture_main")}finally{x(!1)}},N=()=>{s("/login",{state:{pendingResult:k,pendingImages:_,pendingPlantType:p,returnUrl:"/"}})},C=()=>{v({main:null,macro:null}),g(""),z(null),Q(""),d("input_type"),l.current&&(l.current.value="")},R=()=>S.jsxs("div",{className:"flex flex-col items-center justify-center py-10 px-4 animate-fade-in w-full",children:[S.jsxs("div",{className:"text-center max-w-3xl mb-12",children:[S.jsx("span",{className:"inline-block px-4 py-1.5 rounded-full bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 font-bold text-sm mb-4",children:i("hero_badge")}),S.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-gray-900 dark:text-white mb-6 leading-tight",dangerouslySetInnerHTML:{__html:i("hero_title")}}),S.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-2xl mx-auto",children:i("hero_desc")}),S.jsxs("button",{onClick:()=>d("input_type"),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-10 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all text-lg flex items-center justify-center gap-3 mx-auto",children:[S.jsx(hi,{className:"w-6 h-6"}),i("start_diagnosis")]})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl",children:[{title:i("step_1_title"),desc:i("step_1_desc"),icon:Cp,color:"bg-blue-100 text-blue-600"},{title:i("step_2_title"),desc:i("step_2_desc"),icon:Qh,color:"bg-purple-100 text-purple-600"},{title:i("step_3_title"),desc:i("step_3_desc"),icon:hi,color:"bg-orange-100 text-orange-600"}].map((ge,ze)=>{const $=ge.icon;return S.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 flex flex-col items-center text-center hover:scale-105 transition-transform",children:[S.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${ge.color} dark:bg-opacity-20`,children:S.jsx($,{className:"w-8 h-8"})}),S.jsx("h3",{className:"font-bold text-xl mb-2 text-gray-900 dark:text-white",children:ge.title}),S.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:ge.desc})]},ze)})})]}),O=()=>S.jsxs("div",{className:"flex flex-col items-center w-full max-w-md animate-fade-in",children:[S.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-4 rounded-full mb-6 text-green-600 dark:text-green-400",children:S.jsx(hi,{className:"w-12 h-12"})}),S.jsx("h2",{className:"text-2xl font-bold mb-2 text-center",children:i("scan_step_1")}),S.jsx("p",{className:"text-gray-500 mb-6 text-center",children:i("what_plant_question")}),S.jsx("input",{type:"text",value:p,onChange:ge=>g(ge.target.value),placeholder:i("what_plant_placeholder"),className:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 mb-4 focus:ring-2 focus:ring-green-500 outline-none"}),S.jsxs("button",{onClick:J,disabled:!p.trim(),className:"w-full bg-green-600 text-white font-bold py-3 rounded-xl flex items-center justify-center gap-2 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[i("next_step")," ",S.jsx(vy,{className:"w-4 h-4"})]}),S.jsx("button",{onClick:ie,className:"mt-4 text-gray-500 text-sm hover:underline",children:i("skip")})]}),D=ge=>S.jsxs("div",{className:"flex flex-col items-center w-full max-w-md animate-fade-in",children:[S.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-4 rounded-full mb-6 text-blue-600 dark:text-blue-400",children:ge?S.jsx(Cp,{className:"w-12 h-12"}):S.jsx(Qh,{className:"w-12 h-12"})}),S.jsx("h2",{className:"text-2xl font-bold mb-2 text-center",children:i(ge?"take_macro_photo":"scan_step_2")}),U&&S.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-800 px-4 py-3 rounded-lg mb-6 text-sm flex items-start gap-2",children:[S.jsx(uV,{className:"w-5 h-5 flex-shrink-0"}),S.jsx("p",{children:U})]}),!U&&ge&&S.jsx("p",{className:"text-gray-500 mb-6 text-center",children:i("need_macro_photo")}),S.jsxs("button",{onClick:oe,className:"group bg-blue-600 hover:bg-blue-700 text-white font-bold py-5 px-10 rounded-2xl shadow-xl flex items-center justify-center gap-4 text-xl transition-all w-full",children:[S.jsx(Qh,{className:"w-8 h-8"}),i(ge?"take_macro_photo":"take_photo")]})]}),V=()=>S.jsxs("div",{className:"flex flex-col items-center justify-center py-20 animate-pulse",children:[S.jsxs("div",{className:"relative w-64 h-64 mb-8 rounded-2xl overflow-hidden shadow-2xl border-4 border-green-500",children:[_.main&&S.jsx("img",{src:_.main,alt:"Analyzing",className:"w-full h-full object-cover opacity-50"}),S.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:S.jsx(id,{className:"w-16 h-16 text-white animate-spin"})})]}),S.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white animate-bounce",children:i("analyzing")}),S.jsx("p",{className:"text-gray-500 mt-2",children:"AI Botanist is thinking..."})]}),I=()=>S.jsxs("div",{className:"w-full flex gap-8 flex-col md:flex-row items-start animate-fade-in relative",children:[S.jsx("div",{className:"w-full md:w-1/3 flex-shrink-0 z-0",children:S.jsxs("div",{className:"sticky top-4",children:[S.jsx("img",{src:_.main,alt:"Analyzed Plant",className:"w-full rounded-2xl shadow-lg border-2 border-green-100 dark:border-green-900"}),_.macro&&S.jsx("img",{src:_.macro,alt:"Macro Detail",className:"w-24 h-24 rounded-lg shadow border border-white absolute bottom-4 right-4"}),S.jsxs("button",{onClick:C,className:"mt-4 w-full bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-white font-semibold py-3 px-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm transition-all",children:[i("take_photo")," (Reset)"]})]})}),S.jsxs("div",{className:"w-full md:w-2/3 relative",children:[S.jsx("div",{className:`transition-all duration-500 ${t?"":"filter blur-md select-none pointer-events-none opacity-50"}`,children:S.jsx(JV,{result:k,onReset:C})}),!t&&S.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10 h-full min-h-[400px]",children:S.jsxs("div",{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm p-8 rounded-3xl shadow-2xl text-center max-w-sm border border-white/20",children:[S.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:S.jsx(Cp,{className:"w-8 h-8 text-green-600"})}),S.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:i("login_to_view")}),S.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:i("login_blur_text")}),S.jsx("button",{onClick:N,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-xl transition-all shadow-lg hover:shadow-green-500/25",children:i("login")})]})})]})]});return S.jsxs("div",{className:"flex flex-col items-center justify-center min-h-full max-w-5xl mx-auto w-full p-4",children:[S.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:l,onChange:de,className:"hidden"}),c==="landing"?R():S.jsxs(S.Fragment,{children:[c!=="result"&&S.jsxs("button",{onClick:()=>d("landing"),className:"self-start mb-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 flex items-center gap-2",children:[" ",i("back")]}),c==="input_type"&&O(),c==="capture_main"&&D(!1),c==="capture_macro"&&D(!0),c==="analyzing"&&V(),c==="result"&&I()]})]})}const e6="modulepreload",t6=function(i,e){return new URL(i,e).href},uT={},n6=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let g=function(_){return Promise.all(_.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};const c=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");a=g(t.map(_=>{if(_=t6(_,s),_ in uT)return;uT[_]=!0;const v=_.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(s)for(let k=c.length-1;k>=0;k--){const z=c[k];if(z.href===_&&(!v||z.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${_}"]${T}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":e6,v||(x.as="script"),x.crossOrigin="",x.href=_,p&&x.setAttribute("nonce",p),document.head.appendChild(x),v)return new Promise((k,z)=>{x.addEventListener("load",k),x.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${_}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},Vh=43200,cT=1440,hT=Symbol.for("constructDateFrom");function Ey(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&hT in i?i[hT](e):i instanceof Date?new i.constructor(e):new Date(e)}function ks(i,e){return Ey(i,i)}let i6={};function r6(){return i6}function fT(i){const e=ks(i),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+i-+t}function by(i,...e){const t=Ey.bind(null,i||e.find(s=>typeof s=="object"));return e.map(t)}function Xh(i,e){const t=+ks(i)-+ks(e);return t<0?-1:t>0?1:t}function s6(i){return Ey(i,Date.now())}function a6(i,e,t){const[s,a]=by(t?.in,i,e),l=s.getFullYear()-a.getFullYear(),c=s.getMonth()-a.getMonth();return l*12+c}function o6(i){return e=>{const s=(i?Math[i]:Math.trunc)(e);return s===0?0:s}}function l6(i,e){return+ks(i)-+ks(e)}function u6(i,e){const t=ks(i);return t.setHours(23,59,59,999),t}function c6(i,e){const t=ks(i),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function h6(i,e){const t=ks(i);return+u6(t)==+c6(t)}function f6(i,e,t){const[s,a,l]=by(t?.in,i,i,e),c=Xh(a,l),d=Math.abs(a6(a,l));if(d<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-c*d);let p=Xh(a,l)===-c;h6(s)&&d===1&&Xh(s,l)===1&&(p=!1);const g=c*(d-+p);return g===0?0:g}function d6(i,e,t){const s=l6(i,e)/1e3;return o6(t?.roundingMethod)(s)}const m6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},p6=(i,e,t)=>{let s;const a=m6[i];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function Do(i){return(e={})=>{const t=e.width?String(e.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}const g6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},y6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},v6={date:Do({formats:g6,defaultWidth:"full"}),time:Do({formats:y6,defaultWidth:"full"}),dateTime:Do({formats:_6,defaultWidth:"full"})},E6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},b6=(i,e,t,s)=>E6[i];function Bi(i){return(e,t)=>{const s=t?.context?String(t.context):"standalone";let a;if(s==="formatting"&&i.formattingValues){const c=i.defaultFormattingWidth||i.defaultWidth,d=t?.width?String(t.width):c;a=i.formattingValues[d]||i.formattingValues[c]}else{const c=i.defaultWidth,d=t?.width?String(t.width):i.defaultWidth;a=i.values[d]||i.values[c]}const l=i.argumentCallback?i.argumentCallback(e):e;return a[l]}}const T6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},w6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},S6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},A6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},x6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},R6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},C6=(i,e)=>{const t=Number(i),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},I6={ordinalNumber:C6,era:Bi({values:T6,defaultWidth:"wide"}),quarter:Bi({values:w6,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Bi({values:S6,defaultWidth:"wide"}),day:Bi({values:A6,defaultWidth:"wide"}),dayPeriod:Bi({values:x6,defaultWidth:"wide",formattingValues:R6,defaultFormattingWidth:"wide"})};function Hi(i){return(e,t={})=>{const s=t.width,a=s&&i.matchPatterns[s]||i.matchPatterns[i.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],d=s&&i.parsePatterns[s]||i.parsePatterns[i.defaultParseWidth],p=Array.isArray(d)?k6(d,v=>v.test(c)):N6(d,v=>v.test(c));let g;g=i.valueCallback?i.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const _=e.slice(c.length);return{value:g,rest:_}}}function N6(i,e){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&e(i[t]))return t}function k6(i,e){for(let t=0;t<i.length;t++)if(e(i[t]))return t}function US(i){return(e,t={})=>{const s=e.match(i.matchPattern);if(!s)return null;const a=s[0],l=e.match(i.parsePattern);if(!l)return null;let c=i.valueCallback?i.valueCallback(l[0]):l[0];c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}const D6=/^(\d+)(th|st|nd|rd)?/i,O6=/\d+/i,M6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},P6={any:[/^b/i,/^(a|c)/i]},L6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},V6={any:[/1/i,/2/i,/3/i,/4/i]},U6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},j6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},z6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},B6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},H6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},q6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},F6={ordinalNumber:US({matchPattern:D6,parsePattern:O6,valueCallback:i=>parseInt(i,10)}),era:Hi({matchPatterns:M6,defaultMatchWidth:"wide",parsePatterns:P6,defaultParseWidth:"any"}),quarter:Hi({matchPatterns:L6,defaultMatchWidth:"wide",parsePatterns:V6,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Hi({matchPatterns:U6,defaultMatchWidth:"wide",parsePatterns:j6,defaultParseWidth:"any"}),day:Hi({matchPatterns:z6,defaultMatchWidth:"wide",parsePatterns:B6,defaultParseWidth:"any"}),dayPeriod:Hi({matchPatterns:H6,defaultMatchWidth:"any",parsePatterns:q6,defaultParseWidth:"any"})},jS={code:"en-US",formatDistance:p6,formatLong:v6,formatRelative:b6,localize:I6,match:F6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $6(i,e,t){const s=r6(),a=t?.locale??s.locale??jS,l=2520,c=Xh(i,e);if(isNaN(c))throw new RangeError("Invalid time value");const d=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:c}),[p,g]=by(t?.in,...c>0?[e,i]:[i,e]),_=d6(g,p),v=(fT(g)-fT(p))/1e3,T=Math.round((_-v)/60);let x;if(T<2)return t?.includeSeconds?_<5?a.formatDistance("lessThanXSeconds",5,d):_<10?a.formatDistance("lessThanXSeconds",10,d):_<20?a.formatDistance("lessThanXSeconds",20,d):_<40?a.formatDistance("halfAMinute",0,d):_<60?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",1,d):T===0?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",T,d);if(T<45)return a.formatDistance("xMinutes",T,d);if(T<90)return a.formatDistance("aboutXHours",1,d);if(T<cT){const k=Math.round(T/60);return a.formatDistance("aboutXHours",k,d)}else{if(T<l)return a.formatDistance("xDays",1,d);if(T<Vh){const k=Math.round(T/cT);return a.formatDistance("xDays",k,d)}else if(T<Vh*2)return x=Math.round(T/Vh),a.formatDistance("aboutXMonths",x,d)}if(x=f6(g,p),x<12){const k=Math.round(T/Vh);return a.formatDistance("xMonths",k,d)}else{const k=x%12,z=Math.trunc(x/12);return k<3?a.formatDistance("aboutXYears",z,d):k<9?a.formatDistance("overXYears",z,d):a.formatDistance("almostXYears",z+1,d)}}function zS(i,e){return $6(i,s6(i),e)}const G6={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yarm dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yaklak 1 saat",other:"yaklak {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 gn",other:"{{count}} gn"},aboutXWeeks:{one:"yaklak 1 hafta",other:"yaklak {{count}} hafta"},xWeeks:{one:"1 hafta",other:"{{count}} hafta"},aboutXMonths:{one:"yaklak 1 ay",other:"yaklak {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yaklak 1 yl",other:"yaklak {{count}} yl"},xYears:{one:"1 yl",other:"{{count}} yl"},overXYears:{one:"1 yldan fazla",other:"{{count}} yldan fazla"},almostXYears:{one:"neredeyse 1 yl",other:"neredeyse {{count}} yl"}},K6=(i,e,t)=>{let s;const a=G6[i];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?s+" sonra":s+" nce":s},Y6={full:"d MMMM y EEEE",long:"d MMMM y",medium:"d MMM y",short:"dd.MM.yyyy"},Q6={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},X6={full:"{{date}} 'saat' {{time}}",long:"{{date}} 'saat' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},W6={date:Do({formats:Y6,defaultWidth:"full"}),time:Do({formats:Q6,defaultWidth:"full"}),dateTime:Do({formats:X6,defaultWidth:"full"})},J6={lastWeek:"'geen hafta' eeee 'saat' p",yesterday:"'dn saat' p",today:"'bugn saat' p",tomorrow:"'yarn saat' p",nextWeek:"eeee 'saat' p",other:"P"},Z6=(i,e,t,s)=>J6[i],e3={narrow:["M","MS"],abbreviated:["M","MS"],wide:["Milattan nce","Milattan Sonra"]},t3={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:["lk eyrek","kinci eyrek","nc eyrek","Son eyrek"]},n3={narrow:["O","","M","N","M","H","T","A","E","E","K","A"],abbreviated:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],wide:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"]},i3={narrow:["P","P","S","","P","C","C"],short:["Pz","Pt","Sa","a","Pe","Cu","Ct"],abbreviated:["Paz","Pzt","Sal","ar","Per","Cum","Cts"],wide:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"]},r3={narrow:{am:"",pm:"s",midnight:"gy",noon:"",morning:"sa",afternoon:"s",evening:"ak",night:"ge"},abbreviated:{am:"",pm:"S",midnight:"gece yars",noon:"le",morning:"sabah",afternoon:"leden sonra",evening:"akam",night:"gece"},wide:{am:"..",pm:".S.",midnight:"gece yars",noon:"le",morning:"sabah",afternoon:"leden sonra",evening:"akam",night:"gece"}},s3={narrow:{am:"",pm:"s",midnight:"gy",noon:"",morning:"sa",afternoon:"s",evening:"ak",night:"ge"},abbreviated:{am:"",pm:"S",midnight:"gece yars",noon:"len",morning:"sabahleyin",afternoon:"leden sonra",evening:"akamleyin",night:"geceleyin"},wide:{am:"..",pm:".s.",midnight:"gece yars",noon:"len",morning:"sabahleyin",afternoon:"leden sonra",evening:"akamleyin",night:"geceleyin"}},a3=(i,e)=>Number(i)+".",o3={ordinalNumber:a3,era:Bi({values:e3,defaultWidth:"wide"}),quarter:Bi({values:t3,defaultWidth:"wide",argumentCallback:i=>Number(i)-1}),month:Bi({values:n3,defaultWidth:"wide"}),day:Bi({values:i3,defaultWidth:"wide"}),dayPeriod:Bi({values:r3,defaultWidth:"wide",formattingValues:s3,defaultFormattingWidth:"wide"})},l3=/^(\d+)(\.)?/i,u3=/\d+/i,c3={narrow:/^(m|ms)/i,abbreviated:/^(m|ms)/i,wide:/^(milattan nce|milattan sonra)/i},h3={any:[/(^m|^milattan nce)/i,/(^ms|^milattan sonra)/i]},f3={narrow:/^[1234]/i,abbreviated:/^[1234]/i,wide:/^((i|)lk|(i|)kinci|nc|son) eyrek/i},d3={any:[/1/i,/2/i,/3/i,/4/i],abbreviated:[/1/i,/2/i,/3/i,/4/i],wide:[/^(i|)lk eyrek/i,/(i|)kinci eyrek/i,/nc eyrek/i,/son eyrek/i]},m3={narrow:/^[omnhtaek]/i,abbreviated:/^(oca|ub|mar|nis|may|haz|tem|au|eyl|eki|kas|ara)/i,wide:/^(ocak|ubat|mart|nisan|mays|haziran|temmuz|austos|eyll|ekim|kasm|aralk)/i},p3={narrow:[/^o/i,/^/i,/^m/i,/^n/i,/^m/i,/^h/i,/^t/i,/^a/i,/^e/i,/^e/i,/^k/i,/^a/i],any:[/^o/i,/^/i,/^mar/i,/^n/i,/^may/i,/^h/i,/^t/i,/^a/i,/^ey/i,/^ek/i,/^k/i,/^ar/i]},g3={narrow:/^[psc]/i,short:/^(pz|pt|sa|a|pe|cu|ct)/i,abbreviated:/^(paz|pzt|sal|ar|per|cum|cts)/i,wide:/^(pazar(?!tesi)|pazartesi|sal|aramba|perembe|cuma(?!rtesi)|cumartesi)/i},y3={narrow:[/^p/i,/^p/i,/^s/i,/^/i,/^p/i,/^c/i,/^c/i],any:[/^pz/i,/^pt/i,/^sa/i,/^a/i,/^pe/i,/^cu/i,/^ct/i],wide:[/^pazar(?!tesi)/i,/^pazartesi/i,/^sal/i,/^aramba/i,/^perembe/i,/^cuma(?!rtesi)/i,/^cumartesi/i]},_3={narrow:/^(|s|gy||sa|s|ak|ge)/i,any:/^(\.?\s?[s]\.?|leden sonra|gece yars|le|(sabah||akam|gece)(leyin))/i},v3={any:{am:/^\.?\.?/i,pm:/^\.?s\.?/i,midnight:/^(gy|gece yars)/i,noon:/^/i,morning:/^sa/i,afternoon:/^leden sonra/i,evening:/^ak/i,night:/^ge/i}},E3={ordinalNumber:US({matchPattern:l3,parsePattern:u3,valueCallback:function(i){return parseInt(i,10)}}),era:Hi({matchPatterns:c3,defaultMatchWidth:"wide",parsePatterns:h3,defaultParseWidth:"any"}),quarter:Hi({matchPatterns:f3,defaultMatchWidth:"wide",parsePatterns:d3,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Hi({matchPatterns:m3,defaultMatchWidth:"wide",parsePatterns:p3,defaultParseWidth:"any"}),day:Hi({matchPatterns:g3,defaultMatchWidth:"wide",parsePatterns:y3,defaultParseWidth:"any"}),dayPeriod:Hi({matchPatterns:_3,defaultMatchWidth:"any",parsePatterns:v3,defaultParseWidth:"any"})},b3={code:"tr",formatDistance:K6,formatLong:W6,formatRelative:Z6,localize:o3,match:E3,options:{weekStartsOn:1,firstWeekContainsDate:1}};function T3({post:i,onUserClick:e,onMessageClick:t}){const{i18n:s}=Gn(),a=s.language==="tr"?b3:jS;if(!i)return null;const l=i.createdAt?.seconds?new Date(i.createdAt.seconds*1e3):new Date;return S.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-4",children:[S.jsxs("div",{className:"p-4 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>e&&e(i.userId),children:[S.jsx("img",{src:i.userAvatar||"https://ui-avatars.com/api/?name=User&background=random",alt:i.userName,className:"w-10 h-10 rounded-full object-cover border border-gray-200"}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 leading-tight hover:underline",children:i.userName||"Anonymous"}),S.jsx("span",{className:"text-xs text-gray-500",children:zS(l,{addSuffix:!0,locale:a})})]})]}),S.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:S.jsx(mV,{className:"w-5 h-5"})})]}),S.jsxs("div",{className:"px-4 pb-2",children:[S.jsx("h3",{className:"font-bold text-lg text-green-700 dark:text-green-400 mb-1",children:i.diseaseName}),S.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed mb-3",children:i.description})]}),i.imageUrl&&S.jsx("div",{className:"w-full h-64 sm:h-80 bg-gray-100 dark:bg-gray-900 overflow-hidden",children:S.jsx("img",{src:i.imageUrl,alt:i.diseaseName,className:"w-full h-full object-cover",loading:"lazy"})}),S.jsxs("div",{className:"p-4 flex items-center justify-between border-t border-gray-100 dark:border-gray-700",children:[S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-red-500 transition-colors",children:[S.jsx(OS,{className:"w-5 h-5"}),S.jsx("span",{className:"text-sm font-medium",children:"Like"})]}),S.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-blue-500 transition-colors",onClick:()=>t&&t(i.userId),children:[S.jsx(MS,{className:"w-5 h-5"}),S.jsx("span",{className:"text-sm font-medium",children:"Message"})]})]}),S.jsx("button",{className:"text-gray-500 hover:text-green-600 transition-colors",children:S.jsx(MV,{className:"w-5 h-5"})})]})]})}function w3(){const{t:i}=Gn(),{currentUser:e}=Ls(),t=qo(),[s,a]=j.useState([]),[l,c]=j.useState(!0),[d,p]=j.useState("All"),g=["All","Tomato","Rose","Pepper","Cucumber","Unknown"];j.useEffect(()=>{let T;T=Nu(Ns(Xi,"posts"),ku("createdAt","desc"),rg(50));const x=ed(T,k=>{const z=k.docs.map(Q=>({id:Q.id,...Q.data()})),U=d==="All"?z:z.filter(Q=>Q.plantType?.toLowerCase()===d.toLowerCase());a(U),c(!1)},k=>{console.error("Error fetching posts:",k),c(!1)});return()=>x()},[d]);const _=T=>{console.log("Go to user:",T)},v=async T=>{if(!e){alert("Please login to message users");return}const x=[e.uid,T].sort().join("_");try{const{doc:k,setDoc:z,getDoc:U,serverTimestamp:Q}=await n6(async()=>{const{doc:ie,setDoc:oe,getDoc:de,serverTimestamp:pe}=await Promise.resolve().then(()=>rM);return{doc:ie,setDoc:oe,getDoc:de,serverTimestamp:pe}},[],import.meta.url),J=k(Xi,"chats",x);t(`/messages/${x}`)}catch(k){console.error("Error starting chat",k)}};return S.jsxs("div",{className:"max-w-2xl mx-auto w-full",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[S.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i("community")}),S.jsx("select",{value:d,onChange:T=>p(T.target.value),className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-1.5 text-sm font-medium outline-none focus:ring-2 focus:ring-green-500",children:g.map(T=>S.jsx("option",{value:T,children:T},T))})]}),l?S.jsx("div",{className:"flex justify-center py-12",children:S.jsx(id,{className:"w-8 h-8 text-green-600 animate-spin"})}):S.jsx("div",{className:"space-y-4",children:s.length===0?S.jsx("div",{className:"text-center py-12 text-gray-500",children:S.jsx("p",{children:"No posts yet. Be the first to share your plants!"})}):s.map(T=>S.jsx(T3,{post:T,onUserClick:_,onMessageClick:v},T.id))})]})}function S3(){const{currentUser:i}=Ls(),{t:e}=Gn(),[t,s]=j.useState([]),[a,l]=j.useState(!0);return j.useEffect(()=>{if(!i)return;const c=Nu(Ns(Xi,"chats"),cy("participants","array-contains",i.uid),ku("updatedAt","desc")),d=ed(c,p=>{const g=p.docs.map(_=>{const v=_.data(),T=v.participants.find(k=>k!==i.uid),x=v.participantData?.[T]||{name:"Unknown",avatar:null};return{id:_.id,...v,otherUser:x}});s(g),l(!1)},p=>{console.error("Chat Query Error",p),l(!1)});return()=>d()},[i]),a?S.jsx("div",{className:"flex justify-center p-8",children:S.jsx(id,{className:"w-8 h-8 animate-spin text-green-600"})}):S.jsxs("div",{className:"max-w-2xl mx-auto w-full",children:[S.jsx("h1",{className:"text-2xl font-bold mb-6 px-4",children:e("messages")}),S.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 divide-y divide-gray-100 dark:divide-gray-700",children:t.length===0?S.jsx("div",{className:"p-8 text-center text-gray-500",children:"No messages yet. Start a chat from the Community feed!"}):t.map(c=>S.jsxs(qi,{to:`/messages/${c.id}`,className:"flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[S.jsx("img",{src:c.otherUser.avatar||"https://ui-avatars.com/api/?name="+c.otherUser.name,alt:c.otherUser.name,className:"w-12 h-12 rounded-full object-cover"}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[S.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:c.otherUser.name}),c.updatedAt&&S.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:zS(new Date(c.updatedAt.seconds*1e3),{addSuffix:!0})})]}),S.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:c.lastMessage||"Sent an image"})]})]},c.id))})]})}function A3(){const{chatId:i}=aR(),{currentUser:e}=Ls(),{t}=Gn(),s=qo(),a=j.useRef(null),[l,c]=j.useState([]),[d,p]=j.useState(""),[g,_]=j.useState(!0);j.useEffect(()=>{if(!i)return;const T=ed(Ns(Xi,"chats",i,"messages"),x=>{const k=x.docs.map(z=>({id:z.id,...z.data()})).sort((z,U)=>(z.createdAt?.seconds||0)-(U.createdAt?.seconds||0));c(k),_(!1),setTimeout(()=>a.current?.scrollIntoView({behavior:"smooth"}),100)});return()=>T()},[i]);const v=async T=>{if(T.preventDefault(),!d.trim())return;const x=d;p("");try{await fy(Ns(Xi,"chats",i,"messages"),{text:x,senderId:e.uid,createdAt:vf()}),await rS(Gf(Xi,"chats",i),{lastMessage:x,updatedAt:vf()})}catch(k){console.error("Failed to send",k)}};return S.jsxs("div",{className:"flex flex-col h-[calc(100vh-theme(spacing.32))] md:h-[calc(100vh-theme(spacing.16))] max-w-2xl mx-auto w-full bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[g&&S.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-900/80 z-50 flex items-center justify-center",children:S.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}),S.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex items-center gap-3 bg-white dark:bg-gray-800 z-10",children:[S.jsx("button",{onClick:()=>s("/messages"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:S.jsx(sV,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),S.jsx("h2",{className:"font-bold text-gray-900 dark:text-gray-100",children:"Chat"})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900/50",children:[l.map(T=>{const x=T.senderId===e.uid;return S.jsx("div",{className:`flex ${x?"justify-end":"justify-start"}`,children:S.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${x?"bg-green-600 text-white rounded-br-none":"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-bl-none shadow-sm"}`,children:T.text})},T.id)}),S.jsx("div",{ref:a})]}),S.jsxs("form",{onSubmit:v,className:"p-4 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 flex gap-2",children:[S.jsx("input",{type:"text",value:d,onChange:T=>p(T.target.value),placeholder:t("type_msg"),className:"flex-1 px-4 py-2 rounded-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500"}),S.jsx("button",{type:"submit",disabled:!d.trim(),className:"p-3 bg-green-600 hover:bg-green-700 text-white rounded-full transition-colors disabled:opacity-50",children:S.jsx(DV,{className:"w-5 h-5"})})]})]})}function x3(){const{t:i}=Gn(),{currentUser:e}=Ls(),[t,s]=j.useState(e?.displayName||""),[a,l]=j.useState(e?.photoURL||""),[c,d]=j.useState(!1),[p,g]=j.useState(""),_=j.useRef(null),v=async x=>{const k=x.target.files[0];if(!k)return;const z=og(lg,`avatars/${e.uid}`);d(!0);try{await h4(z,k);const U=await ag(z);l(U),await jp(zo.currentUser,{photoURL:U}),g("Avatar updated!")}catch(U){console.error(U),g("Error uploading avatar.")}finally{d(!1)}},T=async x=>{if(x.preventDefault(),!!t.trim()){d(!0),g("");try{await jp(zo.currentUser,{displayName:t}),g("Profile updated successfully!")}catch{g("Failed to update profile.")}finally{d(!1)}}};return e?S.jsxs("div",{className:"max-w-md mx-auto w-full",children:[S.jsx("h1",{className:"text-2xl font-bold mb-6",children:i("profile")}),S.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[S.jsxs("div",{className:"flex flex-col items-center mb-8",children:[S.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>_.current?.click(),children:[S.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-white dark:border-gray-700 shadow-lg bg-gray-100",children:a?S.jsx("img",{src:a,alt:"Profile",className:"w-full h-full object-cover"}):S.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:S.jsx(PS,{className:"w-12 h-12"})})}),S.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:S.jsx(Qh,{className:"w-8 h-8 text-white"})}),c&&S.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-black/50 rounded-full flex items-center justify-center",children:S.jsx(id,{className:"w-8 h-8 animate-spin text-green-600"})})]}),S.jsx("input",{type:"file",ref:_,onChange:v,className:"hidden",accept:"image/*"}),S.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Tap to change avatar"})]}),S.jsxs("form",{onSubmit:T,className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Display Name"}),S.jsx("input",{type:"text",value:t,onChange:x=>s(x.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),S.jsx("input",{type:"email",value:e.email,disabled:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-500 cursor-not-allowed"})]}),p&&S.jsx("div",{className:`text-center text-sm ${p.includes("Error")?"text-red-500":"text-green-600"}`,children:p}),S.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg disabled:opacity-50",children:[c?"Saving...":"Save Changes",!c&&S.jsx(IV,{className:"w-5 h-5"})]})]})]})]}):S.jsx("div",{className:"p-8 text-center bg-white dark:bg-gray-800 rounded-xl",children:"Please login."})}function R3(){const{t:i,i18n:e}=Gn(),t={en:{intro:"This project aims to facilitate the detection and control of agricultural pests using an AI-based system.",sections:[{title:"Global Agriculture Network",text:"PlantAI is an advanced AI assistant developed to increase agricultural productivity and minimize crop losses.",icon:hi},{title:"Collective Intelligence",text:"Not just a diagnostic tool, but a massive community of farmers.",icon:sT},{title:"Our Mission",text:"We are putting technology in everyone's pocket for sustainable agriculture.",icon:oT}]},tr:{intro:"Bu proje, tarm zararllarnn tespitini ve onlarla mcadeleyi kolaylatrmak amacyla yapay zeka tabanl bir sistem gelitirilmesini kapsamaktadr.",sections:[{title:"Kresel Tarm A",text:"PlantAI, tarmsal verimlilii artrmak ve rn kayplarn en aza indirmek iin gelitirilmi gelimi bir yapay zeka asistandr.",icon:hi},{title:"Kolektif Bilgi Gc",text:"Sadece bir tehis arac deil, ayn zamanda dev bir ifti topluluudur.",icon:sT},{title:"Misyonumuz",text:"Srdrlebilir tarm iin teknolojiyi herkesin cebine sokuyoruz.",icon:oT}]}},s=t[e.language]||t.en;return S.jsxs("div",{className:"max-w-2xl mx-auto w-full pb-8",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full mb-4",children:S.jsx(OS,{className:"w-8 h-8 text-green-600 dark:text-green-500"})}),S.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:i("about")}),S.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-300 italic",children:['"',s.intro,'"']})]}),S.jsx("div",{className:"space-y-6",children:s.sections.map((a,l)=>{const c=a.icon;return S.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex gap-4 items-start hover:shadow-md transition-shadow",children:[S.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-xl",children:S.jsx(c,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-bold text-xl text-gray-900 dark:text-white mb-2",children:a.title}),S.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:a.text})]})]},l)})})]})}function C3(){const{t:i}=Gn(),{currentUser:e}=Ls(),[t,s]=j.useState([]),[a,l]=j.useState(!0),[c,d]=j.useState(null),p=_=>{d(v=>v===_?null:_)};j.useEffect(()=>{e&&g()},[e]);const g=async()=>{l(!0);const _=await WV(e.uid);s(_),l(!1)};return a?S.jsx("div",{className:"p-8 text-center",children:i("loading")||"Loading..."}):t.length===0?S.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center text-gray-500",children:[S.jsx(hi,{className:"w-16 h-16 mb-4 opacity-50"}),S.jsx("h2",{className:"text-xl font-bold mb-2",children:"No Analyses Yet"}),S.jsx("p",{className:"mb-6",children:"Start diagnosing your plants to track their health here."}),S.jsx(qi,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-xl font-bold hover:bg-green-700",children:"Start Diagnosis"})]}):S.jsxs("div",{className:"max-w-4xl mx-auto w-full pb-20",children:[S.jsxs("h1",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[S.jsx(dg,{className:"w-6 h-6 text-green-600"}),"My Plant Analyses"]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(_=>S.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden hover:shadow-md transition-shadow",children:[S.jsxs("div",{className:"relative h-48 cursor-pointer",onClick:()=>p(_.id),children:[S.jsx("img",{src:_.mainImage,alt:_.plantType,className:"w-full h-full object-cover"}),S.jsx("div",{className:"absolute top-2 right-2 bg-white/90 dark:bg-black/50 backdrop-blur px-2 py-1 rounded-lg text-xs font-bold shadow-sm",children:new Date(_.createdAt?.seconds*1e3).toLocaleDateString()})]}),S.jsxs("div",{className:"p-4",children:[S.jsxs("div",{className:"flex justify-between items-start mb-2",children:[S.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white capitalize",children:_.plantType||"Unknown Plant"}),S.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${_.result.status==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:_.result.disease_name||"Healthy"})]}),S.jsxs("div",{className:`transition-all duration-300 ${c===_.id?"":"line-clamp-2"}`,children:[S.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:_.result.description}),c===_.id&&_.result.treatment_steps&&S.jsxs("div",{className:"mt-2 p-3 bg-green-50 dark:bg-green-900/10 rounded-lg",children:[S.jsx("h4",{className:"font-bold text-xs text-green-800 dark:text-green-400 mb-1 uppercase",children:"Treatment"}),S.jsx("ul",{className:"list-disc list-inside text-sm text-gray-700 dark:text-gray-300 space-y-1",children:_.result.treatment_steps.map((v,T)=>S.jsx("li",{children:v},T))}),S.jsx("button",{className:"mt-4 w-full bg-green-600 text-white py-2 rounded-lg text-sm font-bold opacity-50 cursor-not-allowed",title:"Feedback coming soon",children:"Add Update Photo (Coming Soon)"})]})]}),S.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 dark:border-gray-700 pt-4 mt-2",children:[S.jsxs("div",{className:"flex items-center gap-1 text-xs text-orange-600 font-medium",children:[S.jsx(dg,{className:"w-4 h-4"}),S.jsx("span",{children:"Checkup: 7 days"})]}),S.jsxs("button",{onClick:()=>p(_.id),className:"text-green-600 font-bold text-sm flex items-center gap-1 hover:text-green-700",children:[c===_.id?"Hide Details":"View Details"," ",S.jsx(vy,{className:`w-4 h-4 transition-transform ${c===_.id?"rotate-90":""}`})]})]})]})]},_.id))})]})}function I3(){return S.jsxs(TR,{children:[S.jsxs(si,{path:"/",element:S.jsx(GV,{}),children:[S.jsx(si,{index:!0,element:S.jsx(ZV,{})}),S.jsx(si,{path:"community",element:S.jsx(w3,{})}),S.jsx(si,{path:"messages",element:S.jsx(S3,{})}),S.jsx(si,{path:"messages/:chatId",element:S.jsx(A3,{})}),S.jsx(si,{path:"analyses",element:S.jsx(C3,{})}),S.jsx(si,{path:"profile",element:S.jsx(x3,{})}),S.jsx(si,{path:"about",element:S.jsx(R3,{})})]}),S.jsx(si,{path:"/login",element:S.jsx(KV,{})}),S.jsx(si,{path:"/register",element:S.jsx(YV,{})})]})}xx.createRoot(document.getElementById("root")).render(S.jsx(j.StrictMode,{children:S.jsx($R,{children:S.jsx(y4,{children:S.jsx(I3,{})})})}));
